import{j as e,N as xi,C as up,a as Ni}from"./bootstrap-Bhj38lrG.js";import{b as mp,c as fp,r as p,u as ns,N as Rm,L as He,d as hp,e as Br,R as pp,f as Yt,h as gp,B as xp,i as jp,j as Ze}from"./vendor-vT5NdfSc.js";import{G as $a}from"./icons-okTEACyS.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))u(b);new MutationObserver(b=>{for(const g of b)if(g.type==="childList")for(const h of g.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function f(b){const g={};return b.integrity&&(g.integrity=b.integrity),b.referrerPolicy&&(g.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?g.credentials="include":b.crossOrigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function u(b){if(b.ep)return;b.ep=!0;const g=f(b);fetch(b.href,g)}})();var zr={exports:{}},Zl={},Ur={exports:{}},Lr={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function vp(){return Mm||(Mm=1,function(c){function o(S,_){var $=S.length;S.push(_);e:for(;0<$;){var ie=$-1>>>1,W=S[ie];if(0<b(W,_))S[ie]=_,S[$]=W,$=ie;else break e}}function f(S){return S.length===0?null:S[0]}function u(S){if(S.length===0)return null;var _=S[0],$=S.pop();if($!==_){S[0]=$;e:for(var ie=0,W=S.length,y=W>>>1;ie<y;){var X=2*(ie+1)-1,ne=S[X],oe=X+1,ee=S[oe];if(0>b(ne,$))oe<W&&0>b(ee,ne)?(S[ie]=ee,S[oe]=$,ie=oe):(S[ie]=ne,S[X]=$,ie=X);else if(oe<W&&0>b(ee,$))S[ie]=ee,S[oe]=$,ie=oe;else break e}}return _}function b(S,_){var $=S.sortIndex-_.sortIndex;return $!==0?$:S.id-_.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var g=performance;c.unstable_now=function(){return g.now()}}else{var h=Date,A=h.now();c.unstable_now=function(){return h.now()-A}}var D=[],k=[],M=1,E=null,C=3,L=!1,P=!1,x=!1,z=!1,v=typeof setTimeout=="function"?setTimeout:null,d=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function m(S){for(var _=f(k);_!==null;){if(_.callback===null)u(k);else if(_.startTime<=S)u(k),_.sortIndex=_.expirationTime,o(D,_);else break;_=f(k)}}function B(S){if(x=!1,m(S),!P)if(f(D)!==null)P=!0,q||(q=!0,G());else{var _=f(k);_!==null&&O(B,_.startTime-S)}}var q=!1,T=-1,w=5,R=-1;function U(){return z?!0:!(c.unstable_now()-R<w)}function F(){if(z=!1,q){var S=c.unstable_now();R=S;var _=!0;try{e:{P=!1,x&&(x=!1,d(T),T=-1),L=!0;var $=C;try{a:{for(m(S),E=f(D);E!==null&&!(E.expirationTime>S&&U());){var ie=E.callback;if(typeof ie=="function"){E.callback=null,C=E.priorityLevel;var W=ie(E.expirationTime<=S);if(S=c.unstable_now(),typeof W=="function"){E.callback=W,m(S),_=!0;break a}E===f(D)&&u(D),m(S)}else u(D);E=f(D)}if(E!==null)_=!0;else{var y=f(k);y!==null&&O(B,y.startTime-S),_=!1}}break e}finally{E=null,C=$,L=!1}_=void 0}}finally{_?G():q=!1}}}var G;if(typeof N=="function")G=function(){N(F)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Y=ae.port2;ae.port1.onmessage=F,G=function(){Y.postMessage(null)}}else G=function(){v(F,0)};function O(S,_){T=v(function(){S(c.unstable_now())},_)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(S){S.callback=null},c.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<S?Math.floor(1e3/S):5},c.unstable_getCurrentPriorityLevel=function(){return C},c.unstable_next=function(S){switch(C){case 1:case 2:case 3:var _=3;break;default:_=C}var $=C;C=_;try{return S()}finally{C=$}},c.unstable_requestPaint=function(){z=!0},c.unstable_runWithPriority=function(S,_){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var $=C;C=S;try{return _()}finally{C=$}},c.unstable_scheduleCallback=function(S,_,$){var ie=c.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ie+$:ie):$=ie,S){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=$+W,S={id:M++,callback:_,priorityLevel:S,startTime:$,expirationTime:W,sortIndex:-1},$>ie?(S.sortIndex=$,o(k,S),f(D)===null&&S===f(k)&&(x?(d(T),T=-1):x=!0,O(B,$-ie))):(S.sortIndex=W,o(D,S),P||L||(P=!0,q||(q=!0,G()))),S},c.unstable_shouldYield=U,c.unstable_wrapCallback=function(S){var _=C;return function(){var $=C;C=_;try{return S.apply(this,arguments)}finally{C=$}}}}(Lr)),Lr}var Pm;function Np(){return Pm||(Pm=1,Ur.exports=vp()),Ur.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm;function bp(){if(zm)return Zl;zm=1;var c=Np(),o=mp(),f=fp();function u(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)s+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function g(a){var s=a,t=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(t=s.return),a=s.return;while(a)}return s.tag===3?t:null}function h(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function A(a){if(g(a)!==a)throw Error(u(188))}function D(a){var s=a.alternate;if(!s){if(s=g(a),s===null)throw Error(u(188));return s!==a?null:a}for(var t=a,l=s;;){var n=t.return;if(n===null)break;var i=n.alternate;if(i===null){if(l=n.return,l!==null){t=l;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===t)return A(n),a;if(i===l)return A(n),s;i=i.sibling}throw Error(u(188))}if(t.return!==l.return)t=n,l=i;else{for(var r=!1,j=n.child;j;){if(j===t){r=!0,t=n,l=i;break}if(j===l){r=!0,l=n,t=i;break}j=j.sibling}if(!r){for(j=i.child;j;){if(j===t){r=!0,t=i,l=n;break}if(j===l){r=!0,l=i,t=n;break}j=j.sibling}if(!r)throw Error(u(189))}}if(t.alternate!==l)throw Error(u(190))}if(t.tag!==3)throw Error(u(188));return t.stateNode.current===t?a:s}function k(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=k(a),s!==null)return s;a=a.sibling}return null}var M=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),L=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),d=Symbol.for("react.consumer"),N=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function G(a){return a===null||typeof a!="object"?null:(a=F&&a[F]||a["@@iterator"],typeof a=="function"?a:null)}var ae=Symbol.for("react.client.reference");function Y(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ae?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case P:return"Fragment";case z:return"Profiler";case x:return"StrictMode";case B:return"Suspense";case q:return"SuspenseList";case R:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case L:return"Portal";case N:return(a.displayName||"Context")+".Provider";case d:return(a._context.displayName||"Context")+".Consumer";case m:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case T:return s=a.displayName||null,s!==null?s:Y(a.type)||"Memo";case w:s=a._payload,a=a._init;try{return Y(a(s))}catch{}}return null}var O=Array.isArray,S=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_=f.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},ie=[],W=-1;function y(a){return{current:a}}function X(a){0>W||(a.current=ie[W],ie[W]=null,W--)}function ne(a,s){W++,ie[W]=a.current,a.current=s}var oe=y(null),ee=y(null),ce=y(null),ue=y(null);function xe(a,s){switch(ne(ce,s),ne(ee,a),ne(oe,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?im(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=im(s),a=cm(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}X(oe),ne(oe,a)}function ve(){X(oe),X(ee),X(ce)}function ze(a){a.memoizedState!==null&&ne(ue,a);var s=oe.current,t=cm(s,a.type);s!==t&&(ne(ee,a),ne(oe,t))}function Qe(a){ee.current===a&&(X(oe),X(ee)),ue.current===a&&(X(ue),$l._currentValue=$)}var aa=Object.prototype.hasOwnProperty,Ee=c.unstable_scheduleCallback,Ge=c.unstable_cancelCallback,cs=c.unstable_shouldYield,Ps=c.unstable_requestPaint,re=c.unstable_now,Sa=c.unstable_getCurrentPriorityLevel,lt=c.unstable_ImmediatePriority,Ma=c.unstable_UserBlockingPriority,nt=c.unstable_NormalPriority,qr=c.unstable_LowPriority,sn=c.unstable_IdlePriority,zs=c.log,Si=c.unstable_setDisableYieldValue,Kt=null,ha=null;function rs(a){if(typeof zs=="function"&&Si(a),ha&&typeof ha.setStrictMode=="function")try{ha.setStrictMode(Kt,a)}catch{}}var pa=Math.clz32?Math.clz32:Qm,Zm=Math.log,Xm=Math.LN2;function Qm(a){return a>>>=0,a===0?32:31-(Zm(a)/Xm|0)|0}var tn=256,ln=4194304;function Us(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function nn(a,s,t){var l=a.pendingLanes;if(l===0)return 0;var n=0,i=a.suspendedLanes,r=a.pingedLanes;a=a.warmLanes;var j=l&134217727;return j!==0?(l=j&~i,l!==0?n=Us(l):(r&=j,r!==0?n=Us(r):t||(t=j&~a,t!==0&&(n=Us(t))))):(j=l&~i,j!==0?n=Us(j):r!==0?n=Us(r):t||(t=l&~a,t!==0&&(n=Us(t)))),n===0?0:s!==0&&s!==n&&(s&i)===0&&(i=n&-n,t=s&-s,i>=t||i===32&&(t&4194048)!==0)?s:n}function Jt(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function Km(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hr(){var a=tn;return tn<<=1,(tn&4194048)===0&&(tn=256),a}function $r(){var a=ln;return ln<<=1,(ln&62914560)===0&&(ln=4194304),a}function Ei(a){for(var s=[],t=0;31>t;t++)s.push(a);return s}function Wt(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Jm(a,s,t,l,n,i){var r=a.pendingLanes;a.pendingLanes=t,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=t,a.entangledLanes&=t,a.errorRecoveryDisabledLanes&=t,a.shellSuspendCounter=0;var j=a.entanglements,I=a.expirationTimes,Q=a.hiddenUpdates;for(t=r&~t;0<t;){var se=31-pa(t),le=1<<se;j[se]=0,I[se]=-1;var K=Q[se];if(K!==null)for(Q[se]=null,se=0;se<K.length;se++){var J=K[se];J!==null&&(J.lane&=-536870913)}t&=~le}l!==0&&Vr(a,l,0),i!==0&&n===0&&a.tag!==0&&(a.suspendedLanes|=i&~(r&~s))}function Vr(a,s,t){a.pendingLanes|=s,a.suspendedLanes&=~s;var l=31-pa(s);a.entangledLanes|=s,a.entanglements[l]=a.entanglements[l]|1073741824|t&4194090}function Gr(a,s){var t=a.entangledLanes|=s;for(a=a.entanglements;t;){var l=31-pa(t),n=1<<l;n&s|a[l]&s&&(a[l]|=s),t&=~n}}function wi(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Di(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Fr(){var a=_.p;return a!==0?a:(a=window.event,a===void 0?32:Dm(a.type))}function Wm(a,s){var t=_.p;try{return _.p=a,s()}finally{_.p=t}}var os=Math.random().toString(36).slice(2),na="__reactFiber$"+os,oa="__reactProps$"+os,it="__reactContainer$"+os,Ci="__reactEvents$"+os,ef="__reactListeners$"+os,af="__reactHandles$"+os,Yr="__reactResources$"+os,el="__reactMarker$"+os;function Ai(a){delete a[na],delete a[oa],delete a[Ci],delete a[ef],delete a[af]}function ct(a){var s=a[na];if(s)return s;for(var t=a.parentNode;t;){if(s=t[it]||t[na]){if(t=s.alternate,s.child!==null||t!==null&&t.child!==null)for(a=um(a);a!==null;){if(t=a[na])return t;a=um(a)}return s}a=t,t=a.parentNode}return null}function rt(a){if(a=a[na]||a[it]){var s=a.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return a}return null}function al(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(u(33))}function ot(a){var s=a[Yr];return s||(s=a[Yr]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ke(a){a[el]=!0}var Zr=new Set,Xr={};function Ls(a,s){dt(a,s),dt(a+"Capture",s)}function dt(a,s){for(Xr[a]=s,a=0;a<s.length;a++)Zr.add(s[a])}var sf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qr={},Kr={};function tf(a){return aa.call(Kr,a)?!0:aa.call(Qr,a)?!1:sf.test(a)?Kr[a]=!0:(Qr[a]=!0,!1)}function cn(a,s,t){if(tf(s))if(t===null)a.removeAttribute(s);else{switch(typeof t){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+t)}}function rn(a,s,t){if(t===null)a.removeAttribute(s);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+t)}}function Va(a,s,t,l){if(l===null)a.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(t);return}a.setAttributeNS(s,t,""+l)}}var ki,Jr;function ut(a){if(ki===void 0)try{throw Error()}catch(t){var s=t.stack.trim().match(/\n( *(at )?)/);ki=s&&s[1]||"",Jr=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ki+a+Jr}var Ti=!1;function Oi(a,s){if(!a||Ti)return"";Ti=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var le=function(){throw Error()};if(Object.defineProperty(le.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(le,[])}catch(J){var K=J}Reflect.construct(a,[],le)}else{try{le.call()}catch(J){K=J}a.call(le.prototype)}}else{try{throw Error()}catch(J){K=J}(le=a())&&typeof le.catch=="function"&&le.catch(function(){})}}catch(J){if(J&&K&&typeof J.stack=="string")return[J.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=l.DetermineComponentFrameRoot(),r=i[0],j=i[1];if(r&&j){var I=r.split(`
`),Q=j.split(`
`);for(n=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;n<Q.length&&!Q[n].includes("DetermineComponentFrameRoot");)n++;if(l===I.length||n===Q.length)for(l=I.length-1,n=Q.length-1;1<=l&&0<=n&&I[l]!==Q[n];)n--;for(;1<=l&&0<=n;l--,n--)if(I[l]!==Q[n]){if(l!==1||n!==1)do if(l--,n--,0>n||I[l]!==Q[n]){var se=`
`+I[l].replace(" at new "," at ");return a.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",a.displayName)),se}while(1<=l&&0<=n);break}}}finally{Ti=!1,Error.prepareStackTrace=t}return(t=a?a.displayName||a.name:"")?ut(t):""}function lf(a){switch(a.tag){case 26:case 27:case 5:return ut(a.type);case 16:return ut("Lazy");case 13:return ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return Oi(a.type,!1);case 11:return Oi(a.type.render,!1);case 1:return Oi(a.type,!0);case 31:return ut("Activity");default:return""}}function Wr(a){try{var s="";do s+=lf(a),a=a.return;while(a);return s}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function Ea(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function eo(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nf(a){var s=eo(a)?"checked":"value",t=Object.getOwnPropertyDescriptor(a.constructor.prototype,s),l=""+a[s];if(!a.hasOwnProperty(s)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var n=t.get,i=t.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return n.call(this)},set:function(r){l=""+r,i.call(this,r)}}),Object.defineProperty(a,s,{enumerable:t.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function on(a){a._valueTracker||(a._valueTracker=nf(a))}function ao(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var t=s.getValue(),l="";return a&&(l=eo(a)?a.checked?"true":"false":a.value),a=l,a!==t?(s.setValue(a),!0):!1}function dn(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var cf=/[\n"\\]/g;function wa(a){return a.replace(cf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ri(a,s,t,l,n,i,r,j){a.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?a.type=r:a.removeAttribute("type"),s!=null?r==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+Ea(s)):a.value!==""+Ea(s)&&(a.value=""+Ea(s)):r!=="submit"&&r!=="reset"||a.removeAttribute("value"),s!=null?Mi(a,r,Ea(s)):t!=null?Mi(a,r,Ea(t)):l!=null&&a.removeAttribute("value"),n==null&&i!=null&&(a.defaultChecked=!!i),n!=null&&(a.checked=n&&typeof n!="function"&&typeof n!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?a.name=""+Ea(j):a.removeAttribute("name")}function so(a,s,t,l,n,i,r,j){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(a.type=i),s!=null||t!=null){if(!(i!=="submit"&&i!=="reset"||s!=null))return;t=t!=null?""+Ea(t):"",s=s!=null?""+Ea(s):t,j||s===a.value||(a.value=s),a.defaultValue=s}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,a.checked=j?a.checked:!!l,a.defaultChecked=!!l,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(a.name=r)}function Mi(a,s,t){s==="number"&&dn(a.ownerDocument)===a||a.defaultValue===""+t||(a.defaultValue=""+t)}function mt(a,s,t,l){if(a=a.options,s){s={};for(var n=0;n<t.length;n++)s["$"+t[n]]=!0;for(t=0;t<a.length;t++)n=s.hasOwnProperty("$"+a[t].value),a[t].selected!==n&&(a[t].selected=n),n&&l&&(a[t].defaultSelected=!0)}else{for(t=""+Ea(t),s=null,n=0;n<a.length;n++){if(a[n].value===t){a[n].selected=!0,l&&(a[n].defaultSelected=!0);return}s!==null||a[n].disabled||(s=a[n])}s!==null&&(s.selected=!0)}}function to(a,s,t){if(s!=null&&(s=""+Ea(s),s!==a.value&&(a.value=s),t==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=t!=null?""+Ea(t):""}function lo(a,s,t,l){if(s==null){if(l!=null){if(t!=null)throw Error(u(92));if(O(l)){if(1<l.length)throw Error(u(93));l=l[0]}t=l}t==null&&(t=""),s=t}t=Ea(s),a.defaultValue=t,l=a.textContent,l===t&&l!==""&&l!==null&&(a.value=l)}function ft(a,s){if(s){var t=a.firstChild;if(t&&t===a.lastChild&&t.nodeType===3){t.nodeValue=s;return}}a.textContent=s}var rf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function no(a,s,t){var l=s.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?l?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":l?a.setProperty(s,t):typeof t!="number"||t===0||rf.has(s)?s==="float"?a.cssFloat=t:a[s]=(""+t).trim():a[s]=t+"px"}function io(a,s,t){if(s!=null&&typeof s!="object")throw Error(u(62));if(a=a.style,t!=null){for(var l in t)!t.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="");for(var n in s)l=s[n],s.hasOwnProperty(n)&&t[n]!==l&&no(a,n,l)}else for(var i in s)s.hasOwnProperty(i)&&no(a,i,s[i])}function Pi(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function un(a){return df.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var zi=null;function Ui(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var ht=null,pt=null;function co(a){var s=rt(a);if(s&&(a=s.stateNode)){var t=a[oa]||null;e:switch(a=s.stateNode,s.type){case"input":if(Ri(a,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),s=t.name,t.type==="radio"&&s!=null){for(t=a;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+wa(""+s)+'"][type="radio"]'),s=0;s<t.length;s++){var l=t[s];if(l!==a&&l.form===a.form){var n=l[oa]||null;if(!n)throw Error(u(90));Ri(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(s=0;s<t.length;s++)l=t[s],l.form===a.form&&ao(l)}break e;case"textarea":to(a,t.value,t.defaultValue);break e;case"select":s=t.value,s!=null&&mt(a,!!t.multiple,s,!1)}}}var Li=!1;function ro(a,s,t){if(Li)return a(s,t);Li=!0;try{var l=a(s);return l}finally{if(Li=!1,(ht!==null||pt!==null)&&(Qn(),ht&&(s=ht,a=pt,pt=ht=null,co(s),a)))for(s=0;s<a.length;s++)co(a[s])}}function sl(a,s){var t=a.stateNode;if(t===null)return null;var l=t[oa]||null;if(l===null)return null;t=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(a=a.type,l=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!l;break e;default:a=!1}if(a)return null;if(t&&typeof t!="function")throw Error(u(231,s,typeof t));return t}var Ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ii=!1;if(Ga)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){Ii=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{Ii=!1}var ds=null,Bi=null,mn=null;function oo(){if(mn)return mn;var a,s=Bi,t=s.length,l,n="value"in ds?ds.value:ds.textContent,i=n.length;for(a=0;a<t&&s[a]===n[a];a++);var r=t-a;for(l=1;l<=r&&s[t-l]===n[i-l];l++);return mn=n.slice(a,1<l?1-l:void 0)}function fn(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function hn(){return!0}function uo(){return!1}function da(a){function s(t,l,n,i,r){this._reactName=t,this._targetInst=n,this.type=l,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var j in a)a.hasOwnProperty(j)&&(t=a[j],this[j]=t?t(i):i[j]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?hn:uo,this.isPropagationStopped=uo,this}return M(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=hn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=hn)},persist:function(){},isPersistent:hn}),s}var Is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pn=da(Is),ll=M({},Is,{view:0,detail:0}),uf=da(ll),_i,qi,nl,gn=M({},ll,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$i,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==nl&&(nl&&a.type==="mousemove"?(_i=a.screenX-nl.screenX,qi=a.screenY-nl.screenY):qi=_i=0,nl=a),_i)},movementY:function(a){return"movementY"in a?a.movementY:qi}}),mo=da(gn),mf=M({},gn,{dataTransfer:0}),ff=da(mf),hf=M({},ll,{relatedTarget:0}),Hi=da(hf),pf=M({},Is,{animationName:0,elapsedTime:0,pseudoElement:0}),gf=da(pf),xf=M({},Is,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),jf=da(xf),vf=M({},Is,{data:0}),fo=da(vf),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sf(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=yf[a])?!!s[a]:!1}function $i(){return Sf}var Ef=M({},ll,{key:function(a){if(a.key){var s=Nf[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=fn(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?bf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$i,charCode:function(a){return a.type==="keypress"?fn(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?fn(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),wf=da(Ef),Df=M({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=da(Df),Cf=M({},ll,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$i}),Af=da(Cf),kf=M({},Is,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tf=da(kf),Of=M({},gn,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Rf=da(Of),Mf=M({},Is,{newState:0,oldState:0}),Pf=da(Mf),zf=[9,13,27,32],Vi=Ga&&"CompositionEvent"in window,il=null;Ga&&"documentMode"in document&&(il=document.documentMode);var Uf=Ga&&"TextEvent"in window&&!il,po=Ga&&(!Vi||il&&8<il&&11>=il),go=" ",xo=!1;function jo(a,s){switch(a){case"keyup":return zf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var gt=!1;function Lf(a,s){switch(a){case"compositionend":return vo(s);case"keypress":return s.which!==32?null:(xo=!0,go);case"textInput":return a=s.data,a===go&&xo?null:a;default:return null}}function If(a,s){if(gt)return a==="compositionend"||!Vi&&jo(a,s)?(a=oo(),mn=Bi=ds=null,gt=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return po&&s.locale!=="ko"?null:s.data;default:return null}}var Bf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function No(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!Bf[a.type]:s==="textarea"}function bo(a,s,t,l){ht?pt?pt.push(l):pt=[l]:ht=l,s=si(s,"onChange"),0<s.length&&(t=new pn("onChange","change",null,t,l),a.push({event:t,listeners:s}))}var cl=null,rl=null;function _f(a){am(a,0)}function xn(a){var s=al(a);if(ao(s))return a}function yo(a,s){if(a==="change")return s}var So=!1;if(Ga){var Gi;if(Ga){var Fi="oninput"in document;if(!Fi){var Eo=document.createElement("div");Eo.setAttribute("oninput","return;"),Fi=typeof Eo.oninput=="function"}Gi=Fi}else Gi=!1;So=Gi&&(!document.documentMode||9<document.documentMode)}function wo(){cl&&(cl.detachEvent("onpropertychange",Do),rl=cl=null)}function Do(a){if(a.propertyName==="value"&&xn(rl)){var s=[];bo(s,rl,a,Ui(a)),ro(_f,s)}}function qf(a,s,t){a==="focusin"?(wo(),cl=s,rl=t,cl.attachEvent("onpropertychange",Do)):a==="focusout"&&wo()}function Hf(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return xn(rl)}function $f(a,s){if(a==="click")return xn(s)}function Vf(a,s){if(a==="input"||a==="change")return xn(s)}function Gf(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var ga=typeof Object.is=="function"?Object.is:Gf;function ol(a,s){if(ga(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var t=Object.keys(a),l=Object.keys(s);if(t.length!==l.length)return!1;for(l=0;l<t.length;l++){var n=t[l];if(!aa.call(s,n)||!ga(a[n],s[n]))return!1}return!0}function Co(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Ao(a,s){var t=Co(a);a=0;for(var l;t;){if(t.nodeType===3){if(l=a+t.textContent.length,a<=s&&l>=s)return{node:t,offset:s-a};a=l}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Co(t)}}function ko(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?ko(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function To(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=dn(a.document);s instanceof a.HTMLIFrameElement;){try{var t=typeof s.contentWindow.location.href=="string"}catch{t=!1}if(t)a=s.contentWindow;else break;s=dn(a.document)}return s}function Yi(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var Ff=Ga&&"documentMode"in document&&11>=document.documentMode,xt=null,Zi=null,dl=null,Xi=!1;function Oo(a,s,t){var l=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Xi||xt==null||xt!==dn(l)||(l=xt,"selectionStart"in l&&Yi(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),dl&&ol(dl,l)||(dl=l,l=si(Zi,"onSelect"),0<l.length&&(s=new pn("onSelect","select",null,s,t),a.push({event:s,listeners:l}),s.target=xt)))}function Bs(a,s){var t={};return t[a.toLowerCase()]=s.toLowerCase(),t["Webkit"+a]="webkit"+s,t["Moz"+a]="moz"+s,t}var jt={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Qi={},Ro={};Ga&&(Ro=document.createElement("div").style,"AnimationEvent"in window||(delete jt.animationend.animation,delete jt.animationiteration.animation,delete jt.animationstart.animation),"TransitionEvent"in window||delete jt.transitionend.transition);function _s(a){if(Qi[a])return Qi[a];if(!jt[a])return a;var s=jt[a],t;for(t in s)if(s.hasOwnProperty(t)&&t in Ro)return Qi[a]=s[t];return a}var Mo=_s("animationend"),Po=_s("animationiteration"),zo=_s("animationstart"),Yf=_s("transitionrun"),Zf=_s("transitionstart"),Xf=_s("transitioncancel"),Uo=_s("transitionend"),Lo=new Map,Ki="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ki.push("scrollEnd");function Pa(a,s){Lo.set(a,s),Ls(s,[a])}var Io=new WeakMap;function Da(a,s){if(typeof a=="object"&&a!==null){var t=Io.get(a);return t!==void 0?t:(s={value:a,source:s,stack:Wr(s)},Io.set(a,s),s)}return{value:a,source:s,stack:Wr(s)}}var Ca=[],vt=0,Ji=0;function jn(){for(var a=vt,s=Ji=vt=0;s<a;){var t=Ca[s];Ca[s++]=null;var l=Ca[s];Ca[s++]=null;var n=Ca[s];Ca[s++]=null;var i=Ca[s];if(Ca[s++]=null,l!==null&&n!==null){var r=l.pending;r===null?n.next=n:(n.next=r.next,r.next=n),l.pending=n}i!==0&&Bo(t,n,i)}}function vn(a,s,t,l){Ca[vt++]=a,Ca[vt++]=s,Ca[vt++]=t,Ca[vt++]=l,Ji|=l,a.lanes|=l,a=a.alternate,a!==null&&(a.lanes|=l)}function Wi(a,s,t,l){return vn(a,s,t,l),Nn(a)}function Nt(a,s){return vn(a,null,null,s),Nn(a)}function Bo(a,s,t){a.lanes|=t;var l=a.alternate;l!==null&&(l.lanes|=t);for(var n=!1,i=a.return;i!==null;)i.childLanes|=t,l=i.alternate,l!==null&&(l.childLanes|=t),i.tag===22&&(a=i.stateNode,a===null||a._visibility&1||(n=!0)),a=i,i=i.return;return a.tag===3?(i=a.stateNode,n&&s!==null&&(n=31-pa(t),a=i.hiddenUpdates,l=a[n],l===null?a[n]=[s]:l.push(s),s.lane=t|536870912),i):null}function Nn(a){if(50<zl)throw zl=0,nr=null,Error(u(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var bt={};function Qf(a,s,t,l){this.tag=a,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xa(a,s,t,l){return new Qf(a,s,t,l)}function ec(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Fa(a,s){var t=a.alternate;return t===null?(t=xa(a.tag,s,a.key,a.mode),t.elementType=a.elementType,t.type=a.type,t.stateNode=a.stateNode,t.alternate=a,a.alternate=t):(t.pendingProps=s,t.type=a.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=a.flags&65011712,t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},t.sibling=a.sibling,t.index=a.index,t.ref=a.ref,t.refCleanup=a.refCleanup,t}function _o(a,s){a.flags&=65011714;var t=a.alternate;return t===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,a.type=t.type,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function bn(a,s,t,l,n,i){var r=0;if(l=a,typeof a=="function")ec(a)&&(r=1);else if(typeof a=="string")r=Jh(a,t,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case R:return a=xa(31,t,s,n),a.elementType=R,a.lanes=i,a;case P:return qs(t.children,n,i,s);case x:r=8,n|=24;break;case z:return a=xa(12,t,s,n|2),a.elementType=z,a.lanes=i,a;case B:return a=xa(13,t,s,n),a.elementType=B,a.lanes=i,a;case q:return a=xa(19,t,s,n),a.elementType=q,a.lanes=i,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case v:case N:r=10;break e;case d:r=9;break e;case m:r=11;break e;case T:r=14;break e;case w:r=16,l=null;break e}r=29,t=Error(u(130,a===null?"null":typeof a,"")),l=null}return s=xa(r,t,s,n),s.elementType=a,s.type=l,s.lanes=i,s}function qs(a,s,t,l){return a=xa(7,a,l,s),a.lanes=t,a}function ac(a,s,t){return a=xa(6,a,null,s),a.lanes=t,a}function sc(a,s,t){return s=xa(4,a.children!==null?a.children:[],a.key,s),s.lanes=t,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var yt=[],St=0,yn=null,Sn=0,Aa=[],ka=0,Hs=null,Ya=1,Za="";function $s(a,s){yt[St++]=Sn,yt[St++]=yn,yn=a,Sn=s}function qo(a,s,t){Aa[ka++]=Ya,Aa[ka++]=Za,Aa[ka++]=Hs,Hs=a;var l=Ya;a=Za;var n=32-pa(l)-1;l&=~(1<<n),t+=1;var i=32-pa(s)+n;if(30<i){var r=n-n%5;i=(l&(1<<r)-1).toString(32),l>>=r,n-=r,Ya=1<<32-pa(s)+n|t<<n|l,Za=i+a}else Ya=1<<i|t<<n|l,Za=a}function tc(a){a.return!==null&&($s(a,1),qo(a,1,0))}function lc(a){for(;a===yn;)yn=yt[--St],yt[St]=null,Sn=yt[--St],yt[St]=null;for(;a===Hs;)Hs=Aa[--ka],Aa[ka]=null,Za=Aa[--ka],Aa[ka]=null,Ya=Aa[--ka],Aa[ka]=null}var ca=null,Le=null,De=!1,Vs=null,La=!1,nc=Error(u(519));function Gs(a){var s=Error(u(418,""));throw fl(Da(s,a)),nc}function Ho(a){var s=a.stateNode,t=a.type,l=a.memoizedProps;switch(s[na]=a,s[oa]=l,t){case"dialog":ye("cancel",s),ye("close",s);break;case"iframe":case"object":case"embed":ye("load",s);break;case"video":case"audio":for(t=0;t<Ll.length;t++)ye(Ll[t],s);break;case"source":ye("error",s);break;case"img":case"image":case"link":ye("error",s),ye("load",s);break;case"details":ye("toggle",s);break;case"input":ye("invalid",s),so(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),on(s);break;case"select":ye("invalid",s);break;case"textarea":ye("invalid",s),lo(s,l.value,l.defaultValue,l.children),on(s)}t=l.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||s.textContent===""+t||l.suppressHydrationWarning===!0||nm(s.textContent,t)?(l.popover!=null&&(ye("beforetoggle",s),ye("toggle",s)),l.onScroll!=null&&ye("scroll",s),l.onScrollEnd!=null&&ye("scrollend",s),l.onClick!=null&&(s.onclick=ti),s=!0):s=!1,s||Gs(a)}function $o(a){for(ca=a.return;ca;)switch(ca.tag){case 5:case 13:La=!1;return;case 27:case 3:La=!0;return;default:ca=ca.return}}function ul(a){if(a!==ca)return!1;if(!De)return $o(a),De=!0,!1;var s=a.tag,t;if((t=s!==3&&s!==27)&&((t=s===5)&&(t=a.type,t=!(t!=="form"&&t!=="button")||br(a.type,a.memoizedProps)),t=!t),t&&Le&&Gs(a),$o(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(u(317));e:{for(a=a.nextSibling,s=0;a;){if(a.nodeType===8)if(t=a.data,t==="/$"){if(s===0){Le=Ua(a.nextSibling);break e}s--}else t!=="$"&&t!=="$!"&&t!=="$?"||s++;a=a.nextSibling}Le=null}}else s===27?(s=Le,Ds(a.type)?(a=wr,wr=null,Le=a):Le=s):Le=ca?Ua(a.stateNode.nextSibling):null;return!0}function ml(){Le=ca=null,De=!1}function Vo(){var a=Vs;return a!==null&&(fa===null?fa=a:fa.push.apply(fa,a),Vs=null),a}function fl(a){Vs===null?Vs=[a]:Vs.push(a)}var ic=y(null),Fs=null,Xa=null;function us(a,s,t){ne(ic,s._currentValue),s._currentValue=t}function Qa(a){a._currentValue=ic.current,X(ic)}function cc(a,s,t){for(;a!==null;){var l=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),a===t)break;a=a.return}}function rc(a,s,t,l){var n=a.child;for(n!==null&&(n.return=a);n!==null;){var i=n.dependencies;if(i!==null){var r=n.child;i=i.firstContext;e:for(;i!==null;){var j=i;i=n;for(var I=0;I<s.length;I++)if(j.context===s[I]){i.lanes|=t,j=i.alternate,j!==null&&(j.lanes|=t),cc(i.return,t,a),l||(r=null);break e}i=j.next}}else if(n.tag===18){if(r=n.return,r===null)throw Error(u(341));r.lanes|=t,i=r.alternate,i!==null&&(i.lanes|=t),cc(r,t,a),r=null}else r=n.child;if(r!==null)r.return=n;else for(r=n;r!==null;){if(r===a){r=null;break}if(n=r.sibling,n!==null){n.return=r.return,r=n;break}r=r.return}n=r}}function hl(a,s,t,l){a=null;for(var n=s,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var r=n.alternate;if(r===null)throw Error(u(387));if(r=r.memoizedProps,r!==null){var j=n.type;ga(n.pendingProps.value,r.value)||(a!==null?a.push(j):a=[j])}}else if(n===ue.current){if(r=n.alternate,r===null)throw Error(u(387));r.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(a!==null?a.push($l):a=[$l])}n=n.return}a!==null&&rc(s,a,t,l),s.flags|=262144}function En(a){for(a=a.firstContext;a!==null;){if(!ga(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ys(a){Fs=a,Xa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function ia(a){return Go(Fs,a)}function wn(a,s){return Fs===null&&Ys(a),Go(a,s)}function Go(a,s){var t=s._currentValue;if(s={context:s,memoizedValue:t,next:null},Xa===null){if(a===null)throw Error(u(308));Xa=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Xa=Xa.next=s;return t}var Kf=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(t,l){a.push(l)}};this.abort=function(){s.aborted=!0,a.forEach(function(t){return t()})}},Jf=c.unstable_scheduleCallback,Wf=c.unstable_NormalPriority,Fe={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oc(){return{controller:new Kf,data:new Map,refCount:0}}function pl(a){a.refCount--,a.refCount===0&&Jf(Wf,function(){a.controller.abort()})}var gl=null,dc=0,Et=0,wt=null;function eh(a,s){if(gl===null){var t=gl=[];dc=0,Et=mr(),wt={status:"pending",value:void 0,then:function(l){t.push(l)}}}return dc++,s.then(Fo,Fo),s}function Fo(){if(--dc===0&&gl!==null){wt!==null&&(wt.status="fulfilled");var a=gl;gl=null,Et=0,wt=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function ah(a,s){var t=[],l={status:"pending",value:null,reason:null,then:function(n){t.push(n)}};return a.then(function(){l.status="fulfilled",l.value=s;for(var n=0;n<t.length;n++)(0,t[n])(s)},function(n){for(l.status="rejected",l.reason=n,n=0;n<t.length;n++)(0,t[n])(void 0)}),l}var Yo=S.S;S.S=function(a,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&eh(a,s),Yo!==null&&Yo(a,s)};var Zs=y(null);function uc(){var a=Zs.current;return a!==null?a:Me.pooledCache}function Dn(a,s){s===null?ne(Zs,Zs.current):ne(Zs,s.pool)}function Zo(){var a=uc();return a===null?null:{parent:Fe._currentValue,pool:a}}var xl=Error(u(460)),Xo=Error(u(474)),Cn=Error(u(542)),mc={then:function(){}};function Qo(a){return a=a.status,a==="fulfilled"||a==="rejected"}function An(){}function Ko(a,s,t){switch(t=a[t],t===void 0?a.push(s):t!==s&&(s.then(An,An),s=t),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Wo(a),a;default:if(typeof s.status=="string")s.then(An,An);else{if(a=Me,a!==null&&100<a.shellSuspendCounter)throw Error(u(482));a=s,a.status="pending",a.then(function(l){if(s.status==="pending"){var n=s;n.status="fulfilled",n.value=l}},function(l){if(s.status==="pending"){var n=s;n.status="rejected",n.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,Wo(a),a}throw jl=s,xl}}var jl=null;function Jo(){if(jl===null)throw Error(u(459));var a=jl;return jl=null,a}function Wo(a){if(a===xl||a===Cn)throw Error(u(483))}var ms=!1;function fc(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hc(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function fs(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function hs(a,s,t){var l=a.updateQueue;if(l===null)return null;if(l=l.shared,(Ce&2)!==0){var n=l.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),l.pending=s,s=Nn(a),Bo(a,null,t),s}return vn(a,l,s,t),Nn(a)}function vl(a,s,t){if(s=s.updateQueue,s!==null&&(s=s.shared,(t&4194048)!==0)){var l=s.lanes;l&=a.pendingLanes,t|=l,s.lanes=t,Gr(a,t)}}function pc(a,s){var t=a.updateQueue,l=a.alternate;if(l!==null&&(l=l.updateQueue,t===l)){var n=null,i=null;if(t=t.firstBaseUpdate,t!==null){do{var r={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};i===null?n=i=r:i=i.next=r,t=t.next}while(t!==null);i===null?n=i=s:i=i.next=s}else n=i=s;t={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:l.shared,callbacks:l.callbacks},a.updateQueue=t;return}a=t.lastBaseUpdate,a===null?t.firstBaseUpdate=s:a.next=s,t.lastBaseUpdate=s}var gc=!1;function Nl(){if(gc){var a=wt;if(a!==null)throw a}}function bl(a,s,t,l){gc=!1;var n=a.updateQueue;ms=!1;var i=n.firstBaseUpdate,r=n.lastBaseUpdate,j=n.shared.pending;if(j!==null){n.shared.pending=null;var I=j,Q=I.next;I.next=null,r===null?i=Q:r.next=Q,r=I;var se=a.alternate;se!==null&&(se=se.updateQueue,j=se.lastBaseUpdate,j!==r&&(j===null?se.firstBaseUpdate=Q:j.next=Q,se.lastBaseUpdate=I))}if(i!==null){var le=n.baseState;r=0,se=Q=I=null,j=i;do{var K=j.lane&-536870913,J=K!==j.lane;if(J?(Se&K)===K:(l&K)===K){K!==0&&K===Et&&(gc=!0),se!==null&&(se=se.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ge=a,he=j;K=s;var Oe=t;switch(he.tag){case 1:if(ge=he.payload,typeof ge=="function"){le=ge.call(Oe,le,K);break e}le=ge;break e;case 3:ge.flags=ge.flags&-65537|128;case 0:if(ge=he.payload,K=typeof ge=="function"?ge.call(Oe,le,K):ge,K==null)break e;le=M({},le,K);break e;case 2:ms=!0}}K=j.callback,K!==null&&(a.flags|=64,J&&(a.flags|=8192),J=n.callbacks,J===null?n.callbacks=[K]:J.push(K))}else J={lane:K,tag:j.tag,payload:j.payload,callback:j.callback,next:null},se===null?(Q=se=J,I=le):se=se.next=J,r|=K;if(j=j.next,j===null){if(j=n.shared.pending,j===null)break;J=j,j=J.next,J.next=null,n.lastBaseUpdate=J,n.shared.pending=null}}while(!0);se===null&&(I=le),n.baseState=I,n.firstBaseUpdate=Q,n.lastBaseUpdate=se,i===null&&(n.shared.lanes=0),ys|=r,a.lanes=r,a.memoizedState=le}}function ed(a,s){if(typeof a!="function")throw Error(u(191,a));a.call(s)}function ad(a,s){var t=a.callbacks;if(t!==null)for(a.callbacks=null,a=0;a<t.length;a++)ed(t[a],s)}var Dt=y(null),kn=y(0);function sd(a,s){a=ts,ne(kn,a),ne(Dt,s),ts=a|s.baseLanes}function xc(){ne(kn,ts),ne(Dt,Dt.current)}function jc(){ts=kn.current,X(Dt),X(kn)}var ps=0,je=null,ke=null,$e=null,Tn=!1,Ct=!1,Xs=!1,On=0,yl=0,At=null,sh=0;function _e(){throw Error(u(321))}function vc(a,s){if(s===null)return!1;for(var t=0;t<s.length&&t<a.length;t++)if(!ga(a[t],s[t]))return!1;return!0}function Nc(a,s,t,l,n,i){return ps=i,je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,S.H=a===null||a.memoizedState===null?Bd:_d,Xs=!1,i=t(l,n),Xs=!1,Ct&&(i=ld(s,t,l,n)),td(a),i}function td(a){S.H=Ln;var s=ke!==null&&ke.next!==null;if(ps=0,$e=ke=je=null,Tn=!1,yl=0,At=null,s)throw Error(u(300));a===null||Je||(a=a.dependencies,a!==null&&En(a)&&(Je=!0))}function ld(a,s,t,l){je=a;var n=0;do{if(Ct&&(At=null),yl=0,Ct=!1,25<=n)throw Error(u(301));if(n+=1,$e=ke=null,a.updateQueue!=null){var i=a.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}S.H=oh,i=s(t,l)}while(Ct);return i}function th(){var a=S.H,s=a.useState()[0];return s=typeof s.then=="function"?Sl(s):s,a=a.useState()[0],(ke!==null?ke.memoizedState:null)!==a&&(je.flags|=1024),s}function bc(){var a=On!==0;return On=0,a}function yc(a,s,t){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~t}function Sc(a){if(Tn){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Tn=!1}ps=0,$e=ke=je=null,Ct=!1,yl=On=0,At=null}function ua(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?je.memoizedState=$e=a:$e=$e.next=a,$e}function Ve(){if(ke===null){var a=je.alternate;a=a!==null?a.memoizedState:null}else a=ke.next;var s=$e===null?je.memoizedState:$e.next;if(s!==null)$e=s,ke=a;else{if(a===null)throw je.alternate===null?Error(u(467)):Error(u(310));ke=a,a={memoizedState:ke.memoizedState,baseState:ke.baseState,baseQueue:ke.baseQueue,queue:ke.queue,next:null},$e===null?je.memoizedState=$e=a:$e=$e.next=a}return $e}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(a){var s=yl;return yl+=1,At===null&&(At=[]),a=Ko(At,a,s),s=je,($e===null?s.memoizedState:$e.next)===null&&(s=s.alternate,S.H=s===null||s.memoizedState===null?Bd:_d),a}function Rn(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Sl(a);if(a.$$typeof===N)return ia(a)}throw Error(u(438,String(a)))}function wc(a){var s=null,t=je.updateQueue;if(t!==null&&(s=t.memoCache),s==null){var l=je.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(n){return n.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),t===null&&(t=Ec(),je.updateQueue=t),t.memoCache=s,t=s.data[s.index],t===void 0)for(t=s.data[s.index]=Array(a),l=0;l<a;l++)t[l]=U;return s.index++,t}function Ka(a,s){return typeof s=="function"?s(a):s}function Mn(a){var s=Ve();return Dc(s,ke,a)}function Dc(a,s,t){var l=a.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=t;var n=a.baseQueue,i=l.pending;if(i!==null){if(n!==null){var r=n.next;n.next=i.next,i.next=r}s.baseQueue=n=i,l.pending=null}if(i=a.baseState,n===null)a.memoizedState=i;else{s=n.next;var j=r=null,I=null,Q=s,se=!1;do{var le=Q.lane&-536870913;if(le!==Q.lane?(Se&le)===le:(ps&le)===le){var K=Q.revertLane;if(K===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),le===Et&&(se=!0);else if((ps&K)===K){Q=Q.next,K===Et&&(se=!0);continue}else le={lane:0,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(j=I=le,r=i):I=I.next=le,je.lanes|=K,ys|=K;le=Q.action,Xs&&t(i,le),i=Q.hasEagerState?Q.eagerState:t(i,le)}else K={lane:le,revertLane:Q.revertLane,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},I===null?(j=I=K,r=i):I=I.next=K,je.lanes|=le,ys|=le;Q=Q.next}while(Q!==null&&Q!==s);if(I===null?r=i:I.next=j,!ga(i,a.memoizedState)&&(Je=!0,se&&(t=wt,t!==null)))throw t;a.memoizedState=i,a.baseState=r,a.baseQueue=I,l.lastRenderedState=i}return n===null&&(l.lanes=0),[a.memoizedState,l.dispatch]}function Cc(a){var s=Ve(),t=s.queue;if(t===null)throw Error(u(311));t.lastRenderedReducer=a;var l=t.dispatch,n=t.pending,i=s.memoizedState;if(n!==null){t.pending=null;var r=n=n.next;do i=a(i,r.action),r=r.next;while(r!==n);ga(i,s.memoizedState)||(Je=!0),s.memoizedState=i,s.baseQueue===null&&(s.baseState=i),t.lastRenderedState=i}return[i,l]}function nd(a,s,t){var l=je,n=Ve(),i=De;if(i){if(t===void 0)throw Error(u(407));t=t()}else t=s();var r=!ga((ke||n).memoizedState,t);r&&(n.memoizedState=t,Je=!0),n=n.queue;var j=rd.bind(null,l,n,a);if(El(2048,8,j,[a]),n.getSnapshot!==s||r||$e!==null&&$e.memoizedState.tag&1){if(l.flags|=2048,kt(9,Pn(),cd.bind(null,l,n,t,s),null),Me===null)throw Error(u(349));i||(ps&124)!==0||id(l,s,t)}return t}function id(a,s,t){a.flags|=16384,a={getSnapshot:s,value:t},s=je.updateQueue,s===null?(s=Ec(),je.updateQueue=s,s.stores=[a]):(t=s.stores,t===null?s.stores=[a]:t.push(a))}function cd(a,s,t,l){s.value=t,s.getSnapshot=l,od(s)&&dd(a)}function rd(a,s,t){return t(function(){od(s)&&dd(a)})}function od(a){var s=a.getSnapshot;a=a.value;try{var t=s();return!ga(a,t)}catch{return!0}}function dd(a){var s=Nt(a,2);s!==null&&ya(s,a,2)}function Ac(a){var s=ua();if(typeof a=="function"){var t=a;if(a=t(),Xs){rs(!0);try{t()}finally{rs(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:a},s}function ud(a,s,t,l){return a.baseState=t,Dc(a,ke,typeof l=="function"?l:Ka)}function lh(a,s,t,l,n){if(Un(a))throw Error(u(485));if(a=s.action,a!==null){var i={payload:n,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};S.T!==null?t(!0):i.isTransition=!1,l(i),t=s.pending,t===null?(i.next=s.pending=i,md(s,i)):(i.next=t.next,s.pending=t.next=i)}}function md(a,s){var t=s.action,l=s.payload,n=a.state;if(s.isTransition){var i=S.T,r={};S.T=r;try{var j=t(n,l),I=S.S;I!==null&&I(r,j),fd(a,s,j)}catch(Q){kc(a,s,Q)}finally{S.T=i}}else try{i=t(n,l),fd(a,s,i)}catch(Q){kc(a,s,Q)}}function fd(a,s,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(l){hd(a,s,l)},function(l){return kc(a,s,l)}):hd(a,s,t)}function hd(a,s,t){s.status="fulfilled",s.value=t,pd(s),a.state=t,s=a.pending,s!==null&&(t=s.next,t===s?a.pending=null:(t=t.next,s.next=t,md(a,t)))}function kc(a,s,t){var l=a.pending;if(a.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=t,pd(s),s=s.next;while(s!==l)}a.action=null}function pd(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function gd(a,s){return s}function xd(a,s){if(De){var t=Me.formState;if(t!==null){e:{var l=je;if(De){if(Le){a:{for(var n=Le,i=La;n.nodeType!==8;){if(!i){n=null;break a}if(n=Ua(n.nextSibling),n===null){n=null;break a}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Le=Ua(n.nextSibling),l=n.data==="F!";break e}}Gs(l)}l=!1}l&&(s=t[0])}}return t=ua(),t.memoizedState=t.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gd,lastRenderedState:s},t.queue=l,t=Ud.bind(null,je,l),l.dispatch=t,l=Ac(!1),i=Pc.bind(null,je,!1,l.queue),l=ua(),n={state:s,dispatch:null,action:a,pending:null},l.queue=n,t=lh.bind(null,je,n,i,t),n.dispatch=t,l.memoizedState=a,[s,t,!1]}function jd(a){var s=Ve();return vd(s,ke,a)}function vd(a,s,t){if(s=Dc(a,s,gd)[0],a=Mn(Ka)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=Sl(s)}catch(r){throw r===xl?Cn:r}else l=s;s=Ve();var n=s.queue,i=n.dispatch;return t!==s.memoizedState&&(je.flags|=2048,kt(9,Pn(),nh.bind(null,n,t),null)),[l,i,a]}function nh(a,s){a.action=s}function Nd(a){var s=Ve(),t=ke;if(t!==null)return vd(s,t,a);Ve(),s=s.memoizedState,t=Ve();var l=t.queue.dispatch;return t.memoizedState=a,[s,l,!1]}function kt(a,s,t,l){return a={tag:a,create:t,deps:l,inst:s,next:null},s=je.updateQueue,s===null&&(s=Ec(),je.updateQueue=s),t=s.lastEffect,t===null?s.lastEffect=a.next=a:(l=t.next,t.next=a,a.next=l,s.lastEffect=a),a}function Pn(){return{destroy:void 0,resource:void 0}}function bd(){return Ve().memoizedState}function zn(a,s,t,l){var n=ua();l=l===void 0?null:l,je.flags|=a,n.memoizedState=kt(1|s,Pn(),t,l)}function El(a,s,t,l){var n=Ve();l=l===void 0?null:l;var i=n.memoizedState.inst;ke!==null&&l!==null&&vc(l,ke.memoizedState.deps)?n.memoizedState=kt(s,i,t,l):(je.flags|=a,n.memoizedState=kt(1|s,i,t,l))}function yd(a,s){zn(8390656,8,a,s)}function Sd(a,s){El(2048,8,a,s)}function Ed(a,s){return El(4,2,a,s)}function wd(a,s){return El(4,4,a,s)}function Dd(a,s){if(typeof s=="function"){a=a();var t=s(a);return function(){typeof t=="function"?t():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function Cd(a,s,t){t=t!=null?t.concat([a]):null,El(4,4,Dd.bind(null,s,a),t)}function Tc(){}function Ad(a,s){var t=Ve();s=s===void 0?null:s;var l=t.memoizedState;return s!==null&&vc(s,l[1])?l[0]:(t.memoizedState=[a,s],a)}function kd(a,s){var t=Ve();s=s===void 0?null:s;var l=t.memoizedState;if(s!==null&&vc(s,l[1]))return l[0];if(l=a(),Xs){rs(!0);try{a()}finally{rs(!1)}}return t.memoizedState=[l,s],l}function Oc(a,s,t){return t===void 0||(ps&1073741824)!==0?a.memoizedState=s:(a.memoizedState=t,a=Ru(),je.lanes|=a,ys|=a,t)}function Td(a,s,t,l){return ga(t,s)?t:Dt.current!==null?(a=Oc(a,t,l),ga(a,s)||(Je=!0),a):(ps&42)===0?(Je=!0,a.memoizedState=t):(a=Ru(),je.lanes|=a,ys|=a,s)}function Od(a,s,t,l,n){var i=_.p;_.p=i!==0&&8>i?i:8;var r=S.T,j={};S.T=j,Pc(a,!1,s,t);try{var I=n(),Q=S.S;if(Q!==null&&Q(j,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var se=ah(I,l);wl(a,s,se,ba(a))}else wl(a,s,l,ba(a))}catch(le){wl(a,s,{then:function(){},status:"rejected",reason:le},ba())}finally{_.p=i,S.T=r}}function ih(){}function Rc(a,s,t,l){if(a.tag!==5)throw Error(u(476));var n=Rd(a).queue;Od(a,n,s,$,t===null?ih:function(){return Md(a),t(l)})}function Rd(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:$},next:null};var t={};return s.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:t},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Md(a){var s=Rd(a).next.queue;wl(a,s,{},ba())}function Mc(){return ia($l)}function Pd(){return Ve().memoizedState}function zd(){return Ve().memoizedState}function ch(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var t=ba();a=fs(t);var l=hs(s,a,t);l!==null&&(ya(l,s,t),vl(l,s,t)),s={cache:oc()},a.payload=s;return}s=s.return}}function rh(a,s,t){var l=ba();t={lane:l,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Un(a)?Ld(s,t):(t=Wi(a,s,t,l),t!==null&&(ya(t,a,l),Id(t,s,l)))}function Ud(a,s,t){var l=ba();wl(a,s,t,l)}function wl(a,s,t,l){var n={lane:l,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Un(a))Ld(s,n);else{var i=a.alternate;if(a.lanes===0&&(i===null||i.lanes===0)&&(i=s.lastRenderedReducer,i!==null))try{var r=s.lastRenderedState,j=i(r,t);if(n.hasEagerState=!0,n.eagerState=j,ga(j,r))return vn(a,s,n,0),Me===null&&jn(),!1}catch{}finally{}if(t=Wi(a,s,n,l),t!==null)return ya(t,a,l),Id(t,s,l),!0}return!1}function Pc(a,s,t,l){if(l={lane:2,revertLane:mr(),action:l,hasEagerState:!1,eagerState:null,next:null},Un(a)){if(s)throw Error(u(479))}else s=Wi(a,t,l,2),s!==null&&ya(s,a,2)}function Un(a){var s=a.alternate;return a===je||s!==null&&s===je}function Ld(a,s){Ct=Tn=!0;var t=a.pending;t===null?s.next=s:(s.next=t.next,t.next=s),a.pending=s}function Id(a,s,t){if((t&4194048)!==0){var l=s.lanes;l&=a.pendingLanes,t|=l,s.lanes=t,Gr(a,t)}}var Ln={readContext:ia,use:Rn,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e},Bd={readContext:ia,use:Rn,useCallback:function(a,s){return ua().memoizedState=[a,s===void 0?null:s],a},useContext:ia,useEffect:yd,useImperativeHandle:function(a,s,t){t=t!=null?t.concat([a]):null,zn(4194308,4,Dd.bind(null,s,a),t)},useLayoutEffect:function(a,s){return zn(4194308,4,a,s)},useInsertionEffect:function(a,s){zn(4,2,a,s)},useMemo:function(a,s){var t=ua();s=s===void 0?null:s;var l=a();if(Xs){rs(!0);try{a()}finally{rs(!1)}}return t.memoizedState=[l,s],l},useReducer:function(a,s,t){var l=ua();if(t!==void 0){var n=t(s);if(Xs){rs(!0);try{t(s)}finally{rs(!1)}}}else n=s;return l.memoizedState=l.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:n},l.queue=a,a=a.dispatch=rh.bind(null,je,a),[l.memoizedState,a]},useRef:function(a){var s=ua();return a={current:a},s.memoizedState=a},useState:function(a){a=Ac(a);var s=a.queue,t=Ud.bind(null,je,s);return s.dispatch=t,[a.memoizedState,t]},useDebugValue:Tc,useDeferredValue:function(a,s){var t=ua();return Oc(t,a,s)},useTransition:function(){var a=Ac(!1);return a=Od.bind(null,je,a.queue,!0,!1),ua().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,t){var l=je,n=ua();if(De){if(t===void 0)throw Error(u(407));t=t()}else{if(t=s(),Me===null)throw Error(u(349));(Se&124)!==0||id(l,s,t)}n.memoizedState=t;var i={value:t,getSnapshot:s};return n.queue=i,yd(rd.bind(null,l,i,a),[a]),l.flags|=2048,kt(9,Pn(),cd.bind(null,l,i,t,s),null),t},useId:function(){var a=ua(),s=Me.identifierPrefix;if(De){var t=Za,l=Ya;t=(l&~(1<<32-pa(l)-1)).toString(32)+t,s="«"+s+"R"+t,t=On++,0<t&&(s+="H"+t.toString(32)),s+="»"}else t=sh++,s="«"+s+"r"+t.toString(32)+"»";return a.memoizedState=s},useHostTransitionStatus:Mc,useFormState:xd,useActionState:xd,useOptimistic:function(a){var s=ua();s.memoizedState=s.baseState=a;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=t,s=Pc.bind(null,je,!0,t),t.dispatch=s,[a,s]},useMemoCache:wc,useCacheRefresh:function(){return ua().memoizedState=ch.bind(null,je)}},_d={readContext:ia,use:Rn,useCallback:Ad,useContext:ia,useEffect:Sd,useImperativeHandle:Cd,useInsertionEffect:Ed,useLayoutEffect:wd,useMemo:kd,useReducer:Mn,useRef:bd,useState:function(){return Mn(Ka)},useDebugValue:Tc,useDeferredValue:function(a,s){var t=Ve();return Td(t,ke.memoizedState,a,s)},useTransition:function(){var a=Mn(Ka)[0],s=Ve().memoizedState;return[typeof a=="boolean"?a:Sl(a),s]},useSyncExternalStore:nd,useId:Pd,useHostTransitionStatus:Mc,useFormState:jd,useActionState:jd,useOptimistic:function(a,s){var t=Ve();return ud(t,ke,a,s)},useMemoCache:wc,useCacheRefresh:zd},oh={readContext:ia,use:Rn,useCallback:Ad,useContext:ia,useEffect:Sd,useImperativeHandle:Cd,useInsertionEffect:Ed,useLayoutEffect:wd,useMemo:kd,useReducer:Cc,useRef:bd,useState:function(){return Cc(Ka)},useDebugValue:Tc,useDeferredValue:function(a,s){var t=Ve();return ke===null?Oc(t,a,s):Td(t,ke.memoizedState,a,s)},useTransition:function(){var a=Cc(Ka)[0],s=Ve().memoizedState;return[typeof a=="boolean"?a:Sl(a),s]},useSyncExternalStore:nd,useId:Pd,useHostTransitionStatus:Mc,useFormState:Nd,useActionState:Nd,useOptimistic:function(a,s){var t=Ve();return ke!==null?ud(t,ke,a,s):(t.baseState=a,[a,t.queue.dispatch])},useMemoCache:wc,useCacheRefresh:zd},Tt=null,Dl=0;function In(a){var s=Dl;return Dl+=1,Tt===null&&(Tt=[]),Ko(Tt,a,s)}function Cl(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function Bn(a,s){throw s.$$typeof===E?Error(u(525)):(a=Object.prototype.toString.call(s),Error(u(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function qd(a){var s=a._init;return s(a._payload)}function Hd(a){function s(V,H){if(a){var Z=V.deletions;Z===null?(V.deletions=[H],V.flags|=16):Z.push(H)}}function t(V,H){if(!a)return null;for(;H!==null;)s(V,H),H=H.sibling;return null}function l(V){for(var H=new Map;V!==null;)V.key!==null?H.set(V.key,V):H.set(V.index,V),V=V.sibling;return H}function n(V,H){return V=Fa(V,H),V.index=0,V.sibling=null,V}function i(V,H,Z){return V.index=Z,a?(Z=V.alternate,Z!==null?(Z=Z.index,Z<H?(V.flags|=67108866,H):Z):(V.flags|=67108866,H)):(V.flags|=1048576,H)}function r(V){return a&&V.alternate===null&&(V.flags|=67108866),V}function j(V,H,Z,te){return H===null||H.tag!==6?(H=ac(Z,V.mode,te),H.return=V,H):(H=n(H,Z),H.return=V,H)}function I(V,H,Z,te){var de=Z.type;return de===P?se(V,H,Z.props.children,te,Z.key):H!==null&&(H.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&qd(de)===H.type)?(H=n(H,Z.props),Cl(H,Z),H.return=V,H):(H=bn(Z.type,Z.key,Z.props,null,V.mode,te),Cl(H,Z),H.return=V,H)}function Q(V,H,Z,te){return H===null||H.tag!==4||H.stateNode.containerInfo!==Z.containerInfo||H.stateNode.implementation!==Z.implementation?(H=sc(Z,V.mode,te),H.return=V,H):(H=n(H,Z.children||[]),H.return=V,H)}function se(V,H,Z,te,de){return H===null||H.tag!==7?(H=qs(Z,V.mode,te,de),H.return=V,H):(H=n(H,Z),H.return=V,H)}function le(V,H,Z){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=ac(""+H,V.mode,Z),H.return=V,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case C:return Z=bn(H.type,H.key,H.props,null,V.mode,Z),Cl(Z,H),Z.return=V,Z;case L:return H=sc(H,V.mode,Z),H.return=V,H;case w:var te=H._init;return H=te(H._payload),le(V,H,Z)}if(O(H)||G(H))return H=qs(H,V.mode,Z,null),H.return=V,H;if(typeof H.then=="function")return le(V,In(H),Z);if(H.$$typeof===N)return le(V,wn(V,H),Z);Bn(V,H)}return null}function K(V,H,Z,te){var de=H!==null?H.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return de!==null?null:j(V,H,""+Z,te);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:return Z.key===de?I(V,H,Z,te):null;case L:return Z.key===de?Q(V,H,Z,te):null;case w:return de=Z._init,Z=de(Z._payload),K(V,H,Z,te)}if(O(Z)||G(Z))return de!==null?null:se(V,H,Z,te,null);if(typeof Z.then=="function")return K(V,H,In(Z),te);if(Z.$$typeof===N)return K(V,H,wn(V,Z),te);Bn(V,Z)}return null}function J(V,H,Z,te,de){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return V=V.get(Z)||null,j(H,V,""+te,de);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case C:return V=V.get(te.key===null?Z:te.key)||null,I(H,V,te,de);case L:return V=V.get(te.key===null?Z:te.key)||null,Q(H,V,te,de);case w:var Ne=te._init;return te=Ne(te._payload),J(V,H,Z,te,de)}if(O(te)||G(te))return V=V.get(Z)||null,se(H,V,te,de,null);if(typeof te.then=="function")return J(V,H,Z,In(te),de);if(te.$$typeof===N)return J(V,H,Z,wn(H,te),de);Bn(H,te)}return null}function ge(V,H,Z,te){for(var de=null,Ne=null,me=H,pe=H=0,ea=null;me!==null&&pe<Z.length;pe++){me.index>pe?(ea=me,me=null):ea=me.sibling;var we=K(V,me,Z[pe],te);if(we===null){me===null&&(me=ea);break}a&&me&&we.alternate===null&&s(V,me),H=i(we,H,pe),Ne===null?de=we:Ne.sibling=we,Ne=we,me=ea}if(pe===Z.length)return t(V,me),De&&$s(V,pe),de;if(me===null){for(;pe<Z.length;pe++)me=le(V,Z[pe],te),me!==null&&(H=i(me,H,pe),Ne===null?de=me:Ne.sibling=me,Ne=me);return De&&$s(V,pe),de}for(me=l(me);pe<Z.length;pe++)ea=J(me,V,pe,Z[pe],te),ea!==null&&(a&&ea.alternate!==null&&me.delete(ea.key===null?pe:ea.key),H=i(ea,H,pe),Ne===null?de=ea:Ne.sibling=ea,Ne=ea);return a&&me.forEach(function(Os){return s(V,Os)}),De&&$s(V,pe),de}function he(V,H,Z,te){if(Z==null)throw Error(u(151));for(var de=null,Ne=null,me=H,pe=H=0,ea=null,we=Z.next();me!==null&&!we.done;pe++,we=Z.next()){me.index>pe?(ea=me,me=null):ea=me.sibling;var Os=K(V,me,we.value,te);if(Os===null){me===null&&(me=ea);break}a&&me&&Os.alternate===null&&s(V,me),H=i(Os,H,pe),Ne===null?de=Os:Ne.sibling=Os,Ne=Os,me=ea}if(we.done)return t(V,me),De&&$s(V,pe),de;if(me===null){for(;!we.done;pe++,we=Z.next())we=le(V,we.value,te),we!==null&&(H=i(we,H,pe),Ne===null?de=we:Ne.sibling=we,Ne=we);return De&&$s(V,pe),de}for(me=l(me);!we.done;pe++,we=Z.next())we=J(me,V,pe,we.value,te),we!==null&&(a&&we.alternate!==null&&me.delete(we.key===null?pe:we.key),H=i(we,H,pe),Ne===null?de=we:Ne.sibling=we,Ne=we);return a&&me.forEach(function(dp){return s(V,dp)}),De&&$s(V,pe),de}function Oe(V,H,Z,te){if(typeof Z=="object"&&Z!==null&&Z.type===P&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case C:e:{for(var de=Z.key;H!==null;){if(H.key===de){if(de=Z.type,de===P){if(H.tag===7){t(V,H.sibling),te=n(H,Z.props.children),te.return=V,V=te;break e}}else if(H.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===w&&qd(de)===H.type){t(V,H.sibling),te=n(H,Z.props),Cl(te,Z),te.return=V,V=te;break e}t(V,H);break}else s(V,H);H=H.sibling}Z.type===P?(te=qs(Z.props.children,V.mode,te,Z.key),te.return=V,V=te):(te=bn(Z.type,Z.key,Z.props,null,V.mode,te),Cl(te,Z),te.return=V,V=te)}return r(V);case L:e:{for(de=Z.key;H!==null;){if(H.key===de)if(H.tag===4&&H.stateNode.containerInfo===Z.containerInfo&&H.stateNode.implementation===Z.implementation){t(V,H.sibling),te=n(H,Z.children||[]),te.return=V,V=te;break e}else{t(V,H);break}else s(V,H);H=H.sibling}te=sc(Z,V.mode,te),te.return=V,V=te}return r(V);case w:return de=Z._init,Z=de(Z._payload),Oe(V,H,Z,te)}if(O(Z))return ge(V,H,Z,te);if(G(Z)){if(de=G(Z),typeof de!="function")throw Error(u(150));return Z=de.call(Z),he(V,H,Z,te)}if(typeof Z.then=="function")return Oe(V,H,In(Z),te);if(Z.$$typeof===N)return Oe(V,H,wn(V,Z),te);Bn(V,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,H!==null&&H.tag===6?(t(V,H.sibling),te=n(H,Z),te.return=V,V=te):(t(V,H),te=ac(Z,V.mode,te),te.return=V,V=te),r(V)):t(V,H)}return function(V,H,Z,te){try{Dl=0;var de=Oe(V,H,Z,te);return Tt=null,de}catch(me){if(me===xl||me===Cn)throw me;var Ne=xa(29,me,null,V.mode);return Ne.lanes=te,Ne.return=V,Ne}finally{}}}var Ot=Hd(!0),$d=Hd(!1),Ta=y(null),Ia=null;function gs(a){var s=a.alternate;ne(Ye,Ye.current&1),ne(Ta,a),Ia===null&&(s===null||Dt.current!==null||s.memoizedState!==null)&&(Ia=a)}function Vd(a){if(a.tag===22){if(ne(Ye,Ye.current),ne(Ta,a),Ia===null){var s=a.alternate;s!==null&&s.memoizedState!==null&&(Ia=a)}}else xs()}function xs(){ne(Ye,Ye.current),ne(Ta,Ta.current)}function Ja(a){X(Ta),Ia===a&&(Ia=null),X(Ye)}var Ye=y(0);function _n(a){for(var s=a;s!==null;){if(s.tag===13){var t=s.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||Er(t)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function zc(a,s,t,l){s=a.memoizedState,t=t(l,s),t=t==null?s:M({},s,t),a.memoizedState=t,a.lanes===0&&(a.updateQueue.baseState=t)}var Uc={enqueueSetState:function(a,s,t){a=a._reactInternals;var l=ba(),n=fs(l);n.payload=s,t!=null&&(n.callback=t),s=hs(a,n,l),s!==null&&(ya(s,a,l),vl(s,a,l))},enqueueReplaceState:function(a,s,t){a=a._reactInternals;var l=ba(),n=fs(l);n.tag=1,n.payload=s,t!=null&&(n.callback=t),s=hs(a,n,l),s!==null&&(ya(s,a,l),vl(s,a,l))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var t=ba(),l=fs(t);l.tag=2,s!=null&&(l.callback=s),s=hs(a,l,t),s!==null&&(ya(s,a,t),vl(s,a,t))}};function Gd(a,s,t,l,n,i,r){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(l,i,r):s.prototype&&s.prototype.isPureReactComponent?!ol(t,l)||!ol(n,i):!0}function Fd(a,s,t,l){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(t,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(t,l),s.state!==a&&Uc.enqueueReplaceState(s,s.state,null)}function Qs(a,s){var t=s;if("ref"in s){t={};for(var l in s)l!=="ref"&&(t[l]=s[l])}if(a=a.defaultProps){t===s&&(t=M({},t));for(var n in a)t[n]===void 0&&(t[n]=a[n])}return t}var qn=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function Yd(a){qn(a)}function Zd(a){console.error(a)}function Xd(a){qn(a)}function Hn(a,s){try{var t=a.onUncaughtError;t(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function Qd(a,s,t){try{var l=a.onCaughtError;l(t.value,{componentStack:t.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Lc(a,s,t){return t=fs(t),t.tag=3,t.payload={element:null},t.callback=function(){Hn(a,s)},t}function Kd(a){return a=fs(a),a.tag=3,a}function Jd(a,s,t,l){var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=l.value;a.payload=function(){return n(i)},a.callback=function(){Qd(s,t,l)}}var r=t.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(a.callback=function(){Qd(s,t,l),typeof n!="function"&&(Ss===null?Ss=new Set([this]):Ss.add(this));var j=l.stack;this.componentDidCatch(l.value,{componentStack:j!==null?j:""})})}function dh(a,s,t,l,n){if(t.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=t.alternate,s!==null&&hl(s,t,n,!0),t=Ta.current,t!==null){switch(t.tag){case 13:return Ia===null?cr():t.alternate===null&&Ie===0&&(Ie=3),t.flags&=-257,t.flags|=65536,t.lanes=n,l===mc?t.flags|=16384:(s=t.updateQueue,s===null?t.updateQueue=new Set([l]):s.add(l),or(a,l,n)),!1;case 22:return t.flags|=65536,l===mc?t.flags|=16384:(s=t.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},t.updateQueue=s):(t=s.retryQueue,t===null?s.retryQueue=new Set([l]):t.add(l)),or(a,l,n)),!1}throw Error(u(435,t.tag))}return or(a,l,n),cr(),!1}if(De)return s=Ta.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=n,l!==nc&&(a=Error(u(422),{cause:l}),fl(Da(a,t)))):(l!==nc&&(s=Error(u(423),{cause:l}),fl(Da(s,t))),a=a.current.alternate,a.flags|=65536,n&=-n,a.lanes|=n,l=Da(l,t),n=Lc(a.stateNode,l,n),pc(a,n),Ie!==4&&(Ie=2)),!1;var i=Error(u(520),{cause:l});if(i=Da(i,t),Pl===null?Pl=[i]:Pl.push(i),Ie!==4&&(Ie=2),s===null)return!0;l=Da(l,t),t=s;do{switch(t.tag){case 3:return t.flags|=65536,a=n&-n,t.lanes|=a,a=Lc(t.stateNode,l,a),pc(t,a),!1;case 1:if(s=t.type,i=t.stateNode,(t.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Ss===null||!Ss.has(i))))return t.flags|=65536,n&=-n,t.lanes|=n,n=Kd(n),Jd(n,a,t,l),pc(t,n),!1}t=t.return}while(t!==null);return!1}var Wd=Error(u(461)),Je=!1;function sa(a,s,t,l){s.child=a===null?$d(s,null,t,l):Ot(s,a.child,t,l)}function eu(a,s,t,l,n){t=t.render;var i=s.ref;if("ref"in l){var r={};for(var j in l)j!=="ref"&&(r[j]=l[j])}else r=l;return Ys(s),l=Nc(a,s,t,r,i,n),j=bc(),a!==null&&!Je?(yc(a,s,n),Wa(a,s,n)):(De&&j&&tc(s),s.flags|=1,sa(a,s,l,n),s.child)}function au(a,s,t,l,n){if(a===null){var i=t.type;return typeof i=="function"&&!ec(i)&&i.defaultProps===void 0&&t.compare===null?(s.tag=15,s.type=i,su(a,s,i,l,n)):(a=bn(t.type,null,l,s,s.mode,n),a.ref=s.ref,a.return=s,s.child=a)}if(i=a.child,!Gc(a,n)){var r=i.memoizedProps;if(t=t.compare,t=t!==null?t:ol,t(r,l)&&a.ref===s.ref)return Wa(a,s,n)}return s.flags|=1,a=Fa(i,l),a.ref=s.ref,a.return=s,s.child=a}function su(a,s,t,l,n){if(a!==null){var i=a.memoizedProps;if(ol(i,l)&&a.ref===s.ref)if(Je=!1,s.pendingProps=l=i,Gc(a,n))(a.flags&131072)!==0&&(Je=!0);else return s.lanes=a.lanes,Wa(a,s,n)}return Ic(a,s,t,l,n)}function tu(a,s,t){var l=s.pendingProps,n=l.children,i=a!==null?a.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=i!==null?i.baseLanes|t:t,a!==null){for(n=s.child=a.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;s.childLanes=i&~l}else s.childLanes=0,s.child=null;return lu(a,s,l,t)}if((t&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&Dn(s,i!==null?i.cachePool:null),i!==null?sd(s,i):xc(),Vd(s);else return s.lanes=s.childLanes=536870912,lu(a,s,i!==null?i.baseLanes|t:t,t)}else i!==null?(Dn(s,i.cachePool),sd(s,i),xs(),s.memoizedState=null):(a!==null&&Dn(s,null),xc(),xs());return sa(a,s,n,t),s.child}function lu(a,s,t,l){var n=uc();return n=n===null?null:{parent:Fe._currentValue,pool:n},s.memoizedState={baseLanes:t,cachePool:n},a!==null&&Dn(s,null),xc(),Vd(s),a!==null&&hl(a,s,l,!0),null}function $n(a,s){var t=s.ref;if(t===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(u(284));(a===null||a.ref!==t)&&(s.flags|=4194816)}}function Ic(a,s,t,l,n){return Ys(s),t=Nc(a,s,t,l,void 0,n),l=bc(),a!==null&&!Je?(yc(a,s,n),Wa(a,s,n)):(De&&l&&tc(s),s.flags|=1,sa(a,s,t,n),s.child)}function nu(a,s,t,l,n,i){return Ys(s),s.updateQueue=null,t=ld(s,l,t,n),td(a),l=bc(),a!==null&&!Je?(yc(a,s,i),Wa(a,s,i)):(De&&l&&tc(s),s.flags|=1,sa(a,s,t,i),s.child)}function iu(a,s,t,l,n){if(Ys(s),s.stateNode===null){var i=bt,r=t.contextType;typeof r=="object"&&r!==null&&(i=ia(r)),i=new t(l,i),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Uc,s.stateNode=i,i._reactInternals=s,i=s.stateNode,i.props=l,i.state=s.memoizedState,i.refs={},fc(s),r=t.contextType,i.context=typeof r=="object"&&r!==null?ia(r):bt,i.state=s.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(zc(s,t,r,l),i.state=s.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&Uc.enqueueReplaceState(i,i.state,null),bl(s,l,i,n),Nl(),i.state=s.memoizedState),typeof i.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(a===null){i=s.stateNode;var j=s.memoizedProps,I=Qs(t,j);i.props=I;var Q=i.context,se=t.contextType;r=bt,typeof se=="object"&&se!==null&&(r=ia(se));var le=t.getDerivedStateFromProps;se=typeof le=="function"||typeof i.getSnapshotBeforeUpdate=="function",j=s.pendingProps!==j,se||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(j||Q!==r)&&Fd(s,i,l,r),ms=!1;var K=s.memoizedState;i.state=K,bl(s,l,i,n),Nl(),Q=s.memoizedState,j||K!==Q||ms?(typeof le=="function"&&(zc(s,t,le,l),Q=s.memoizedState),(I=ms||Gd(s,t,I,l,K,Q,r))?(se||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=Q),i.props=l,i.state=Q,i.context=r,l=I):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{i=s.stateNode,hc(a,s),r=s.memoizedProps,se=Qs(t,r),i.props=se,le=s.pendingProps,K=i.context,Q=t.contextType,I=bt,typeof Q=="object"&&Q!==null&&(I=ia(Q)),j=t.getDerivedStateFromProps,(Q=typeof j=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==le||K!==I)&&Fd(s,i,l,I),ms=!1,K=s.memoizedState,i.state=K,bl(s,l,i,n),Nl();var J=s.memoizedState;r!==le||K!==J||ms||a!==null&&a.dependencies!==null&&En(a.dependencies)?(typeof j=="function"&&(zc(s,t,j,l),J=s.memoizedState),(se=ms||Gd(s,t,se,l,K,J,I)||a!==null&&a.dependencies!==null&&En(a.dependencies))?(Q||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(l,J,I),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(l,J,I)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=J),i.props=l,i.state=J,i.context=I,l=se):(typeof i.componentDidUpdate!="function"||r===a.memoizedProps&&K===a.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===a.memoizedProps&&K===a.memoizedState||(s.flags|=1024),l=!1)}return i=l,$n(a,s),l=(s.flags&128)!==0,i||l?(i=s.stateNode,t=l&&typeof t.getDerivedStateFromError!="function"?null:i.render(),s.flags|=1,a!==null&&l?(s.child=Ot(s,a.child,null,n),s.child=Ot(s,null,t,n)):sa(a,s,t,n),s.memoizedState=i.state,a=s.child):a=Wa(a,s,n),a}function cu(a,s,t,l){return ml(),s.flags|=256,sa(a,s,t,l),s.child}var Bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _c(a){return{baseLanes:a,cachePool:Zo()}}function qc(a,s,t){return a=a!==null?a.childLanes&~t:0,s&&(a|=Oa),a}function ru(a,s,t){var l=s.pendingProps,n=!1,i=(s.flags&128)!==0,r;if((r=i)||(r=a!==null&&a.memoizedState===null?!1:(Ye.current&2)!==0),r&&(n=!0,s.flags&=-129),r=(s.flags&32)!==0,s.flags&=-33,a===null){if(De){if(n?gs(s):xs(),De){var j=Le,I;if(I=j){e:{for(I=j,j=La;I.nodeType!==8;){if(!j){j=null;break e}if(I=Ua(I.nextSibling),I===null){j=null;break e}}j=I}j!==null?(s.memoizedState={dehydrated:j,treeContext:Hs!==null?{id:Ya,overflow:Za}:null,retryLane:536870912,hydrationErrors:null},I=xa(18,null,null,0),I.stateNode=j,I.return=s,s.child=I,ca=s,Le=null,I=!0):I=!1}I||Gs(s)}if(j=s.memoizedState,j!==null&&(j=j.dehydrated,j!==null))return Er(j)?s.lanes=32:s.lanes=536870912,null;Ja(s)}return j=l.children,l=l.fallback,n?(xs(),n=s.mode,j=Vn({mode:"hidden",children:j},n),l=qs(l,n,t,null),j.return=s,l.return=s,j.sibling=l,s.child=j,n=s.child,n.memoizedState=_c(t),n.childLanes=qc(a,r,t),s.memoizedState=Bc,l):(gs(s),Hc(s,j))}if(I=a.memoizedState,I!==null&&(j=I.dehydrated,j!==null)){if(i)s.flags&256?(gs(s),s.flags&=-257,s=$c(a,s,t)):s.memoizedState!==null?(xs(),s.child=a.child,s.flags|=128,s=null):(xs(),n=l.fallback,j=s.mode,l=Vn({mode:"visible",children:l.children},j),n=qs(n,j,t,null),n.flags|=2,l.return=s,n.return=s,l.sibling=n,s.child=l,Ot(s,a.child,null,t),l=s.child,l.memoizedState=_c(t),l.childLanes=qc(a,r,t),s.memoizedState=Bc,s=n);else if(gs(s),Er(j)){if(r=j.nextSibling&&j.nextSibling.dataset,r)var Q=r.dgst;r=Q,l=Error(u(419)),l.stack="",l.digest=r,fl({value:l,source:null,stack:null}),s=$c(a,s,t)}else if(Je||hl(a,s,t,!1),r=(t&a.childLanes)!==0,Je||r){if(r=Me,r!==null&&(l=t&-t,l=(l&42)!==0?1:wi(l),l=(l&(r.suspendedLanes|t))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Nt(a,l),ya(r,a,l),Wd;j.data==="$?"||cr(),s=$c(a,s,t)}else j.data==="$?"?(s.flags|=192,s.child=a.child,s=null):(a=I.treeContext,Le=Ua(j.nextSibling),ca=s,De=!0,Vs=null,La=!1,a!==null&&(Aa[ka++]=Ya,Aa[ka++]=Za,Aa[ka++]=Hs,Ya=a.id,Za=a.overflow,Hs=s),s=Hc(s,l.children),s.flags|=4096);return s}return n?(xs(),n=l.fallback,j=s.mode,I=a.child,Q=I.sibling,l=Fa(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,Q!==null?n=Fa(Q,n):(n=qs(n,j,t,null),n.flags|=2),n.return=s,l.return=s,l.sibling=n,s.child=l,l=n,n=s.child,j=a.child.memoizedState,j===null?j=_c(t):(I=j.cachePool,I!==null?(Q=Fe._currentValue,I=I.parent!==Q?{parent:Q,pool:Q}:I):I=Zo(),j={baseLanes:j.baseLanes|t,cachePool:I}),n.memoizedState=j,n.childLanes=qc(a,r,t),s.memoizedState=Bc,l):(gs(s),t=a.child,a=t.sibling,t=Fa(t,{mode:"visible",children:l.children}),t.return=s,t.sibling=null,a!==null&&(r=s.deletions,r===null?(s.deletions=[a],s.flags|=16):r.push(a)),s.child=t,s.memoizedState=null,t)}function Hc(a,s){return s=Vn({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function Vn(a,s){return a=xa(22,a,null,s),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function $c(a,s,t){return Ot(s,a.child,null,t),a=Hc(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function ou(a,s,t){a.lanes|=s;var l=a.alternate;l!==null&&(l.lanes|=s),cc(a.return,s,t)}function Vc(a,s,t,l,n){var i=a.memoizedState;i===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:t,tailMode:n}:(i.isBackwards=s,i.rendering=null,i.renderingStartTime=0,i.last=l,i.tail=t,i.tailMode=n)}function du(a,s,t){var l=s.pendingProps,n=l.revealOrder,i=l.tail;if(sa(a,s,l.children,t),l=Ye.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&ou(a,t,s);else if(a.tag===19)ou(a,t,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}l&=1}switch(ne(Ye,l),n){case"forwards":for(t=s.child,n=null;t!==null;)a=t.alternate,a!==null&&_n(a)===null&&(n=t),t=t.sibling;t=n,t===null?(n=s.child,s.child=null):(n=t.sibling,t.sibling=null),Vc(s,!1,n,t,i);break;case"backwards":for(t=null,n=s.child,s.child=null;n!==null;){if(a=n.alternate,a!==null&&_n(a)===null){s.child=n;break}a=n.sibling,n.sibling=t,t=n,n=a}Vc(s,!0,t,null,i);break;case"together":Vc(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Wa(a,s,t){if(a!==null&&(s.dependencies=a.dependencies),ys|=s.lanes,(t&s.childLanes)===0)if(a!==null){if(hl(a,s,t,!1),(t&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(u(153));if(s.child!==null){for(a=s.child,t=Fa(a,a.pendingProps),s.child=t,t.return=s;a.sibling!==null;)a=a.sibling,t=t.sibling=Fa(a,a.pendingProps),t.return=s;t.sibling=null}return s.child}function Gc(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&En(a)))}function uh(a,s,t){switch(s.tag){case 3:xe(s,s.stateNode.containerInfo),us(s,Fe,a.memoizedState.cache),ml();break;case 27:case 5:ze(s);break;case 4:xe(s,s.stateNode.containerInfo);break;case 10:us(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(gs(s),s.flags|=128,null):(t&s.child.childLanes)!==0?ru(a,s,t):(gs(s),a=Wa(a,s,t),a!==null?a.sibling:null);gs(s);break;case 19:var n=(a.flags&128)!==0;if(l=(t&s.childLanes)!==0,l||(hl(a,s,t,!1),l=(t&s.childLanes)!==0),n){if(l)return du(a,s,t);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ne(Ye,Ye.current),l)break;return null;case 22:case 23:return s.lanes=0,tu(a,s,t);case 24:us(s,Fe,a.memoizedState.cache)}return Wa(a,s,t)}function uu(a,s,t){if(a!==null)if(a.memoizedProps!==s.pendingProps)Je=!0;else{if(!Gc(a,t)&&(s.flags&128)===0)return Je=!1,uh(a,s,t);Je=(a.flags&131072)!==0}else Je=!1,De&&(s.flags&1048576)!==0&&qo(s,Sn,s.index);switch(s.lanes=0,s.tag){case 16:e:{a=s.pendingProps;var l=s.elementType,n=l._init;if(l=n(l._payload),s.type=l,typeof l=="function")ec(l)?(a=Qs(l,a),s.tag=1,s=iu(null,s,l,a,t)):(s.tag=0,s=Ic(null,s,l,a,t));else{if(l!=null){if(n=l.$$typeof,n===m){s.tag=11,s=eu(null,s,l,a,t);break e}else if(n===T){s.tag=14,s=au(null,s,l,a,t);break e}}throw s=Y(l)||l,Error(u(306,s,""))}}return s;case 0:return Ic(a,s,s.type,s.pendingProps,t);case 1:return l=s.type,n=Qs(l,s.pendingProps),iu(a,s,l,n,t);case 3:e:{if(xe(s,s.stateNode.containerInfo),a===null)throw Error(u(387));l=s.pendingProps;var i=s.memoizedState;n=i.element,hc(a,s),bl(s,l,null,t);var r=s.memoizedState;if(l=r.cache,us(s,Fe,l),l!==i.cache&&rc(s,[Fe],t,!0),Nl(),l=r.element,i.isDehydrated)if(i={element:l,isDehydrated:!1,cache:r.cache},s.updateQueue.baseState=i,s.memoizedState=i,s.flags&256){s=cu(a,s,l,t);break e}else if(l!==n){n=Da(Error(u(424)),s),fl(n),s=cu(a,s,l,t);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Le=Ua(a.firstChild),ca=s,De=!0,Vs=null,La=!0,t=$d(s,null,l,t),s.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(ml(),l===n){s=Wa(a,s,t);break e}sa(a,s,l,t)}s=s.child}return s;case 26:return $n(a,s),a===null?(t=pm(s.type,null,s.pendingProps,null))?s.memoizedState=t:De||(t=s.type,a=s.pendingProps,l=li(ce.current).createElement(t),l[na]=s,l[oa]=a,la(l,t,a),Ke(l),s.stateNode=l):s.memoizedState=pm(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return ze(s),a===null&&De&&(l=s.stateNode=mm(s.type,s.pendingProps,ce.current),ca=s,La=!0,n=Le,Ds(s.type)?(wr=n,Le=Ua(l.firstChild)):Le=n),sa(a,s,s.pendingProps.children,t),$n(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&De&&((n=l=Le)&&(l=Bh(l,s.type,s.pendingProps,La),l!==null?(s.stateNode=l,ca=s,Le=Ua(l.firstChild),La=!1,n=!0):n=!1),n||Gs(s)),ze(s),n=s.type,i=s.pendingProps,r=a!==null?a.memoizedProps:null,l=i.children,br(n,i)?l=null:r!==null&&br(n,r)&&(s.flags|=32),s.memoizedState!==null&&(n=Nc(a,s,th,null,null,t),$l._currentValue=n),$n(a,s),sa(a,s,l,t),s.child;case 6:return a===null&&De&&((a=t=Le)&&(t=_h(t,s.pendingProps,La),t!==null?(s.stateNode=t,ca=s,Le=null,a=!0):a=!1),a||Gs(s)),null;case 13:return ru(a,s,t);case 4:return xe(s,s.stateNode.containerInfo),l=s.pendingProps,a===null?s.child=Ot(s,null,l,t):sa(a,s,l,t),s.child;case 11:return eu(a,s,s.type,s.pendingProps,t);case 7:return sa(a,s,s.pendingProps,t),s.child;case 8:return sa(a,s,s.pendingProps.children,t),s.child;case 12:return sa(a,s,s.pendingProps.children,t),s.child;case 10:return l=s.pendingProps,us(s,s.type,l.value),sa(a,s,l.children,t),s.child;case 9:return n=s.type._context,l=s.pendingProps.children,Ys(s),n=ia(n),l=l(n),s.flags|=1,sa(a,s,l,t),s.child;case 14:return au(a,s,s.type,s.pendingProps,t);case 15:return su(a,s,s.type,s.pendingProps,t);case 19:return du(a,s,t);case 31:return l=s.pendingProps,t=s.mode,l={mode:l.mode,children:l.children},a===null?(t=Vn(l,t),t.ref=s.ref,s.child=t,t.return=s,s=t):(t=Fa(a.child,l),t.ref=s.ref,s.child=t,t.return=s,s=t),s;case 22:return tu(a,s,t);case 24:return Ys(s),l=ia(Fe),a===null?(n=uc(),n===null&&(n=Me,i=oc(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=t),n=i),s.memoizedState={parent:l,cache:n},fc(s),us(s,Fe,n)):((a.lanes&t)!==0&&(hc(a,s),bl(s,null,null,t),Nl()),n=a.memoizedState,i=s.memoizedState,n.parent!==l?(n={parent:l,cache:l},s.memoizedState=n,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=n),us(s,Fe,l)):(l=i.cache,us(s,Fe,l),l!==n.cache&&rc(s,[Fe],t,!0))),sa(a,s,s.pendingProps.children,t),s.child;case 29:throw s.pendingProps}throw Error(u(156,s.tag))}function es(a){a.flags|=4}function mu(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Nm(s)){if(s=Ta.current,s!==null&&((Se&4194048)===Se?Ia!==null:(Se&62914560)!==Se&&(Se&536870912)===0||s!==Ia))throw jl=mc,Xo;a.flags|=8192}}function Gn(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?$r():536870912,a.lanes|=s,zt|=s)}function Al(a,s){if(!De)switch(a.tailMode){case"hidden":s=a.tail;for(var t=null;s!==null;)s.alternate!==null&&(t=s),s=s.sibling;t===null?a.tail=null:t.sibling=null;break;case"collapsed":t=a.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:l.sibling=null}}function Ue(a){var s=a.alternate!==null&&a.alternate.child===a.child,t=0,l=0;if(s)for(var n=a.child;n!==null;)t|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=a,n=n.sibling;else for(n=a.child;n!==null;)t|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=a,n=n.sibling;return a.subtreeFlags|=l,a.childLanes=t,s}function mh(a,s,t){var l=s.pendingProps;switch(lc(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(s),null;case 1:return Ue(s),null;case 3:return t=s.stateNode,l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Qa(Fe),ve(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(a===null||a.child===null)&&(ul(s)?es(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Vo())),Ue(s),null;case 26:return t=s.memoizedState,a===null?(es(s),t!==null?(Ue(s),mu(s,t)):(Ue(s),s.flags&=-16777217)):t?t!==a.memoizedState?(es(s),Ue(s),mu(s,t)):(Ue(s),s.flags&=-16777217):(a.memoizedProps!==l&&es(s),Ue(s),s.flags&=-16777217),null;case 27:Qe(s),t=ce.current;var n=s.type;if(a!==null&&s.stateNode!=null)a.memoizedProps!==l&&es(s);else{if(!l){if(s.stateNode===null)throw Error(u(166));return Ue(s),null}a=oe.current,ul(s)?Ho(s):(a=mm(n,l,t),s.stateNode=a,es(s))}return Ue(s),null;case 5:if(Qe(s),t=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==l&&es(s);else{if(!l){if(s.stateNode===null)throw Error(u(166));return Ue(s),null}if(a=oe.current,ul(s))Ho(s);else{switch(n=li(ce.current),a){case 1:a=n.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:a=n.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":a=n.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":a=n.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":a=n.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?a.multiple=!0:l.size&&(a.size=l.size);break;default:a=typeof l.is=="string"?n.createElement(t,{is:l.is}):n.createElement(t)}}a[na]=s,a[oa]=l;e:for(n=s.child;n!==null;){if(n.tag===5||n.tag===6)a.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s.stateNode=a;e:switch(la(a,t,l),t){case"button":case"input":case"select":case"textarea":a=!!l.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&es(s)}}return Ue(s),s.flags&=-16777217,null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==l&&es(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(u(166));if(a=ce.current,ul(s)){if(a=s.stateNode,t=s.memoizedProps,l=null,n=ca,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}a[na]=s,a=!!(a.nodeValue===t||l!==null&&l.suppressHydrationWarning===!0||nm(a.nodeValue,t)),a||Gs(s)}else a=li(a).createTextNode(l),a[na]=s,s.stateNode=a}return Ue(s),null;case 13:if(l=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(n=ul(s),l!==null&&l.dehydrated!==null){if(a===null){if(!n)throw Error(u(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(u(317));n[na]=s}else ml(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ue(s),n=!1}else n=Vo(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=n),n=!0;if(!n)return s.flags&256?(Ja(s),s):(Ja(s),null)}if(Ja(s),(s.flags&128)!==0)return s.lanes=t,s;if(t=l!==null,a=a!==null&&a.memoizedState!==null,t){l=s.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var i=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(i=l.memoizedState.cachePool.pool),i!==n&&(l.flags|=2048)}return t!==a&&t&&(s.child.flags|=8192),Gn(s,s.updateQueue),Ue(s),null;case 4:return ve(),a===null&&gr(s.stateNode.containerInfo),Ue(s),null;case 10:return Qa(s.type),Ue(s),null;case 19:if(X(Ye),n=s.memoizedState,n===null)return Ue(s),null;if(l=(s.flags&128)!==0,i=n.rendering,i===null)if(l)Al(n,!1);else{if(Ie!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(i=_n(a),i!==null){for(s.flags|=128,Al(n,!1),a=i.updateQueue,s.updateQueue=a,Gn(s,a),s.subtreeFlags=0,a=t,t=s.child;t!==null;)_o(t,a),t=t.sibling;return ne(Ye,Ye.current&1|2),s.child}a=a.sibling}n.tail!==null&&re()>Zn&&(s.flags|=128,l=!0,Al(n,!1),s.lanes=4194304)}else{if(!l)if(a=_n(i),a!==null){if(s.flags|=128,l=!0,a=a.updateQueue,s.updateQueue=a,Gn(s,a),Al(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!De)return Ue(s),null}else 2*re()-n.renderingStartTime>Zn&&t!==536870912&&(s.flags|=128,l=!0,Al(n,!1),s.lanes=4194304);n.isBackwards?(i.sibling=s.child,s.child=i):(a=n.last,a!==null?a.sibling=i:s.child=i,n.last=i)}return n.tail!==null?(s=n.tail,n.rendering=s,n.tail=s.sibling,n.renderingStartTime=re(),s.sibling=null,a=Ye.current,ne(Ye,l?a&1|2:a&1),s):(Ue(s),null);case 22:case 23:return Ja(s),jc(),l=s.memoizedState!==null,a!==null?a.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(t&536870912)!==0&&(s.flags&128)===0&&(Ue(s),s.subtreeFlags&6&&(s.flags|=8192)):Ue(s),t=s.updateQueue,t!==null&&Gn(s,t.retryQueue),t=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==t&&(s.flags|=2048),a!==null&&X(Zs),null;case 24:return t=null,a!==null&&(t=a.memoizedState.cache),s.memoizedState.cache!==t&&(s.flags|=2048),Qa(Fe),Ue(s),null;case 25:return null;case 30:return null}throw Error(u(156,s.tag))}function fh(a,s){switch(lc(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return Qa(Fe),ve(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return Qe(s),null;case 13:if(Ja(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(u(340));ml()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return X(Ye),null;case 4:return ve(),null;case 10:return Qa(s.type),null;case 22:case 23:return Ja(s),jc(),a!==null&&X(Zs),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return Qa(Fe),null;case 25:return null;default:return null}}function fu(a,s){switch(lc(s),s.tag){case 3:Qa(Fe),ve();break;case 26:case 27:case 5:Qe(s);break;case 4:ve();break;case 13:Ja(s);break;case 19:X(Ye);break;case 10:Qa(s.type);break;case 22:case 23:Ja(s),jc(),a!==null&&X(Zs);break;case 24:Qa(Fe)}}function kl(a,s){try{var t=s.updateQueue,l=t!==null?t.lastEffect:null;if(l!==null){var n=l.next;t=n;do{if((t.tag&a)===a){l=void 0;var i=t.create,r=t.inst;l=i(),r.destroy=l}t=t.next}while(t!==n)}}catch(j){Re(s,s.return,j)}}function js(a,s,t){try{var l=s.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var i=n.next;l=i;do{if((l.tag&a)===a){var r=l.inst,j=r.destroy;if(j!==void 0){r.destroy=void 0,n=s;var I=t,Q=j;try{Q()}catch(se){Re(n,I,se)}}}l=l.next}while(l!==i)}}catch(se){Re(s,s.return,se)}}function hu(a){var s=a.updateQueue;if(s!==null){var t=a.stateNode;try{ad(s,t)}catch(l){Re(a,a.return,l)}}}function pu(a,s,t){t.props=Qs(a.type,a.memoizedProps),t.state=a.memoizedState;try{t.componentWillUnmount()}catch(l){Re(a,s,l)}}function Tl(a,s){try{var t=a.ref;if(t!==null){switch(a.tag){case 26:case 27:case 5:var l=a.stateNode;break;case 30:l=a.stateNode;break;default:l=a.stateNode}typeof t=="function"?a.refCleanup=t(l):t.current=l}}catch(n){Re(a,s,n)}}function Ba(a,s){var t=a.ref,l=a.refCleanup;if(t!==null)if(typeof l=="function")try{l()}catch(n){Re(a,s,n)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(n){Re(a,s,n)}else t.current=null}function gu(a){var s=a.type,t=a.memoizedProps,l=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":t.autoFocus&&l.focus();break e;case"img":t.src?l.src=t.src:t.srcSet&&(l.srcset=t.srcSet)}}catch(n){Re(a,a.return,n)}}function Fc(a,s,t){try{var l=a.stateNode;Ph(l,a.type,t,s),l[oa]=s}catch(n){Re(a,a.return,n)}}function xu(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Ds(a.type)||a.tag===4}function Yc(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||xu(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Ds(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Zc(a,s,t){var l=a.tag;if(l===5||l===6)a=a.stateNode,s?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(a,s):(s=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.appendChild(a),t=t._reactRootContainer,t!=null||s.onclick!==null||(s.onclick=ti));else if(l!==4&&(l===27&&Ds(a.type)&&(t=a.stateNode,s=null),a=a.child,a!==null))for(Zc(a,s,t),a=a.sibling;a!==null;)Zc(a,s,t),a=a.sibling}function Fn(a,s,t){var l=a.tag;if(l===5||l===6)a=a.stateNode,s?t.insertBefore(a,s):t.appendChild(a);else if(l!==4&&(l===27&&Ds(a.type)&&(t=a.stateNode),a=a.child,a!==null))for(Fn(a,s,t),a=a.sibling;a!==null;)Fn(a,s,t),a=a.sibling}function ju(a){var s=a.stateNode,t=a.memoizedProps;try{for(var l=a.type,n=s.attributes;n.length;)s.removeAttributeNode(n[0]);la(s,l,t),s[na]=a,s[oa]=t}catch(i){Re(a,a.return,i)}}var as=!1,qe=!1,Xc=!1,vu=typeof WeakSet=="function"?WeakSet:Set,We=null;function hh(a,s){if(a=a.containerInfo,vr=di,a=To(a),Yi(a)){if("selectionStart"in a)var t={start:a.selectionStart,end:a.selectionEnd};else e:{t=(t=a.ownerDocument)&&t.defaultView||window;var l=t.getSelection&&t.getSelection();if(l&&l.rangeCount!==0){t=l.anchorNode;var n=l.anchorOffset,i=l.focusNode;l=l.focusOffset;try{t.nodeType,i.nodeType}catch{t=null;break e}var r=0,j=-1,I=-1,Q=0,se=0,le=a,K=null;a:for(;;){for(var J;le!==t||n!==0&&le.nodeType!==3||(j=r+n),le!==i||l!==0&&le.nodeType!==3||(I=r+l),le.nodeType===3&&(r+=le.nodeValue.length),(J=le.firstChild)!==null;)K=le,le=J;for(;;){if(le===a)break a;if(K===t&&++Q===n&&(j=r),K===i&&++se===l&&(I=r),(J=le.nextSibling)!==null)break;le=K,K=le.parentNode}le=J}t=j===-1||I===-1?null:{start:j,end:I}}else t=null}t=t||{start:0,end:0}}else t=null;for(Nr={focusedElem:a,selectionRange:t},di=!1,We=s;We!==null;)if(s=We,a=s.child,(s.subtreeFlags&1024)!==0&&a!==null)a.return=s,We=a;else for(;We!==null;){switch(s=We,i=s.alternate,a=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&i!==null){a=void 0,t=s,n=i.memoizedProps,i=i.memoizedState,l=t.stateNode;try{var ge=Qs(t.type,n,t.elementType===t.type);a=l.getSnapshotBeforeUpdate(ge,i),l.__reactInternalSnapshotBeforeUpdate=a}catch(he){Re(t,t.return,he)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,t=a.nodeType,t===9)Sr(a);else if(t===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":Sr(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(u(163))}if(a=s.sibling,a!==null){a.return=s.return,We=a;break}We=s.return}}function Nu(a,s,t){var l=t.flags;switch(t.tag){case 0:case 11:case 15:vs(a,t),l&4&&kl(5,t);break;case 1:if(vs(a,t),l&4)if(a=t.stateNode,s===null)try{a.componentDidMount()}catch(r){Re(t,t.return,r)}else{var n=Qs(t.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(n,s,a.__reactInternalSnapshotBeforeUpdate)}catch(r){Re(t,t.return,r)}}l&64&&hu(t),l&512&&Tl(t,t.return);break;case 3:if(vs(a,t),l&64&&(a=t.updateQueue,a!==null)){if(s=null,t.child!==null)switch(t.child.tag){case 27:case 5:s=t.child.stateNode;break;case 1:s=t.child.stateNode}try{ad(a,s)}catch(r){Re(t,t.return,r)}}break;case 27:s===null&&l&4&&ju(t);case 26:case 5:vs(a,t),s===null&&l&4&&gu(t),l&512&&Tl(t,t.return);break;case 12:vs(a,t);break;case 13:vs(a,t),l&4&&Su(a,t),l&64&&(a=t.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(t=Sh.bind(null,t),qh(a,t))));break;case 22:if(l=t.memoizedState!==null||as,!l){s=s!==null&&s.memoizedState!==null||qe,n=as;var i=qe;as=l,(qe=s)&&!i?Ns(a,t,(t.subtreeFlags&8772)!==0):vs(a,t),as=n,qe=i}break;case 30:break;default:vs(a,t)}}function bu(a){var s=a.alternate;s!==null&&(a.alternate=null,bu(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&Ai(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Pe=null,ma=!1;function ss(a,s,t){for(t=t.child;t!==null;)yu(a,s,t),t=t.sibling}function yu(a,s,t){if(ha&&typeof ha.onCommitFiberUnmount=="function")try{ha.onCommitFiberUnmount(Kt,t)}catch{}switch(t.tag){case 26:qe||Ba(t,s),ss(a,s,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:qe||Ba(t,s);var l=Pe,n=ma;Ds(t.type)&&(Pe=t.stateNode,ma=!1),ss(a,s,t),Bl(t.stateNode),Pe=l,ma=n;break;case 5:qe||Ba(t,s);case 6:if(l=Pe,n=ma,Pe=null,ss(a,s,t),Pe=l,ma=n,Pe!==null)if(ma)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(t.stateNode)}catch(i){Re(t,s,i)}else try{Pe.removeChild(t.stateNode)}catch(i){Re(t,s,i)}break;case 18:Pe!==null&&(ma?(a=Pe,dm(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.stateNode),Yl(a)):dm(Pe,t.stateNode));break;case 4:l=Pe,n=ma,Pe=t.stateNode.containerInfo,ma=!0,ss(a,s,t),Pe=l,ma=n;break;case 0:case 11:case 14:case 15:qe||js(2,t,s),qe||js(4,t,s),ss(a,s,t);break;case 1:qe||(Ba(t,s),l=t.stateNode,typeof l.componentWillUnmount=="function"&&pu(t,s,l)),ss(a,s,t);break;case 21:ss(a,s,t);break;case 22:qe=(l=qe)||t.memoizedState!==null,ss(a,s,t),qe=l;break;default:ss(a,s,t)}}function Su(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Yl(a)}catch(t){Re(s,s.return,t)}}function ph(a){switch(a.tag){case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new vu),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new vu),s;default:throw Error(u(435,a.tag))}}function Qc(a,s){var t=ph(a);s.forEach(function(l){var n=Eh.bind(null,a,l);t.has(l)||(t.add(l),l.then(n,n))})}function ja(a,s){var t=s.deletions;if(t!==null)for(var l=0;l<t.length;l++){var n=t[l],i=a,r=s,j=r;e:for(;j!==null;){switch(j.tag){case 27:if(Ds(j.type)){Pe=j.stateNode,ma=!1;break e}break;case 5:Pe=j.stateNode,ma=!1;break e;case 3:case 4:Pe=j.stateNode.containerInfo,ma=!0;break e}j=j.return}if(Pe===null)throw Error(u(160));yu(i,r,n),Pe=null,ma=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Eu(s,a),s=s.sibling}var za=null;function Eu(a,s){var t=a.alternate,l=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:ja(s,a),va(a),l&4&&(js(3,a,a.return),kl(3,a),js(5,a,a.return));break;case 1:ja(s,a),va(a),l&512&&(qe||t===null||Ba(t,t.return)),l&64&&as&&(a=a.updateQueue,a!==null&&(l=a.callbacks,l!==null&&(t=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=t===null?l:t.concat(l))));break;case 26:var n=za;if(ja(s,a),va(a),l&512&&(qe||t===null||Ba(t,t.return)),l&4){var i=t!==null?t.memoizedState:null;if(l=a.memoizedState,t===null)if(l===null)if(a.stateNode===null){e:{l=a.type,t=a.memoizedProps,n=n.ownerDocument||n;a:switch(l){case"title":i=n.getElementsByTagName("title")[0],(!i||i[el]||i[na]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(l),n.head.insertBefore(i,n.querySelector("head > title"))),la(i,l,t),i[na]=a,Ke(i),l=i;break e;case"link":var r=jm("link","href",n).get(l+(t.href||""));if(r){for(var j=0;j<r.length;j++)if(i=r[j],i.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&i.getAttribute("rel")===(t.rel==null?null:t.rel)&&i.getAttribute("title")===(t.title==null?null:t.title)&&i.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){r.splice(j,1);break a}}i=n.createElement(l),la(i,l,t),n.head.appendChild(i);break;case"meta":if(r=jm("meta","content",n).get(l+(t.content||""))){for(j=0;j<r.length;j++)if(i=r[j],i.getAttribute("content")===(t.content==null?null:""+t.content)&&i.getAttribute("name")===(t.name==null?null:t.name)&&i.getAttribute("property")===(t.property==null?null:t.property)&&i.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&i.getAttribute("charset")===(t.charSet==null?null:t.charSet)){r.splice(j,1);break a}}i=n.createElement(l),la(i,l,t),n.head.appendChild(i);break;default:throw Error(u(468,l))}i[na]=a,Ke(i),l=i}a.stateNode=l}else vm(n,a.type,a.stateNode);else a.stateNode=xm(n,l,a.memoizedProps);else i!==l?(i===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):i.count--,l===null?vm(n,a.type,a.stateNode):xm(n,l,a.memoizedProps)):l===null&&a.stateNode!==null&&Fc(a,a.memoizedProps,t.memoizedProps)}break;case 27:ja(s,a),va(a),l&512&&(qe||t===null||Ba(t,t.return)),t!==null&&l&4&&Fc(a,a.memoizedProps,t.memoizedProps);break;case 5:if(ja(s,a),va(a),l&512&&(qe||t===null||Ba(t,t.return)),a.flags&32){n=a.stateNode;try{ft(n,"")}catch(J){Re(a,a.return,J)}}l&4&&a.stateNode!=null&&(n=a.memoizedProps,Fc(a,n,t!==null?t.memoizedProps:n)),l&1024&&(Xc=!0);break;case 6:if(ja(s,a),va(a),l&4){if(a.stateNode===null)throw Error(u(162));l=a.memoizedProps,t=a.stateNode;try{t.nodeValue=l}catch(J){Re(a,a.return,J)}}break;case 3:if(ci=null,n=za,za=ni(s.containerInfo),ja(s,a),za=n,va(a),l&4&&t!==null&&t.memoizedState.isDehydrated)try{Yl(s.containerInfo)}catch(J){Re(a,a.return,J)}Xc&&(Xc=!1,wu(a));break;case 4:l=za,za=ni(a.stateNode.containerInfo),ja(s,a),va(a),za=l;break;case 12:ja(s,a),va(a);break;case 13:ja(s,a),va(a),a.child.flags&8192&&a.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(sr=re()),l&4&&(l=a.updateQueue,l!==null&&(a.updateQueue=null,Qc(a,l)));break;case 22:n=a.memoizedState!==null;var I=t!==null&&t.memoizedState!==null,Q=as,se=qe;if(as=Q||n,qe=se||I,ja(s,a),qe=se,as=Q,va(a),l&8192)e:for(s=a.stateNode,s._visibility=n?s._visibility&-2:s._visibility|1,n&&(t===null||I||as||qe||Ks(a)),t=null,s=a;;){if(s.tag===5||s.tag===26){if(t===null){I=t=s;try{if(i=I.stateNode,n)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{j=I.stateNode;var le=I.memoizedProps.style,K=le!=null&&le.hasOwnProperty("display")?le.display:null;j.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(J){Re(I,I.return,J)}}}else if(s.tag===6){if(t===null){I=s;try{I.stateNode.nodeValue=n?"":I.memoizedProps}catch(J){Re(I,I.return,J)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;t===s&&(t=null),s=s.return}t===s&&(t=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=a.updateQueue,l!==null&&(t=l.retryQueue,t!==null&&(l.retryQueue=null,Qc(a,t))));break;case 19:ja(s,a),va(a),l&4&&(l=a.updateQueue,l!==null&&(a.updateQueue=null,Qc(a,l)));break;case 30:break;case 21:break;default:ja(s,a),va(a)}}function va(a){var s=a.flags;if(s&2){try{for(var t,l=a.return;l!==null;){if(xu(l)){t=l;break}l=l.return}if(t==null)throw Error(u(160));switch(t.tag){case 27:var n=t.stateNode,i=Yc(a);Fn(a,i,n);break;case 5:var r=t.stateNode;t.flags&32&&(ft(r,""),t.flags&=-33);var j=Yc(a);Fn(a,j,r);break;case 3:case 4:var I=t.stateNode.containerInfo,Q=Yc(a);Zc(a,Q,I);break;default:throw Error(u(161))}}catch(se){Re(a,a.return,se)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function wu(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;wu(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function vs(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Nu(a,s.alternate,s),s=s.sibling}function Ks(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:js(4,s,s.return),Ks(s);break;case 1:Ba(s,s.return);var t=s.stateNode;typeof t.componentWillUnmount=="function"&&pu(s,s.return,t),Ks(s);break;case 27:Bl(s.stateNode);case 26:case 5:Ba(s,s.return),Ks(s);break;case 22:s.memoizedState===null&&Ks(s);break;case 30:Ks(s);break;default:Ks(s)}a=a.sibling}}function Ns(a,s,t){for(t=t&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,n=a,i=s,r=i.flags;switch(i.tag){case 0:case 11:case 15:Ns(n,i,t),kl(4,i);break;case 1:if(Ns(n,i,t),l=i,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(Q){Re(l,l.return,Q)}if(l=i,n=l.updateQueue,n!==null){var j=l.stateNode;try{var I=n.shared.hiddenCallbacks;if(I!==null)for(n.shared.hiddenCallbacks=null,n=0;n<I.length;n++)ed(I[n],j)}catch(Q){Re(l,l.return,Q)}}t&&r&64&&hu(i),Tl(i,i.return);break;case 27:ju(i);case 26:case 5:Ns(n,i,t),t&&l===null&&r&4&&gu(i),Tl(i,i.return);break;case 12:Ns(n,i,t);break;case 13:Ns(n,i,t),t&&r&4&&Su(n,i);break;case 22:i.memoizedState===null&&Ns(n,i,t),Tl(i,i.return);break;case 30:break;default:Ns(n,i,t)}s=s.sibling}}function Kc(a,s){var t=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==t&&(a!=null&&a.refCount++,t!=null&&pl(t))}function Jc(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&pl(a))}function _a(a,s,t,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Du(a,s,t,l),s=s.sibling}function Du(a,s,t,l){var n=s.flags;switch(s.tag){case 0:case 11:case 15:_a(a,s,t,l),n&2048&&kl(9,s);break;case 1:_a(a,s,t,l);break;case 3:_a(a,s,t,l),n&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&pl(a)));break;case 12:if(n&2048){_a(a,s,t,l),a=s.stateNode;try{var i=s.memoizedProps,r=i.id,j=i.onPostCommit;typeof j=="function"&&j(r,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(I){Re(s,s.return,I)}}else _a(a,s,t,l);break;case 13:_a(a,s,t,l);break;case 23:break;case 22:i=s.stateNode,r=s.alternate,s.memoizedState!==null?i._visibility&2?_a(a,s,t,l):Ol(a,s):i._visibility&2?_a(a,s,t,l):(i._visibility|=2,Rt(a,s,t,l,(s.subtreeFlags&10256)!==0)),n&2048&&Kc(r,s);break;case 24:_a(a,s,t,l),n&2048&&Jc(s.alternate,s);break;default:_a(a,s,t,l)}}function Rt(a,s,t,l,n){for(n=n&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var i=a,r=s,j=t,I=l,Q=r.flags;switch(r.tag){case 0:case 11:case 15:Rt(i,r,j,I,n),kl(8,r);break;case 23:break;case 22:var se=r.stateNode;r.memoizedState!==null?se._visibility&2?Rt(i,r,j,I,n):Ol(i,r):(se._visibility|=2,Rt(i,r,j,I,n)),n&&Q&2048&&Kc(r.alternate,r);break;case 24:Rt(i,r,j,I,n),n&&Q&2048&&Jc(r.alternate,r);break;default:Rt(i,r,j,I,n)}s=s.sibling}}function Ol(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var t=a,l=s,n=l.flags;switch(l.tag){case 22:Ol(t,l),n&2048&&Kc(l.alternate,l);break;case 24:Ol(t,l),n&2048&&Jc(l.alternate,l);break;default:Ol(t,l)}s=s.sibling}}var Rl=8192;function Mt(a){if(a.subtreeFlags&Rl)for(a=a.child;a!==null;)Cu(a),a=a.sibling}function Cu(a){switch(a.tag){case 26:Mt(a),a.flags&Rl&&a.memoizedState!==null&&ep(za,a.memoizedState,a.memoizedProps);break;case 5:Mt(a);break;case 3:case 4:var s=za;za=ni(a.stateNode.containerInfo),Mt(a),za=s;break;case 22:a.memoizedState===null&&(s=a.alternate,s!==null&&s.memoizedState!==null?(s=Rl,Rl=16777216,Mt(a),Rl=s):Mt(a));break;default:Mt(a)}}function Au(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function Ml(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var t=0;t<s.length;t++){var l=s[t];We=l,Tu(l,a)}Au(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)ku(a),a=a.sibling}function ku(a){switch(a.tag){case 0:case 11:case 15:Ml(a),a.flags&2048&&js(9,a,a.return);break;case 3:Ml(a);break;case 12:Ml(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,Yn(a)):Ml(a);break;default:Ml(a)}}function Yn(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var t=0;t<s.length;t++){var l=s[t];We=l,Tu(l,a)}Au(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:js(8,s,s.return),Yn(s);break;case 22:t=s.stateNode,t._visibility&2&&(t._visibility&=-3,Yn(s));break;default:Yn(s)}a=a.sibling}}function Tu(a,s){for(;We!==null;){var t=We;switch(t.tag){case 0:case 11:case 15:js(8,t,s);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var l=t.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(t.memoizedState.cache)}if(l=t.child,l!==null)l.return=t,We=l;else e:for(t=a;We!==null;){l=We;var n=l.sibling,i=l.return;if(bu(l),l===t){We=null;break e}if(n!==null){n.return=i,We=n;break e}We=i}}}var gh={getCacheForType:function(a){var s=ia(Fe),t=s.data.get(a);return t===void 0&&(t=a(),s.data.set(a,t)),t}},xh=typeof WeakMap=="function"?WeakMap:Map,Ce=0,Me=null,be=null,Se=0,Ae=0,Na=null,bs=!1,Pt=!1,Wc=!1,ts=0,Ie=0,ys=0,Js=0,er=0,Oa=0,zt=0,Pl=null,fa=null,ar=!1,sr=0,Zn=1/0,Xn=null,Ss=null,ta=0,Es=null,Ut=null,Lt=0,tr=0,lr=null,Ou=null,zl=0,nr=null;function ba(){if((Ce&2)!==0&&Se!==0)return Se&-Se;if(S.T!==null){var a=Et;return a!==0?a:mr()}return Fr()}function Ru(){Oa===0&&(Oa=(Se&536870912)===0||De?Hr():536870912);var a=Ta.current;return a!==null&&(a.flags|=32),Oa}function ya(a,s,t){(a===Me&&(Ae===2||Ae===9)||a.cancelPendingCommit!==null)&&(It(a,0),ws(a,Se,Oa,!1)),Wt(a,t),((Ce&2)===0||a!==Me)&&(a===Me&&((Ce&2)===0&&(Js|=t),Ie===4&&ws(a,Se,Oa,!1)),qa(a))}function Mu(a,s,t){if((Ce&6)!==0)throw Error(u(327));var l=!t&&(s&124)===0&&(s&a.expiredLanes)===0||Jt(a,s),n=l?Nh(a,s):rr(a,s,!0),i=l;do{if(n===0){Pt&&!l&&ws(a,s,0,!1);break}else{if(t=a.current.alternate,i&&!jh(t)){n=rr(a,s,!1),i=!1;continue}if(n===2){if(i=s,a.errorRecoveryDisabledLanes&i)var r=0;else r=a.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){s=r;e:{var j=a;n=Pl;var I=j.current.memoizedState.isDehydrated;if(I&&(It(j,r).flags|=256),r=rr(j,r,!1),r!==2){if(Wc&&!I){j.errorRecoveryDisabledLanes|=i,Js|=i,n=4;break e}i=fa,fa=n,i!==null&&(fa===null?fa=i:fa.push.apply(fa,i))}n=r}if(i=!1,n!==2)continue}}if(n===1){It(a,0),ws(a,s,0,!0);break}e:{switch(l=a,i=n,i){case 0:case 1:throw Error(u(345));case 4:if((s&4194048)!==s)break;case 6:ws(l,s,Oa,!bs);break e;case 2:fa=null;break;case 3:case 5:break;default:throw Error(u(329))}if((s&62914560)===s&&(n=sr+300-re(),10<n)){if(ws(l,s,Oa,!bs),nn(l,0,!0)!==0)break e;l.timeoutHandle=rm(Pu.bind(null,l,t,fa,Xn,ar,s,Oa,Js,zt,bs,i,2,-0,0),n);break e}Pu(l,t,fa,Xn,ar,s,Oa,Js,zt,bs,i,0,-0,0)}}break}while(!0);qa(a)}function Pu(a,s,t,l,n,i,r,j,I,Q,se,le,K,J){if(a.timeoutHandle=-1,le=s.subtreeFlags,(le&8192||(le&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:Wh},Cu(s),le=ap(),le!==null)){a.cancelPendingCommit=le(qu.bind(null,a,s,i,t,l,n,r,j,I,se,1,K,J)),ws(a,i,r,!Q);return}qu(a,s,i,t,l,n,r,j,I)}function jh(a){for(var s=a;;){var t=s.tag;if((t===0||t===11||t===15)&&s.flags&16384&&(t=s.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var l=0;l<t.length;l++){var n=t[l],i=n.getSnapshot;n=n.value;try{if(!ga(i(),n))return!1}catch{return!1}}if(t=s.child,s.subtreeFlags&16384&&t!==null)t.return=s,s=t;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ws(a,s,t,l){s&=~er,s&=~Js,a.suspendedLanes|=s,a.pingedLanes&=~s,l&&(a.warmLanes|=s),l=a.expirationTimes;for(var n=s;0<n;){var i=31-pa(n),r=1<<i;l[i]=-1,n&=~r}t!==0&&Vr(a,t,s)}function Qn(){return(Ce&6)===0?(Ul(0),!1):!0}function ir(){if(be!==null){if(Ae===0)var a=be.return;else a=be,Xa=Fs=null,Sc(a),Tt=null,Dl=0,a=be;for(;a!==null;)fu(a.alternate,a),a=a.return;be=null}}function It(a,s){var t=a.timeoutHandle;t!==-1&&(a.timeoutHandle=-1,Uh(t)),t=a.cancelPendingCommit,t!==null&&(a.cancelPendingCommit=null,t()),ir(),Me=a,be=t=Fa(a.current,null),Se=s,Ae=0,Na=null,bs=!1,Pt=Jt(a,s),Wc=!1,zt=Oa=er=Js=ys=Ie=0,fa=Pl=null,ar=!1,(s&8)!==0&&(s|=s&32);var l=a.entangledLanes;if(l!==0)for(a=a.entanglements,l&=s;0<l;){var n=31-pa(l),i=1<<n;s|=a[n],l&=~i}return ts=s,jn(),t}function zu(a,s){je=null,S.H=Ln,s===xl||s===Cn?(s=Jo(),Ae=3):s===Xo?(s=Jo(),Ae=4):Ae=s===Wd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Na=s,be===null&&(Ie=1,Hn(a,Da(s,a.current)))}function Uu(){var a=S.H;return S.H=Ln,a===null?Ln:a}function Lu(){var a=S.A;return S.A=gh,a}function cr(){Ie=4,bs||(Se&4194048)!==Se&&Ta.current!==null||(Pt=!0),(ys&134217727)===0&&(Js&134217727)===0||Me===null||ws(Me,Se,Oa,!1)}function rr(a,s,t){var l=Ce;Ce|=2;var n=Uu(),i=Lu();(Me!==a||Se!==s)&&(Xn=null,It(a,s)),s=!1;var r=Ie;e:do try{if(Ae!==0&&be!==null){var j=be,I=Na;switch(Ae){case 8:ir(),r=6;break e;case 3:case 2:case 9:case 6:Ta.current===null&&(s=!0);var Q=Ae;if(Ae=0,Na=null,Bt(a,j,I,Q),t&&Pt){r=0;break e}break;default:Q=Ae,Ae=0,Na=null,Bt(a,j,I,Q)}}vh(),r=Ie;break}catch(se){zu(a,se)}while(!0);return s&&a.shellSuspendCounter++,Xa=Fs=null,Ce=l,S.H=n,S.A=i,be===null&&(Me=null,Se=0,jn()),r}function vh(){for(;be!==null;)Iu(be)}function Nh(a,s){var t=Ce;Ce|=2;var l=Uu(),n=Lu();Me!==a||Se!==s?(Xn=null,Zn=re()+500,It(a,s)):Pt=Jt(a,s);e:do try{if(Ae!==0&&be!==null){s=be;var i=Na;a:switch(Ae){case 1:Ae=0,Na=null,Bt(a,s,i,1);break;case 2:case 9:if(Qo(i)){Ae=0,Na=null,Bu(s);break}s=function(){Ae!==2&&Ae!==9||Me!==a||(Ae=7),qa(a)},i.then(s,s);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:Qo(i)?(Ae=0,Na=null,Bu(s)):(Ae=0,Na=null,Bt(a,s,i,7));break;case 5:var r=null;switch(be.tag){case 26:r=be.memoizedState;case 5:case 27:var j=be;if(!r||Nm(r)){Ae=0,Na=null;var I=j.sibling;if(I!==null)be=I;else{var Q=j.return;Q!==null?(be=Q,Kn(Q)):be=null}break a}}Ae=0,Na=null,Bt(a,s,i,5);break;case 6:Ae=0,Na=null,Bt(a,s,i,6);break;case 8:ir(),Ie=6;break e;default:throw Error(u(462))}}bh();break}catch(se){zu(a,se)}while(!0);return Xa=Fs=null,S.H=l,S.A=n,Ce=t,be!==null?0:(Me=null,Se=0,jn(),Ie)}function bh(){for(;be!==null&&!cs();)Iu(be)}function Iu(a){var s=uu(a.alternate,a,ts);a.memoizedProps=a.pendingProps,s===null?Kn(a):be=s}function Bu(a){var s=a,t=s.alternate;switch(s.tag){case 15:case 0:s=nu(t,s,s.pendingProps,s.type,void 0,Se);break;case 11:s=nu(t,s,s.pendingProps,s.type.render,s.ref,Se);break;case 5:Sc(s);default:fu(t,s),s=be=_o(s,ts),s=uu(t,s,ts)}a.memoizedProps=a.pendingProps,s===null?Kn(a):be=s}function Bt(a,s,t,l){Xa=Fs=null,Sc(s),Tt=null,Dl=0;var n=s.return;try{if(dh(a,n,s,t,Se)){Ie=1,Hn(a,Da(t,a.current)),be=null;return}}catch(i){if(n!==null)throw be=n,i;Ie=1,Hn(a,Da(t,a.current)),be=null;return}s.flags&32768?(De||l===1?a=!0:Pt||(Se&536870912)!==0?a=!1:(bs=a=!0,(l===2||l===9||l===3||l===6)&&(l=Ta.current,l!==null&&l.tag===13&&(l.flags|=16384))),_u(s,a)):Kn(s)}function Kn(a){var s=a;do{if((s.flags&32768)!==0){_u(s,bs);return}a=s.return;var t=mh(s.alternate,s,ts);if(t!==null){be=t;return}if(s=s.sibling,s!==null){be=s;return}be=s=a}while(s!==null);Ie===0&&(Ie=5)}function _u(a,s){do{var t=fh(a.alternate,a);if(t!==null){t.flags&=32767,be=t;return}if(t=a.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!s&&(a=a.sibling,a!==null)){be=a;return}be=a=t}while(a!==null);Ie=6,be=null}function qu(a,s,t,l,n,i,r,j,I){a.cancelPendingCommit=null;do Jn();while(ta!==0);if((Ce&6)!==0)throw Error(u(327));if(s!==null){if(s===a.current)throw Error(u(177));if(i=s.lanes|s.childLanes,i|=Ji,Jm(a,t,i,r,j,I),a===Me&&(be=Me=null,Se=0),Ut=s,Es=a,Lt=t,tr=i,lr=n,Ou=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,wh(nt,function(){return Fu(),null})):(a.callbackNode=null,a.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=S.T,S.T=null,n=_.p,_.p=2,r=Ce,Ce|=4;try{hh(a,s,t)}finally{Ce=r,_.p=n,S.T=l}}ta=1,Hu(),$u(),Vu()}}function Hu(){if(ta===1){ta=0;var a=Es,s=Ut,t=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||t){t=S.T,S.T=null;var l=_.p;_.p=2;var n=Ce;Ce|=4;try{Eu(s,a);var i=Nr,r=To(a.containerInfo),j=i.focusedElem,I=i.selectionRange;if(r!==j&&j&&j.ownerDocument&&ko(j.ownerDocument.documentElement,j)){if(I!==null&&Yi(j)){var Q=I.start,se=I.end;if(se===void 0&&(se=Q),"selectionStart"in j)j.selectionStart=Q,j.selectionEnd=Math.min(se,j.value.length);else{var le=j.ownerDocument||document,K=le&&le.defaultView||window;if(K.getSelection){var J=K.getSelection(),ge=j.textContent.length,he=Math.min(I.start,ge),Oe=I.end===void 0?he:Math.min(I.end,ge);!J.extend&&he>Oe&&(r=Oe,Oe=he,he=r);var V=Ao(j,he),H=Ao(j,Oe);if(V&&H&&(J.rangeCount!==1||J.anchorNode!==V.node||J.anchorOffset!==V.offset||J.focusNode!==H.node||J.focusOffset!==H.offset)){var Z=le.createRange();Z.setStart(V.node,V.offset),J.removeAllRanges(),he>Oe?(J.addRange(Z),J.extend(H.node,H.offset)):(Z.setEnd(H.node,H.offset),J.addRange(Z))}}}}for(le=[],J=j;J=J.parentNode;)J.nodeType===1&&le.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<le.length;j++){var te=le[j];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}di=!!vr,Nr=vr=null}finally{Ce=n,_.p=l,S.T=t}}a.current=s,ta=2}}function $u(){if(ta===2){ta=0;var a=Es,s=Ut,t=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||t){t=S.T,S.T=null;var l=_.p;_.p=2;var n=Ce;Ce|=4;try{Nu(a,s.alternate,s)}finally{Ce=n,_.p=l,S.T=t}}ta=3}}function Vu(){if(ta===4||ta===3){ta=0,Ps();var a=Es,s=Ut,t=Lt,l=Ou;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ta=5:(ta=0,Ut=Es=null,Gu(a,a.pendingLanes));var n=a.pendingLanes;if(n===0&&(Ss=null),Di(t),s=s.stateNode,ha&&typeof ha.onCommitFiberRoot=="function")try{ha.onCommitFiberRoot(Kt,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=S.T,n=_.p,_.p=2,S.T=null;try{for(var i=a.onRecoverableError,r=0;r<l.length;r++){var j=l[r];i(j.value,{componentStack:j.stack})}}finally{S.T=s,_.p=n}}(Lt&3)!==0&&Jn(),qa(a),n=a.pendingLanes,(t&4194090)!==0&&(n&42)!==0?a===nr?zl++:(zl=0,nr=a):zl=0,Ul(0)}}function Gu(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,pl(s)))}function Jn(a){return Hu(),$u(),Vu(),Fu()}function Fu(){if(ta!==5)return!1;var a=Es,s=tr;tr=0;var t=Di(Lt),l=S.T,n=_.p;try{_.p=32>t?32:t,S.T=null,t=lr,lr=null;var i=Es,r=Lt;if(ta=0,Ut=Es=null,Lt=0,(Ce&6)!==0)throw Error(u(331));var j=Ce;if(Ce|=4,ku(i.current),Du(i,i.current,r,t),Ce=j,Ul(0,!1),ha&&typeof ha.onPostCommitFiberRoot=="function")try{ha.onPostCommitFiberRoot(Kt,i)}catch{}return!0}finally{_.p=n,S.T=l,Gu(a,s)}}function Yu(a,s,t){s=Da(t,s),s=Lc(a.stateNode,s,2),a=hs(a,s,2),a!==null&&(Wt(a,2),qa(a))}function Re(a,s,t){if(a.tag===3)Yu(a,a,t);else for(;s!==null;){if(s.tag===3){Yu(s,a,t);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ss===null||!Ss.has(l))){a=Da(t,a),t=Kd(2),l=hs(s,t,2),l!==null&&(Jd(t,l,s,a),Wt(l,2),qa(l));break}}s=s.return}}function or(a,s,t){var l=a.pingCache;if(l===null){l=a.pingCache=new xh;var n=new Set;l.set(s,n)}else n=l.get(s),n===void 0&&(n=new Set,l.set(s,n));n.has(t)||(Wc=!0,n.add(t),a=yh.bind(null,a,s,t),s.then(a,a))}function yh(a,s,t){var l=a.pingCache;l!==null&&l.delete(s),a.pingedLanes|=a.suspendedLanes&t,a.warmLanes&=~t,Me===a&&(Se&t)===t&&(Ie===4||Ie===3&&(Se&62914560)===Se&&300>re()-sr?(Ce&2)===0&&It(a,0):er|=t,zt===Se&&(zt=0)),qa(a)}function Zu(a,s){s===0&&(s=$r()),a=Nt(a,s),a!==null&&(Wt(a,s),qa(a))}function Sh(a){var s=a.memoizedState,t=0;s!==null&&(t=s.retryLane),Zu(a,t)}function Eh(a,s){var t=0;switch(a.tag){case 13:var l=a.stateNode,n=a.memoizedState;n!==null&&(t=n.retryLane);break;case 19:l=a.stateNode;break;case 22:l=a.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(s),Zu(a,t)}function wh(a,s){return Ee(a,s)}var Wn=null,_t=null,dr=!1,ei=!1,ur=!1,Ws=0;function qa(a){a!==_t&&a.next===null&&(_t===null?Wn=_t=a:_t=_t.next=a),ei=!0,dr||(dr=!0,Ch())}function Ul(a,s){if(!ur&&ei){ur=!0;do for(var t=!1,l=Wn;l!==null;){if(a!==0){var n=l.pendingLanes;if(n===0)var i=0;else{var r=l.suspendedLanes,j=l.pingedLanes;i=(1<<31-pa(42|a)+1)-1,i&=n&~(r&~j),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(t=!0,Ju(l,i))}else i=Se,i=nn(l,l===Me?i:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(i&3)===0||Jt(l,i)||(t=!0,Ju(l,i));l=l.next}while(t);ur=!1}}function Dh(){Xu()}function Xu(){ei=dr=!1;var a=0;Ws!==0&&(zh()&&(a=Ws),Ws=0);for(var s=re(),t=null,l=Wn;l!==null;){var n=l.next,i=Qu(l,s);i===0?(l.next=null,t===null?Wn=n:t.next=n,n===null&&(_t=t)):(t=l,(a!==0||(i&3)!==0)&&(ei=!0)),l=n}Ul(a)}function Qu(a,s){for(var t=a.suspendedLanes,l=a.pingedLanes,n=a.expirationTimes,i=a.pendingLanes&-62914561;0<i;){var r=31-pa(i),j=1<<r,I=n[r];I===-1?((j&t)===0||(j&l)!==0)&&(n[r]=Km(j,s)):I<=s&&(a.expiredLanes|=j),i&=~j}if(s=Me,t=Se,t=nn(a,a===s?t:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),l=a.callbackNode,t===0||a===s&&(Ae===2||Ae===9)||a.cancelPendingCommit!==null)return l!==null&&l!==null&&Ge(l),a.callbackNode=null,a.callbackPriority=0;if((t&3)===0||Jt(a,t)){if(s=t&-t,s===a.callbackPriority)return s;switch(l!==null&&Ge(l),Di(t)){case 2:case 8:t=Ma;break;case 32:t=nt;break;case 268435456:t=sn;break;default:t=nt}return l=Ku.bind(null,a),t=Ee(t,l),a.callbackPriority=s,a.callbackNode=t,s}return l!==null&&l!==null&&Ge(l),a.callbackPriority=2,a.callbackNode=null,2}function Ku(a,s){if(ta!==0&&ta!==5)return a.callbackNode=null,a.callbackPriority=0,null;var t=a.callbackNode;if(Jn()&&a.callbackNode!==t)return null;var l=Se;return l=nn(a,a===Me?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),l===0?null:(Mu(a,l,s),Qu(a,re()),a.callbackNode!=null&&a.callbackNode===t?Ku.bind(null,a):null)}function Ju(a,s){if(Jn())return null;Mu(a,s,!0)}function Ch(){Lh(function(){(Ce&6)!==0?Ee(lt,Dh):Xu()})}function mr(){return Ws===0&&(Ws=Hr()),Ws}function Wu(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:un(""+a)}function em(a,s){var t=s.ownerDocument.createElement("input");return t.name=s.name,t.value=s.value,a.id&&t.setAttribute("form",a.id),s.parentNode.insertBefore(t,s),a=new FormData(a),t.parentNode.removeChild(t),a}function Ah(a,s,t,l,n){if(s==="submit"&&t&&t.stateNode===n){var i=Wu((n[oa]||null).action),r=l.submitter;r&&(s=(s=r[oa]||null)?Wu(s.formAction):r.getAttribute("formAction"),s!==null&&(i=s,r=null));var j=new pn("action","action",null,l,n);a.push({event:j,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ws!==0){var I=r?em(n,r):new FormData(n);Rc(t,{pending:!0,data:I,method:n.method,action:i},null,I)}}else typeof i=="function"&&(j.preventDefault(),I=r?em(n,r):new FormData(n),Rc(t,{pending:!0,data:I,method:n.method,action:i},i,I))},currentTarget:n}]})}}for(var fr=0;fr<Ki.length;fr++){var hr=Ki[fr],kh=hr.toLowerCase(),Th=hr[0].toUpperCase()+hr.slice(1);Pa(kh,"on"+Th)}Pa(Mo,"onAnimationEnd"),Pa(Po,"onAnimationIteration"),Pa(zo,"onAnimationStart"),Pa("dblclick","onDoubleClick"),Pa("focusin","onFocus"),Pa("focusout","onBlur"),Pa(Yf,"onTransitionRun"),Pa(Zf,"onTransitionStart"),Pa(Xf,"onTransitionCancel"),Pa(Uo,"onTransitionEnd"),dt("onMouseEnter",["mouseout","mouseover"]),dt("onMouseLeave",["mouseout","mouseover"]),dt("onPointerEnter",["pointerout","pointerover"]),dt("onPointerLeave",["pointerout","pointerover"]),Ls("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ls("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ls("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ls("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ls("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Oh=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ll));function am(a,s){s=(s&4)!==0;for(var t=0;t<a.length;t++){var l=a[t],n=l.event;l=l.listeners;e:{var i=void 0;if(s)for(var r=l.length-1;0<=r;r--){var j=l[r],I=j.instance,Q=j.currentTarget;if(j=j.listener,I!==i&&n.isPropagationStopped())break e;i=j,n.currentTarget=Q;try{i(n)}catch(se){qn(se)}n.currentTarget=null,i=I}else for(r=0;r<l.length;r++){if(j=l[r],I=j.instance,Q=j.currentTarget,j=j.listener,I!==i&&n.isPropagationStopped())break e;i=j,n.currentTarget=Q;try{i(n)}catch(se){qn(se)}n.currentTarget=null,i=I}}}}function ye(a,s){var t=s[Ci];t===void 0&&(t=s[Ci]=new Set);var l=a+"__bubble";t.has(l)||(sm(s,a,2,!1),t.add(l))}function pr(a,s,t){var l=0;s&&(l|=4),sm(t,a,l,s)}var ai="_reactListening"+Math.random().toString(36).slice(2);function gr(a){if(!a[ai]){a[ai]=!0,Zr.forEach(function(t){t!=="selectionchange"&&(Oh.has(t)||pr(t,!1,a),pr(t,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[ai]||(s[ai]=!0,pr("selectionchange",!1,s))}}function sm(a,s,t,l){switch(Dm(s)){case 2:var n=lp;break;case 8:n=np;break;default:n=Tr}t=n.bind(null,s,t,a),n=void 0,!Ii||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),l?n!==void 0?a.addEventListener(s,t,{capture:!0,passive:n}):a.addEventListener(s,t,!0):n!==void 0?a.addEventListener(s,t,{passive:n}):a.addEventListener(s,t,!1)}function xr(a,s,t,l,n){var i=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var r=l.tag;if(r===3||r===4){var j=l.stateNode.containerInfo;if(j===n)break;if(r===4)for(r=l.return;r!==null;){var I=r.tag;if((I===3||I===4)&&r.stateNode.containerInfo===n)return;r=r.return}for(;j!==null;){if(r=ct(j),r===null)return;if(I=r.tag,I===5||I===6||I===26||I===27){l=i=r;continue e}j=j.parentNode}}l=l.return}ro(function(){var Q=i,se=Ui(t),le=[];e:{var K=Lo.get(a);if(K!==void 0){var J=pn,ge=a;switch(a){case"keypress":if(fn(t)===0)break e;case"keydown":case"keyup":J=wf;break;case"focusin":ge="focus",J=Hi;break;case"focusout":ge="blur",J=Hi;break;case"beforeblur":case"afterblur":J=Hi;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=mo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=Af;break;case Mo:case Po:case zo:J=gf;break;case Uo:J=Tf;break;case"scroll":case"scrollend":J=uf;break;case"wheel":J=Rf;break;case"copy":case"cut":case"paste":J=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=ho;break;case"toggle":case"beforetoggle":J=Pf}var he=(s&4)!==0,Oe=!he&&(a==="scroll"||a==="scrollend"),V=he?K!==null?K+"Capture":null:K;he=[];for(var H=Q,Z;H!==null;){var te=H;if(Z=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||Z===null||V===null||(te=sl(H,V),te!=null&&he.push(Il(H,te,Z))),Oe)break;H=H.return}0<he.length&&(K=new J(K,ge,null,t,se),le.push({event:K,listeners:he}))}}if((s&7)===0){e:{if(K=a==="mouseover"||a==="pointerover",J=a==="mouseout"||a==="pointerout",K&&t!==zi&&(ge=t.relatedTarget||t.fromElement)&&(ct(ge)||ge[it]))break e;if((J||K)&&(K=se.window===se?se:(K=se.ownerDocument)?K.defaultView||K.parentWindow:window,J?(ge=t.relatedTarget||t.toElement,J=Q,ge=ge?ct(ge):null,ge!==null&&(Oe=g(ge),he=ge.tag,ge!==Oe||he!==5&&he!==27&&he!==6)&&(ge=null)):(J=null,ge=Q),J!==ge)){if(he=mo,te="onMouseLeave",V="onMouseEnter",H="mouse",(a==="pointerout"||a==="pointerover")&&(he=ho,te="onPointerLeave",V="onPointerEnter",H="pointer"),Oe=J==null?K:al(J),Z=ge==null?K:al(ge),K=new he(te,H+"leave",J,t,se),K.target=Oe,K.relatedTarget=Z,te=null,ct(se)===Q&&(he=new he(V,H+"enter",ge,t,se),he.target=Z,he.relatedTarget=Oe,te=he),Oe=te,J&&ge)a:{for(he=J,V=ge,H=0,Z=he;Z;Z=qt(Z))H++;for(Z=0,te=V;te;te=qt(te))Z++;for(;0<H-Z;)he=qt(he),H--;for(;0<Z-H;)V=qt(V),Z--;for(;H--;){if(he===V||V!==null&&he===V.alternate)break a;he=qt(he),V=qt(V)}he=null}else he=null;J!==null&&tm(le,K,J,he,!1),ge!==null&&Oe!==null&&tm(le,Oe,ge,he,!0)}}e:{if(K=Q?al(Q):window,J=K.nodeName&&K.nodeName.toLowerCase(),J==="select"||J==="input"&&K.type==="file")var de=yo;else if(No(K))if(So)de=Vf;else{de=Hf;var Ne=qf}else J=K.nodeName,!J||J.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Q&&Pi(Q.elementType)&&(de=yo):de=$f;if(de&&(de=de(a,Q))){bo(le,de,t,se);break e}Ne&&Ne(a,K,Q),a==="focusout"&&Q&&K.type==="number"&&Q.memoizedProps.value!=null&&Mi(K,"number",K.value)}switch(Ne=Q?al(Q):window,a){case"focusin":(No(Ne)||Ne.contentEditable==="true")&&(xt=Ne,Zi=Q,dl=null);break;case"focusout":dl=Zi=xt=null;break;case"mousedown":Xi=!0;break;case"contextmenu":case"mouseup":case"dragend":Xi=!1,Oo(le,t,se);break;case"selectionchange":if(Ff)break;case"keydown":case"keyup":Oo(le,t,se)}var me;if(Vi)e:{switch(a){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else gt?jo(a,t)&&(pe="onCompositionEnd"):a==="keydown"&&t.keyCode===229&&(pe="onCompositionStart");pe&&(po&&t.locale!=="ko"&&(gt||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&gt&&(me=oo()):(ds=se,Bi="value"in ds?ds.value:ds.textContent,gt=!0)),Ne=si(Q,pe),0<Ne.length&&(pe=new fo(pe,a,null,t,se),le.push({event:pe,listeners:Ne}),me?pe.data=me:(me=vo(t),me!==null&&(pe.data=me)))),(me=Uf?Lf(a,t):If(a,t))&&(pe=si(Q,"onBeforeInput"),0<pe.length&&(Ne=new fo("onBeforeInput","beforeinput",null,t,se),le.push({event:Ne,listeners:pe}),Ne.data=me)),Ah(le,a,Q,t,se)}am(le,s)})}function Il(a,s,t){return{instance:a,listener:s,currentTarget:t}}function si(a,s){for(var t=s+"Capture",l=[];a!==null;){var n=a,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=sl(a,t),n!=null&&l.unshift(Il(a,n,i)),n=sl(a,s),n!=null&&l.push(Il(a,n,i))),a.tag===3)return l;a=a.return}return[]}function qt(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function tm(a,s,t,l,n){for(var i=s._reactName,r=[];t!==null&&t!==l;){var j=t,I=j.alternate,Q=j.stateNode;if(j=j.tag,I!==null&&I===l)break;j!==5&&j!==26&&j!==27||Q===null||(I=Q,n?(Q=sl(t,i),Q!=null&&r.unshift(Il(t,Q,I))):n||(Q=sl(t,i),Q!=null&&r.push(Il(t,Q,I)))),t=t.return}r.length!==0&&a.push({event:s,listeners:r})}var Rh=/\r\n?/g,Mh=/\u0000|\uFFFD/g;function lm(a){return(typeof a=="string"?a:""+a).replace(Rh,`
`).replace(Mh,"")}function nm(a,s){return s=lm(s),lm(a)===s}function ti(){}function Te(a,s,t,l,n,i){switch(t){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||ft(a,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&ft(a,""+l);break;case"className":rn(a,"class",l);break;case"tabIndex":rn(a,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rn(a,t,l);break;case"style":io(a,l,i);break;case"data":if(s!=="object"){rn(a,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||t!=="href")){a.removeAttribute(t);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){a.removeAttribute(t);break}l=un(""+l),a.setAttribute(t,l);break;case"action":case"formAction":if(typeof l=="function"){a.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(t==="formAction"?(s!=="input"&&Te(a,s,"name",n.name,n,null),Te(a,s,"formEncType",n.formEncType,n,null),Te(a,s,"formMethod",n.formMethod,n,null),Te(a,s,"formTarget",n.formTarget,n,null)):(Te(a,s,"encType",n.encType,n,null),Te(a,s,"method",n.method,n,null),Te(a,s,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){a.removeAttribute(t);break}l=un(""+l),a.setAttribute(t,l);break;case"onClick":l!=null&&(a.onclick=ti);break;case"onScroll":l!=null&&ye("scroll",a);break;case"onScrollEnd":l!=null&&ye("scrollend",a);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(t=l.__html,t!=null){if(n.children!=null)throw Error(u(60));a.innerHTML=t}}break;case"multiple":a.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":a.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){a.removeAttribute("xlink:href");break}t=un(""+l),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?a.setAttribute(t,""+l):a.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?a.setAttribute(t,""):a.removeAttribute(t);break;case"capture":case"download":l===!0?a.setAttribute(t,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?a.setAttribute(t,l):a.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?a.setAttribute(t,l):a.removeAttribute(t);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?a.removeAttribute(t):a.setAttribute(t,l);break;case"popover":ye("beforetoggle",a),ye("toggle",a),cn(a,"popover",l);break;case"xlinkActuate":Va(a,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Va(a,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Va(a,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Va(a,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Va(a,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Va(a,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Va(a,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Va(a,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Va(a,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":cn(a,"is",l);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=of.get(t)||t,cn(a,t,l))}}function jr(a,s,t,l,n,i){switch(t){case"style":io(a,l,i);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(t=l.__html,t!=null){if(n.children!=null)throw Error(u(60));a.innerHTML=t}}break;case"children":typeof l=="string"?ft(a,l):(typeof l=="number"||typeof l=="bigint")&&ft(a,""+l);break;case"onScroll":l!=null&&ye("scroll",a);break;case"onScrollEnd":l!=null&&ye("scrollend",a);break;case"onClick":l!=null&&(a.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xr.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(n=t.endsWith("Capture"),s=t.slice(2,n?t.length-7:void 0),i=a[oa]||null,i=i!=null?i[t]:null,typeof i=="function"&&a.removeEventListener(s,i,n),typeof l=="function")){typeof i!="function"&&i!==null&&(t in a?a[t]=null:a.hasAttribute(t)&&a.removeAttribute(t)),a.addEventListener(s,l,n);break e}t in a?a[t]=l:l===!0?a.setAttribute(t,""):cn(a,t,l)}}}function la(a,s,t){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",a),ye("load",a);var l=!1,n=!1,i;for(i in t)if(t.hasOwnProperty(i)){var r=t[i];if(r!=null)switch(i){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,s));default:Te(a,s,i,r,t,null)}}n&&Te(a,s,"srcSet",t.srcSet,t,null),l&&Te(a,s,"src",t.src,t,null);return;case"input":ye("invalid",a);var j=i=r=n=null,I=null,Q=null;for(l in t)if(t.hasOwnProperty(l)){var se=t[l];if(se!=null)switch(l){case"name":n=se;break;case"type":r=se;break;case"checked":I=se;break;case"defaultChecked":Q=se;break;case"value":i=se;break;case"defaultValue":j=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(u(137,s));break;default:Te(a,s,l,se,t,null)}}so(a,i,j,I,Q,r,n,!1),on(a);return;case"select":ye("invalid",a),l=r=i=null;for(n in t)if(t.hasOwnProperty(n)&&(j=t[n],j!=null))switch(n){case"value":i=j;break;case"defaultValue":r=j;break;case"multiple":l=j;default:Te(a,s,n,j,t,null)}s=i,t=r,a.multiple=!!l,s!=null?mt(a,!!l,s,!1):t!=null&&mt(a,!!l,t,!0);return;case"textarea":ye("invalid",a),i=n=l=null;for(r in t)if(t.hasOwnProperty(r)&&(j=t[r],j!=null))switch(r){case"value":l=j;break;case"defaultValue":n=j;break;case"children":i=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(u(91));break;default:Te(a,s,r,j,t,null)}lo(a,l,n,i),on(a);return;case"option":for(I in t)if(t.hasOwnProperty(I)&&(l=t[I],l!=null))switch(I){case"selected":a.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Te(a,s,I,l,t,null)}return;case"dialog":ye("beforetoggle",a),ye("toggle",a),ye("cancel",a),ye("close",a);break;case"iframe":case"object":ye("load",a);break;case"video":case"audio":for(l=0;l<Ll.length;l++)ye(Ll[l],a);break;case"image":ye("error",a),ye("load",a);break;case"details":ye("toggle",a);break;case"embed":case"source":case"link":ye("error",a),ye("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in t)if(t.hasOwnProperty(Q)&&(l=t[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,s));default:Te(a,s,Q,l,t,null)}return;default:if(Pi(s)){for(se in t)t.hasOwnProperty(se)&&(l=t[se],l!==void 0&&jr(a,s,se,l,t,void 0));return}}for(j in t)t.hasOwnProperty(j)&&(l=t[j],l!=null&&Te(a,s,j,l,t,null))}function Ph(a,s,t,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,r=null,j=null,I=null,Q=null,se=null;for(J in t){var le=t[J];if(t.hasOwnProperty(J)&&le!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":I=le;default:l.hasOwnProperty(J)||Te(a,s,J,null,l,le)}}for(var K in l){var J=l[K];if(le=t[K],l.hasOwnProperty(K)&&(J!=null||le!=null))switch(K){case"type":i=J;break;case"name":n=J;break;case"checked":Q=J;break;case"defaultChecked":se=J;break;case"value":r=J;break;case"defaultValue":j=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(u(137,s));break;default:J!==le&&Te(a,s,K,J,l,le)}}Ri(a,r,j,I,Q,se,i,n);return;case"select":J=r=j=K=null;for(i in t)if(I=t[i],t.hasOwnProperty(i)&&I!=null)switch(i){case"value":break;case"multiple":J=I;default:l.hasOwnProperty(i)||Te(a,s,i,null,l,I)}for(n in l)if(i=l[n],I=t[n],l.hasOwnProperty(n)&&(i!=null||I!=null))switch(n){case"value":K=i;break;case"defaultValue":j=i;break;case"multiple":r=i;default:i!==I&&Te(a,s,n,i,l,I)}s=j,t=r,l=J,K!=null?mt(a,!!t,K,!1):!!l!=!!t&&(s!=null?mt(a,!!t,s,!0):mt(a,!!t,t?[]:"",!1));return;case"textarea":J=K=null;for(j in t)if(n=t[j],t.hasOwnProperty(j)&&n!=null&&!l.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Te(a,s,j,null,l,n)}for(r in l)if(n=l[r],i=t[r],l.hasOwnProperty(r)&&(n!=null||i!=null))switch(r){case"value":K=n;break;case"defaultValue":J=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(u(91));break;default:n!==i&&Te(a,s,r,n,l,i)}to(a,K,J);return;case"option":for(var ge in t)if(K=t[ge],t.hasOwnProperty(ge)&&K!=null&&!l.hasOwnProperty(ge))switch(ge){case"selected":a.selected=!1;break;default:Te(a,s,ge,null,l,K)}for(I in l)if(K=l[I],J=t[I],l.hasOwnProperty(I)&&K!==J&&(K!=null||J!=null))switch(I){case"selected":a.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Te(a,s,I,K,l,J)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var he in t)K=t[he],t.hasOwnProperty(he)&&K!=null&&!l.hasOwnProperty(he)&&Te(a,s,he,null,l,K);for(Q in l)if(K=l[Q],J=t[Q],l.hasOwnProperty(Q)&&K!==J&&(K!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(u(137,s));break;default:Te(a,s,Q,K,l,J)}return;default:if(Pi(s)){for(var Oe in t)K=t[Oe],t.hasOwnProperty(Oe)&&K!==void 0&&!l.hasOwnProperty(Oe)&&jr(a,s,Oe,void 0,l,K);for(se in l)K=l[se],J=t[se],!l.hasOwnProperty(se)||K===J||K===void 0&&J===void 0||jr(a,s,se,K,l,J);return}}for(var V in t)K=t[V],t.hasOwnProperty(V)&&K!=null&&!l.hasOwnProperty(V)&&Te(a,s,V,null,l,K);for(le in l)K=l[le],J=t[le],!l.hasOwnProperty(le)||K===J||K==null&&J==null||Te(a,s,le,K,l,J)}var vr=null,Nr=null;function li(a){return a.nodeType===9?a:a.ownerDocument}function im(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cm(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function br(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var yr=null;function zh(){var a=window.event;return a&&a.type==="popstate"?a===yr?!1:(yr=a,!0):(yr=null,!1)}var rm=typeof setTimeout=="function"?setTimeout:void 0,Uh=typeof clearTimeout=="function"?clearTimeout:void 0,om=typeof Promise=="function"?Promise:void 0,Lh=typeof queueMicrotask=="function"?queueMicrotask:typeof om<"u"?function(a){return om.resolve(null).then(a).catch(Ih)}:rm;function Ih(a){setTimeout(function(){throw a})}function Ds(a){return a==="head"}function dm(a,s){var t=s,l=0,n=0;do{var i=t.nextSibling;if(a.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(0<l&&8>l){t=l;var r=a.ownerDocument;if(t&1&&Bl(r.documentElement),t&2&&Bl(r.body),t&4)for(t=r.head,Bl(t),r=t.firstChild;r;){var j=r.nextSibling,I=r.nodeName;r[el]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&r.rel.toLowerCase()==="stylesheet"||t.removeChild(r),r=j}}if(n===0){a.removeChild(i),Yl(s);return}n--}else t==="$"||t==="$?"||t==="$!"?n++:l=t.charCodeAt(0)-48;else l=0;t=i}while(t);Yl(s)}function Sr(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var t=s;switch(s=s.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":Sr(t),Ai(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}a.removeChild(t)}}function Bh(a,s,t,l){for(;a.nodeType===1;){var n=t;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(l){if(!a[el])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(i=a.getAttribute("rel"),i==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(i!==n.rel||a.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||a.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||a.getAttribute("title")!==(n.title==null?null:n.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(i=a.getAttribute("src"),(i!==(n.src==null?null:n.src)||a.getAttribute("type")!==(n.type==null?null:n.type)||a.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&a.getAttribute("name")===i)return a}else return a;if(a=Ua(a.nextSibling),a===null)break}return null}function _h(a,s,t){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!t||(a=Ua(a.nextSibling),a===null))return null;return a}function Er(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function qh(a,s){var t=a.ownerDocument;if(a.data!=="$?"||t.readyState==="complete")s();else{var l=function(){s(),t.removeEventListener("DOMContentLoaded",l)};t.addEventListener("DOMContentLoaded",l),a._reactRetry=l}}function Ua(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return a}var wr=null;function um(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var t=a.data;if(t==="$"||t==="$!"||t==="$?"){if(s===0)return a;s--}else t==="/$"&&s++}a=a.previousSibling}return null}function mm(a,s,t){switch(s=li(t),a){case"html":if(a=s.documentElement,!a)throw Error(u(452));return a;case"head":if(a=s.head,!a)throw Error(u(453));return a;case"body":if(a=s.body,!a)throw Error(u(454));return a;default:throw Error(u(451))}}function Bl(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);Ai(a)}var Ra=new Map,fm=new Set;function ni(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ls=_.d;_.d={f:Hh,r:$h,D:Vh,C:Gh,L:Fh,m:Yh,X:Xh,S:Zh,M:Qh};function Hh(){var a=ls.f(),s=Qn();return a||s}function $h(a){var s=rt(a);s!==null&&s.tag===5&&s.type==="form"?Md(s):ls.r(a)}var Ht=typeof document>"u"?null:document;function hm(a,s,t){var l=Ht;if(l&&typeof s=="string"&&s){var n=wa(s);n='link[rel="'+a+'"][href="'+n+'"]',typeof t=="string"&&(n+='[crossorigin="'+t+'"]'),fm.has(n)||(fm.add(n),a={rel:a,crossOrigin:t,href:s},l.querySelector(n)===null&&(s=l.createElement("link"),la(s,"link",a),Ke(s),l.head.appendChild(s)))}}function Vh(a){ls.D(a),hm("dns-prefetch",a,null)}function Gh(a,s){ls.C(a,s),hm("preconnect",a,s)}function Fh(a,s,t){ls.L(a,s,t);var l=Ht;if(l&&a&&s){var n='link[rel="preload"][as="'+wa(s)+'"]';s==="image"&&t&&t.imageSrcSet?(n+='[imagesrcset="'+wa(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(n+='[imagesizes="'+wa(t.imageSizes)+'"]')):n+='[href="'+wa(a)+'"]';var i=n;switch(s){case"style":i=$t(a);break;case"script":i=Vt(a)}Ra.has(i)||(a=M({rel:"preload",href:s==="image"&&t&&t.imageSrcSet?void 0:a,as:s},t),Ra.set(i,a),l.querySelector(n)!==null||s==="style"&&l.querySelector(_l(i))||s==="script"&&l.querySelector(ql(i))||(s=l.createElement("link"),la(s,"link",a),Ke(s),l.head.appendChild(s)))}}function Yh(a,s){ls.m(a,s);var t=Ht;if(t&&a){var l=s&&typeof s.as=="string"?s.as:"script",n='link[rel="modulepreload"][as="'+wa(l)+'"][href="'+wa(a)+'"]',i=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Vt(a)}if(!Ra.has(i)&&(a=M({rel:"modulepreload",href:a},s),Ra.set(i,a),t.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(ql(i)))return}l=t.createElement("link"),la(l,"link",a),Ke(l),t.head.appendChild(l)}}}function Zh(a,s,t){ls.S(a,s,t);var l=Ht;if(l&&a){var n=ot(l).hoistableStyles,i=$t(a);s=s||"default";var r=n.get(i);if(!r){var j={loading:0,preload:null};if(r=l.querySelector(_l(i)))j.loading=5;else{a=M({rel:"stylesheet",href:a,"data-precedence":s},t),(t=Ra.get(i))&&Dr(a,t);var I=r=l.createElement("link");Ke(I),la(I,"link",a),I._p=new Promise(function(Q,se){I.onload=Q,I.onerror=se}),I.addEventListener("load",function(){j.loading|=1}),I.addEventListener("error",function(){j.loading|=2}),j.loading|=4,ii(r,s,l)}r={type:"stylesheet",instance:r,count:1,state:j},n.set(i,r)}}}function Xh(a,s){ls.X(a,s);var t=Ht;if(t&&a){var l=ot(t).hoistableScripts,n=Vt(a),i=l.get(n);i||(i=t.querySelector(ql(n)),i||(a=M({src:a,async:!0},s),(s=Ra.get(n))&&Cr(a,s),i=t.createElement("script"),Ke(i),la(i,"link",a),t.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function Qh(a,s){ls.M(a,s);var t=Ht;if(t&&a){var l=ot(t).hoistableScripts,n=Vt(a),i=l.get(n);i||(i=t.querySelector(ql(n)),i||(a=M({src:a,async:!0,type:"module"},s),(s=Ra.get(n))&&Cr(a,s),i=t.createElement("script"),Ke(i),la(i,"link",a),t.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},l.set(n,i))}}function pm(a,s,t,l){var n=(n=ce.current)?ni(n):null;if(!n)throw Error(u(446));switch(a){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(s=$t(t.href),t=ot(n).hoistableStyles,l=t.get(s),l||(l={type:"style",instance:null,count:0,state:null},t.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){a=$t(t.href);var i=ot(n).hoistableStyles,r=i.get(a);if(r||(n=n.ownerDocument||n,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(a,r),(i=n.querySelector(_l(a)))&&!i._p&&(r.instance=i,r.state.loading=5),Ra.has(a)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},Ra.set(a,t),i||Kh(n,a,t,r.state))),s&&l===null)throw Error(u(528,""));return r}if(s&&l!==null)throw Error(u(529,""));return null;case"script":return s=t.async,t=t.src,typeof t=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Vt(t),t=ot(n).hoistableScripts,l=t.get(s),l||(l={type:"script",instance:null,count:0,state:null},t.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,a))}}function $t(a){return'href="'+wa(a)+'"'}function _l(a){return'link[rel="stylesheet"]['+a+"]"}function gm(a){return M({},a,{"data-precedence":a.precedence,precedence:null})}function Kh(a,s,t,l){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=a.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),la(s,"link",t),Ke(s),a.head.appendChild(s))}function Vt(a){return'[src="'+wa(a)+'"]'}function ql(a){return"script[async]"+a}function xm(a,s,t){if(s.count++,s.instance===null)switch(s.type){case"style":var l=a.querySelector('style[data-href~="'+wa(t.href)+'"]');if(l)return s.instance=l,Ke(l),l;var n=M({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return l=(a.ownerDocument||a).createElement("style"),Ke(l),la(l,"style",n),ii(l,t.precedence,a),s.instance=l;case"stylesheet":n=$t(t.href);var i=a.querySelector(_l(n));if(i)return s.state.loading|=4,s.instance=i,Ke(i),i;l=gm(t),(n=Ra.get(n))&&Dr(l,n),i=(a.ownerDocument||a).createElement("link"),Ke(i);var r=i;return r._p=new Promise(function(j,I){r.onload=j,r.onerror=I}),la(i,"link",l),s.state.loading|=4,ii(i,t.precedence,a),s.instance=i;case"script":return i=Vt(t.src),(n=a.querySelector(ql(i)))?(s.instance=n,Ke(n),n):(l=t,(n=Ra.get(i))&&(l=M({},t),Cr(l,n)),a=a.ownerDocument||a,n=a.createElement("script"),Ke(n),la(n,"link",l),a.head.appendChild(n),s.instance=n);case"void":return null;default:throw Error(u(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,ii(l,t.precedence,a));return s.instance}function ii(a,s,t){for(var l=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,i=n,r=0;r<l.length;r++){var j=l[r];if(j.dataset.precedence===s)i=j;else if(i!==n)break}i?i.parentNode.insertBefore(a,i.nextSibling):(s=t.nodeType===9?t.head:t,s.insertBefore(a,s.firstChild))}function Dr(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function Cr(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var ci=null;function jm(a,s,t){if(ci===null){var l=new Map,n=ci=new Map;n.set(t,l)}else n=ci,l=n.get(t),l||(l=new Map,n.set(t,l));if(l.has(a))return l;for(l.set(a,null),t=t.getElementsByTagName(a),n=0;n<t.length;n++){var i=t[n];if(!(i[el]||i[na]||a==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(s)||"";r=a+r;var j=l.get(r);j?j.push(i):l.set(r,[i])}}return l}function vm(a,s,t){a=a.ownerDocument||a,a.head.insertBefore(t,s==="title"?a.querySelector("head > title"):null)}function Jh(a,s,t){if(t===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Nm(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Hl=null;function Wh(){}function ep(a,s,t){if(Hl===null)throw Error(u(475));var l=Hl;if(s.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var n=$t(t.href),i=a.querySelector(_l(n));if(i){a=i._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(l.count++,l=ri.bind(l),a.then(l,l)),s.state.loading|=4,s.instance=i,Ke(i);return}i=a.ownerDocument||a,t=gm(t),(n=Ra.get(n))&&Dr(t,n),i=i.createElement("link"),Ke(i);var r=i;r._p=new Promise(function(j,I){r.onload=j,r.onerror=I}),la(i,"link",t),s.instance=i}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,a),(a=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=ri.bind(l),a.addEventListener("load",s),a.addEventListener("error",s))}}function ap(){if(Hl===null)throw Error(u(475));var a=Hl;return a.stylesheets&&a.count===0&&Ar(a,a.stylesheets),0<a.count?function(s){var t=setTimeout(function(){if(a.stylesheets&&Ar(a,a.stylesheets),a.unsuspend){var l=a.unsuspend;a.unsuspend=null,l()}},6e4);return a.unsuspend=s,function(){a.unsuspend=null,clearTimeout(t)}}:null}function ri(){if(this.count--,this.count===0){if(this.stylesheets)Ar(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var oi=null;function Ar(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,oi=new Map,s.forEach(sp,a),oi=null,ri.call(a))}function sp(a,s){if(!(s.state.loading&4)){var t=oi.get(a);if(t)var l=t.get(null);else{t=new Map,oi.set(a,t);for(var n=a.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var r=n[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(t.set(r.dataset.precedence,r),l=r)}l&&t.set(null,l)}n=s.instance,r=n.getAttribute("data-precedence"),i=t.get(r)||l,i===l&&t.set(null,n),t.set(r,n),this.count++,l=ri.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),i?i.parentNode.insertBefore(n,i.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(n,a.firstChild)),s.state.loading|=4}}var $l={$$typeof:N,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function tp(a,s,t,l,n,i,r,j){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function bm(a,s,t,l,n,i,r,j,I,Q,se,le){return a=new tp(a,s,t,r,j,I,Q,le),s=1,i===!0&&(s|=24),i=xa(3,null,null,s),a.current=i,i.stateNode=a,s=oc(),s.refCount++,a.pooledCache=s,s.refCount++,i.memoizedState={element:l,isDehydrated:t,cache:s},fc(i),a}function ym(a){return a?(a=bt,a):bt}function Sm(a,s,t,l,n,i){n=ym(n),l.context===null?l.context=n:l.pendingContext=n,l=fs(s),l.payload={element:t},i=i===void 0?null:i,i!==null&&(l.callback=i),t=hs(a,l,s),t!==null&&(ya(t,a,s),vl(t,a,s))}function Em(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var t=a.retryLane;a.retryLane=t!==0&&t<s?t:s}}function kr(a,s){Em(a,s),(a=a.alternate)&&Em(a,s)}function wm(a){if(a.tag===13){var s=Nt(a,67108864);s!==null&&ya(s,a,67108864),kr(a,67108864)}}var di=!0;function lp(a,s,t,l){var n=S.T;S.T=null;var i=_.p;try{_.p=2,Tr(a,s,t,l)}finally{_.p=i,S.T=n}}function np(a,s,t,l){var n=S.T;S.T=null;var i=_.p;try{_.p=8,Tr(a,s,t,l)}finally{_.p=i,S.T=n}}function Tr(a,s,t,l){if(di){var n=Or(l);if(n===null)xr(a,s,l,ui,t),Cm(a,l);else if(cp(n,a,s,t,l))l.stopPropagation();else if(Cm(a,l),s&4&&-1<ip.indexOf(a)){for(;n!==null;){var i=rt(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=Us(i.pendingLanes);if(r!==0){var j=i;for(j.pendingLanes|=2,j.entangledLanes|=2;r;){var I=1<<31-pa(r);j.entanglements[1]|=I,r&=~I}qa(i),(Ce&6)===0&&(Zn=re()+500,Ul(0))}}break;case 13:j=Nt(i,2),j!==null&&ya(j,i,2),Qn(),kr(i,2)}if(i=Or(l),i===null&&xr(a,s,l,ui,t),i===n)break;n=i}n!==null&&l.stopPropagation()}else xr(a,s,l,null,t)}}function Or(a){return a=Ui(a),Rr(a)}var ui=null;function Rr(a){if(ui=null,a=ct(a),a!==null){var s=g(a);if(s===null)a=null;else{var t=s.tag;if(t===13){if(a=h(s),a!==null)return a;a=null}else if(t===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return ui=a,null}function Dm(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sa()){case lt:return 2;case Ma:return 8;case nt:case qr:return 32;case sn:return 268435456;default:return 32}default:return 32}}var Mr=!1,Cs=null,As=null,ks=null,Vl=new Map,Gl=new Map,Ts=[],ip="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cm(a,s){switch(a){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Vl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(s.pointerId)}}function Fl(a,s,t,l,n,i){return a===null||a.nativeEvent!==i?(a={blockedOn:s,domEventName:t,eventSystemFlags:l,nativeEvent:i,targetContainers:[n]},s!==null&&(s=rt(s),s!==null&&wm(s)),a):(a.eventSystemFlags|=l,s=a.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),a)}function cp(a,s,t,l,n){switch(s){case"focusin":return Cs=Fl(Cs,a,s,t,l,n),!0;case"dragenter":return As=Fl(As,a,s,t,l,n),!0;case"mouseover":return ks=Fl(ks,a,s,t,l,n),!0;case"pointerover":var i=n.pointerId;return Vl.set(i,Fl(Vl.get(i)||null,a,s,t,l,n)),!0;case"gotpointercapture":return i=n.pointerId,Gl.set(i,Fl(Gl.get(i)||null,a,s,t,l,n)),!0}return!1}function Am(a){var s=ct(a.target);if(s!==null){var t=g(s);if(t!==null){if(s=t.tag,s===13){if(s=h(t),s!==null){a.blockedOn=s,Wm(a.priority,function(){if(t.tag===13){var l=ba();l=wi(l);var n=Nt(t,l);n!==null&&ya(n,t,l),kr(t,l)}});return}}else if(s===3&&t.stateNode.current.memoizedState.isDehydrated){a.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}a.blockedOn=null}function mi(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var t=Or(a.nativeEvent);if(t===null){t=a.nativeEvent;var l=new t.constructor(t.type,t);zi=l,t.target.dispatchEvent(l),zi=null}else return s=rt(t),s!==null&&wm(s),a.blockedOn=t,!1;s.shift()}return!0}function km(a,s,t){mi(a)&&t.delete(s)}function rp(){Mr=!1,Cs!==null&&mi(Cs)&&(Cs=null),As!==null&&mi(As)&&(As=null),ks!==null&&mi(ks)&&(ks=null),Vl.forEach(km),Gl.forEach(km)}function fi(a,s){a.blockedOn===s&&(a.blockedOn=null,Mr||(Mr=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,rp)))}var hi=null;function Tm(a){hi!==a&&(hi=a,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){hi===a&&(hi=null);for(var s=0;s<a.length;s+=3){var t=a[s],l=a[s+1],n=a[s+2];if(typeof l!="function"){if(Rr(l||t)===null)continue;break}var i=rt(t);i!==null&&(a.splice(s,3),s-=3,Rc(i,{pending:!0,data:n,method:t.method,action:l},l,n))}}))}function Yl(a){function s(I){return fi(I,a)}Cs!==null&&fi(Cs,a),As!==null&&fi(As,a),ks!==null&&fi(ks,a),Vl.forEach(s),Gl.forEach(s);for(var t=0;t<Ts.length;t++){var l=Ts[t];l.blockedOn===a&&(l.blockedOn=null)}for(;0<Ts.length&&(t=Ts[0],t.blockedOn===null);)Am(t),t.blockedOn===null&&Ts.shift();if(t=(a.ownerDocument||a).$$reactFormReplay,t!=null)for(l=0;l<t.length;l+=3){var n=t[l],i=t[l+1],r=n[oa]||null;if(typeof i=="function")r||Tm(t);else if(r){var j=null;if(i&&i.hasAttribute("formAction")){if(n=i,r=i[oa]||null)j=r.formAction;else if(Rr(n)!==null)continue}else j=r.action;typeof j=="function"?t[l+1]=j:(t.splice(l,3),l-=3),Tm(t)}}}function Pr(a){this._internalRoot=a}pi.prototype.render=Pr.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(u(409));var t=s.current,l=ba();Sm(t,l,a,s,null,null)},pi.prototype.unmount=Pr.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;Sm(a.current,2,null,a,null,null),Qn(),s[it]=null}};function pi(a){this._internalRoot=a}pi.prototype.unstable_scheduleHydration=function(a){if(a){var s=Fr();a={blockedOn:null,target:a,priority:s};for(var t=0;t<Ts.length&&s!==0&&s<Ts[t].priority;t++);Ts.splice(t,0,a),t===0&&Am(a)}};var Om=o.version;if(Om!=="19.1.0")throw Error(u(527,Om,"19.1.0"));_.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(u(188)):(a=Object.keys(a).join(","),Error(u(268,a)));return a=D(s),a=a!==null?k(a):null,a=a===null?null:a.stateNode,a};var op={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gi.isDisabled&&gi.supportsFiber)try{Kt=gi.inject(op),ha=gi}catch{}}return Zl.createRoot=function(a,s){if(!b(a))throw Error(u(299));var t=!1,l="",n=Yd,i=Zd,r=Xd,j=null;return s!=null&&(s.unstable_strictMode===!0&&(t=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(n=s.onUncaughtError),s.onCaughtError!==void 0&&(i=s.onCaughtError),s.onRecoverableError!==void 0&&(r=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(j=s.unstable_transitionCallbacks)),s=bm(a,1,!1,null,null,t,l,n,i,r,j,null),a[it]=s.current,gr(a),new Pr(s)},Zl.hydrateRoot=function(a,s,t){if(!b(a))throw Error(u(299));var l=!1,n="",i=Yd,r=Zd,j=Xd,I=null,Q=null;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(j=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(I=t.unstable_transitionCallbacks),t.formState!==void 0&&(Q=t.formState)),s=bm(a,1,!0,s,t??null,l,n,i,r,j,I,Q),s.context=ym(null),t=s.current,l=ba(),l=wi(l),n=fs(l),n.callback=null,hs(t,n,l),t=l,s.current.lanes=t,Wt(s,t),qa(s),a[it]=s.current,gr(a),new pi(s)},Zl.version="19.1.0",Zl}var Um;function yp(){if(Um)return zr.exports;Um=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(o){console.error(o)}}return c(),zr.exports=bp(),zr.exports}var Sp=yp();let Ft="https://baconfort-production-084d.up.railway.app/api";typeof window<"u"&&(window.location.hostname.includes("web.app")||window.location.hostname.includes("firebaseapp.com"))&&(Ft="https://baconfort-production-084d.up.railway.app/api",console.log("🔥 Detectado despliegue en Firebase - forzando Railway API"));console.log("🌐 API: Usando URL:",Ft);const at=Ft,Hm=()=>{if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")return console.log("🛠️ [DEV MODE] Usando token de admin fijo para desarrollo"),localStorage.setItem("baconfort-token","LOCAL_DEV_ADMIN_TOKEN"),localStorage.setItem("baconfort_admin_session",JSON.stringify({token:"LOCAL_DEV_ADMIN_TOKEN",role:"admin",isAuthenticated:!0})),"LOCAL_DEV_ADMIN_TOKEN";const o=localStorage.getItem("baconfort-token");if(o){if(o.startsWith("eyJ"))try{if(JSON.parse(atob(o.split(".")[1])).role==="admin")return o}catch{}return o.startsWith("admin_token_")||o.startsWith("LOCAL_")||o.startsWith("BACONFORT_"),o}const f=localStorage.getItem("baconfort_admin_session"),u=f?JSON.parse(f):null;return u!=null&&u.token?u.token:u!=null&&u.sessionId?u.sessionId:"DEFAULT_ACCESS_TOKEN"},fe=async(c,o={})=>{const f=c.includes("?")?"&":"?",u=`_t=${Date.now()}`,b=`${Ft}${c}${f}${u}`,g={headers:{"Content-Type":"application/json"}},h=Hm();console.log("🔑 API: Token obtenido:",h?`${h.substring(0,20)}...`:"NO TOKEN"),h?(g.headers.Authorization=`Bearer ${h}`,console.log("🔑 API: Authorization header agregado"),console.log("🔑 API: Authorization header completo:",`Bearer ${h}`)):console.log("⚠️ API: NO se agregó Authorization header - sin token");const A={...g,...o,headers:{...g.headers,...o.headers}};try{const D=await fetch(b,A);if(!D.ok){const M=await D.json().catch(()=>({}));if(D.status===401&&M.code==="TOKEN_EXPIRED"){console.log("🔄 Token expirado, intentando renovar...");const E=JSON.parse(localStorage.getItem("baconfort-user")||"{}");if(E.email)try{const C=await fetch(`${Ft}/auth/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:E.email})});if(C.ok){const L=await C.json();console.log("✅ Token renovado exitosamente"),localStorage.setItem("baconfort-token",L.token),localStorage.setItem("baconfort-user",JSON.stringify(L.user));const P={...A,headers:{...A.headers,Authorization:`Bearer ${L.token}`}},x=await fetch(b,P);if(x.ok)return await x.json()}}catch(C){console.error("❌ Error renovando token:",C)}console.log("❌ No se pudo renovar el token, redirigiendo a login..."),localStorage.removeItem("baconfort-token"),localStorage.removeItem("baconfort-user"),!window.location.pathname.includes("/login")&&!window.location.pathname.includes("/auth")&&(window.location.href="/login?reason=token_expired")}throw new Error(M.error||`HTTP error! status: ${D.status}`)}return await D.json()}catch(D){throw D}},Gt={login:async(c,o)=>fe("/auth/login",{method:"POST",body:JSON.stringify({email:c,password:o})}),refreshToken:async c=>fe("/auth/refresh-token",{method:"POST",body:JSON.stringify({email:c})}),register:async c=>fe("/auth/register",{method:"POST",body:JSON.stringify(c)}),profile:async()=>fe("/auth/me"),updateProfile:async c=>fe("/auth/profile",{method:"PUT",body:JSON.stringify(c)}),changePassword:async(c,o)=>fe("/auth/change-password",{method:"PUT",body:JSON.stringify({currentPassword:c,newPassword:o})}),forgotPassword:async c=>fe("/auth/forgot-password",{method:"POST",body:JSON.stringify({email:c})}),resetPassword:async(c,o)=>fe("/auth/reset-password",{method:"POST",body:JSON.stringify({token:c,newPassword:o})})},ji={getAll:async()=>fe("/users"),getById:async c=>fe(`/users/${c}`),update:async(c,o)=>fe(`/users/${c}`,{method:"PUT",body:JSON.stringify(o)}),delete:async c=>fe(`/users/${c}`,{method:"DELETE"}),getStats:async()=>fe("/users/stats/summary")},et={getPropertyReviews:async(c,o={})=>{const{limit:f=10,page:u=1,sort:b="-createdAt"}=o,g=new URLSearchParams({limit:f.toString(),page:u.toString(),sort:b});return fe(`/reviews/property/${c}?${g}`)},submitReview:async c=>fe("/reviews",{method:"POST",body:JSON.stringify(c)}),getAllReviews:async(c={})=>{const o=new URLSearchParams;Object.entries(c).forEach(([u,b])=>{b!=null&&o.append(u,b)}),o.has("limit")||o.append("limit","20"),o.has("page")||o.append("page","1"),o.has("sort")||o.append("sort","-createdAt");const f=o.toString();return fe(`/reviews/admin${f?`?${f}`:""}`)},moderateReview:async(c,o,f="")=>fe(`/reviews/${c}/${o==="approve"?"approve":"reject"}`,{method:"PUT",body:JSON.stringify({notes:f})}),toggleHighlight:async(c,o)=>fe(`/reviews/${c}/highlight`,{method:"PATCH",body:JSON.stringify({highlight:o})}),deleteReview:async c=>fe(`/reviews/${c}`,{method:"DELETE"}),createReview:async c=>fe("/reviews",{method:"POST",body:JSON.stringify(c)})},bi={getAll:async()=>fe("/reservations"),getMyReservations:async()=>fe("/reservations/my"),getById:async c=>fe(`/reservations/${c}`),create:async c=>fe("/reservations",{method:"POST",body:JSON.stringify(c)}),updateStatus:async(c,o)=>fe(`/reservations/${c}/status`,{method:"PUT",body:JSON.stringify({status:o})}),cancel:async c=>fe(`/reservations/${c}/cancel`,{method:"PUT"}),updatePayment:async(c,o)=>fe(`/reservations/${c}/payment`,{method:"PUT",body:JSON.stringify(o)}),delete:async c=>fe(`/reservations/${c}`,{method:"DELETE"}),getByProperty:async c=>fe(`/reservations/property/${c}`)},Ep={getByProperty:async c=>fe(`/gallery/${c}`),uploadImages:async(c,o,f=null)=>f?fe(`/gallery/${c}/upload`,{method:"POST",headers:{},body:f}):fe(`/gallery/${c}/upload-batch`,{method:"POST",body:JSON.stringify({images:o})}),updateImage:async(c,o)=>fe(`/gallery/${c}`,{method:"PUT",body:JSON.stringify(o)}),deleteImage:async(c,o)=>fe(`/gallery/${c}/images/${o}`,{method:"DELETE"}),reorderImages:async(c,o)=>fe(`/gallery/${c}/reorder`,{method:"PUT",body:JSON.stringify({imageIds:o})}),setCoverImage:async c=>fe(`/gallery/${c}/cover`,{method:"PUT"})},$m={getProperty:async(c,o={})=>{let f=`/properties/${c}`;return o.cacheBust&&(f+=`?_t=${o.cacheBust}`),await fe(f,{method:"GET",headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})},getAllProperties:async()=>(await fe("/properties",{method:"GET"})).data||[],updateProperty:async(c,o)=>(await fe(`/properties/${c}`,{method:"PUT",body:JSON.stringify(o)})).data||null,createProperty:async c=>(await fe("/properties",{method:"POST",body:JSON.stringify(c)})).data||null,deleteProperty:async c=>await fe(`/properties/${c}`,{method:"DELETE"})},Ha={getAll:async(c={})=>{const o=new URLSearchParams;Object.entries(c).forEach(([u,b])=>{b!=null&&o.append(u,b)});const f=o.toString();return fe(`/promotions${f?`?${f}`:""}`)},getById:async c=>fe(`/promotions/${c}`),create:async c=>fe("/promotions",{method:"POST",body:JSON.stringify(c)}),update:async(c,o)=>{console.log("🔄 API update promotion:",c),console.log("📝 Data being sent to API:",o),o.durationType||console.warn("⚠️ durationType not included in update data!");const f=new Date().getTime(),u=`/promotions/${c}?_t=${f}`,b=await fe(u,{method:"PUT",body:JSON.stringify(o)});return console.log("✅ API response:",b),b},delete:async c=>fe(`/promotions/${c}`,{method:"DELETE"}),toggleStatus:async c=>fe(`/promotions/${c}/toggle-status`,{method:"PUT"}),updatePriority:async(c,o)=>fe(`/promotions/${c}/priority`,{method:"PUT",body:JSON.stringify({priority:o})}),sendToSubscribers:async c=>fe(`/promotions/${c}/send-to-subscribers`,{method:"POST"})},wp=()=>bi.getMyReservations(),Dp=(c,o)=>bi.updateStatus(c,o),Cp=async()=>{const c=localStorage.getItem("baconfort-token");if(!c)return!1;try{const o=await fetch(`${Ft}/auth/me`,{method:"GET",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(o.ok){const f=await o.json();return!0}else return!1}catch{return!1}};window.checkAuthStatus=Cp;const Ap=async(c={})=>{try{const f=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?"LOCAL_ADMIN_TOKEN":Hm(),u=new URLSearchParams;c.status&&u.append("status",c.status),c.page&&u.append("page",c.page),c.limit&&u.append("limit",c.limit),u.append("_t",Date.now());const b=u.toString(),g=`/inquiries/admin/all${b?`?${b}`:""}`;console.log("🔍 getAllInquiries: Enviando petición a:",g),console.log("🔑 getAllInquiries: Token disponible:",!!f);const h=await fe(g,{headers:{Authorization:`Bearer ${f}`}});return console.log("✅ getAllInquiries: Respuesta recibida:",h),h}catch(o){return console.error("❌ Error obteniendo consultas:",o),{success:!1,message:`Error al obtener consultas: ${o.message||"Error desconocido"}`,data:[]}}},kp=async(c,o,f="")=>{try{return fe(`/inquiries/${c}/status`,{method:"PATCH",body:JSON.stringify({status:o,adminResponse:f})})}catch(u){throw console.error("Error actualizando estado de consulta:",u),u}},Tp=async()=>{try{return fe("/inquiries/my-inquiries")}catch(c){throw console.error("Error obteniendo mis consultas:",c),c}},Op=async c=>{try{return fe("/inquiries",{method:"POST",body:JSON.stringify(c)})}catch(o){throw console.error("Error enviando consulta:",o),o}},Rp=async c=>{try{return fe("/inquiries/send",{method:"POST",body:JSON.stringify(c)})}catch(o){throw console.error("Error enviando consulta autenticada:",o),o}},Mp=async c=>{try{return fe(`/inquiries/${c}`,{method:"DELETE"})}catch(o){throw console.error("Error eliminando consulta:",o),o}},Vm=p.createContext(),Xe=()=>{const c=p.useContext(Vm);if(!c)throw new Error("useAdmin debe ser usado dentro de un AdminProvider");return c},Pp=({children:c})=>{const[o,f]=p.useState(!0),[u,b]=p.useState({name:"Administrador BACONFORT",email:"baconfort.centro@gmail.com",loginTime:Date.now()}),[g,h]=p.useState({}),[A,D]=p.useState(Date.now()),k=p.useCallback(()=>(localStorage.removeItem("baconfort_admin_session"),localStorage.removeItem("baconfort_admin_user"),localStorage.removeItem("baconfort-token"),localStorage.removeItem("baconfort-admin-token"),localStorage.removeItem("baconfort-user"),f(!1),window.location.href="/",console.log("🚪 AdminProvider: Logout completado"),!0),[]),M=p.useCallback(()=>g,[g]),E=p.useCallback(S=>g[S]||null,[g]),C=p.useCallback(async(S,_)=>(console.log("🏠 AdminProvider: updateProperty",S,_),h($=>({...$,[S]:{...$[S],..._,updatedAt:new Date().toISOString()}})),D(Date.now()),{success:!0}),[]),L=p.useCallback(async S=>{console.log("🏠 AdminProvider: addProperty",S);const _=S.id||`property-${Date.now()}`;return h($=>({...$,[_]:{...S,id:_,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}})),D(Date.now()),{success:!0,propertyId:_}},[]),P=p.useCallback(async S=>(console.log("🏠 AdminProvider: deleteProperty",S),h(_=>{const $={..._};return delete $[S],$}),D(Date.now()),!0),[]),x=p.useCallback(async()=>{console.log("🏠 AdminProvider: loadPropertiesFromBackend");try{const S=await $m.getAllProperties(),_={};return Array.isArray(S)&&S.forEach($=>{_[$.id]=$}),h(_),_}catch(S){return console.error("❌ Error cargando propiedades:",S),{}}},[]),z=p.useCallback(()=>(console.log("🔍 AdminProvider: debugStoredProperties",g),g),[g]),v=p.useCallback(()=>(console.log("🧹 AdminProvider: cleanupLocalStorageImages"),!0),[]),d=p.useCallback(()=>(console.log("🧹 AdminProvider: cleanupTestProperties"),!0),[]),N=p.useCallback(()=>(console.log("💰 AdminProvider: forcePriceSync"),D(Date.now()),!0),[]),m=p.useCallback(S=>Object.values(g).find($=>{var ie;return((ie=$.name)==null?void 0:ie.toLowerCase())===S.toLowerCase()})||null,[g]),B=p.useCallback(()=>!0,[]),q=p.useCallback(()=>!0,[]),T=p.useCallback(()=>[],[]),w=p.useCallback(()=>!0,[]),R=p.useCallback(()=>!0,[]),U=p.useCallback(()=>{},[]),F=p.useCallback(()=>{},[]),G=p.useCallback(()=>{},[]),ae=p.useCallback(()=>{},[]),Y=p.useCallback(()=>{},[]);p.useEffect(()=>{x()},[x]);const O={isAuthenticated:o,setIsAuthenticated:f,adminUser:u,lastUpdate:A,data:{properties:g},properties:g,getProperty:E,getPropertyByName:m,getAllProperties:M,updateProperty:C,addProperty:L,deleteProperty:P,loadPropertiesFromBackend:x,refreshData:B,logout:k,debugStoredProperties:z,cleanupLocalStorageImages:v,cleanupTestProperties:d,forcePriceSync:N,updatePromotions:q,getPromotions:T,addPromotion:w,deletePromotion:R,resetData:U,forceRefresh:F,reinitializeDataWithBlockFields:G,cleanCorePropertiesLocalFlags:ae,migratePropertyStructure:Y};return e.jsx(Vm.Provider,{value:O,children:c})},Gm=p.createContext(),is=()=>{const c=p.useContext(Gm);if(!c)throw new Error("useAuth debe ser usado dentro de un AuthProvider");return c},zp=({children:c})=>{const[o,f]=p.useState(null),[u,b]=p.useState(!0);p.useEffect(()=>{(()=>{try{const z=localStorage.getItem("baconfort-user"),v=localStorage.getItem("baconfort-token");if(z&&v){const d=JSON.parse(z);console.log("🔄 AUTH: Restaurando sesión:",d.email),f(d)}else console.log("📭 AUTH: No hay sesión guardada")}catch(z){console.error("❌ AUTH: Error restaurando sesión:",z),localStorage.removeItem("baconfort-user"),localStorage.removeItem("baconfort-token")}finally{b(!1)}})()},[]);const g=(x,z=null)=>{try{localStorage.setItem("baconfort-user",JSON.stringify(x)),z&&localStorage.setItem("baconfort-token",z),console.log("💾 AUTH: Sesión guardada en localStorage")}catch(v){console.error("❌ AUTH: Error guardando sesión:",v)}},h=()=>{localStorage.removeItem("baconfort-user"),localStorage.removeItem("baconfort-token"),console.log("🗑️ AUTH: Sesión eliminada del localStorage")},P={user:o,loading:u,login:async(x,z)=>{console.log("🔐 AUTH: Intento de login:",x),b(!0);try{const v="https://baconfort-production-084d.up.railway.app/api";console.log("🔐 AUTH: Usando API URL:",v);const N=await(await fetch(`${v}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:x,password:z})})).json();if(N.success){const m={id:N.user.id,email:N.user.email,name:N.user.name,role:N.user.role,phone:N.user.phone,emailVerified:N.user.emailVerified,createdAt:N.user.createdAt};return f(m),g(m,N.token),console.log("✅ AUTH: Login exitoso verificado por backend:",N.user.role),{success:!0,user:m}}else return console.error("❌ AUTH: Error en login:",N.error),N.needsEmailVerification?{success:!1,error:N.error,suggestion:"verify-email",message:"Necesitas verificar tu email antes de iniciar sesión. Revisa tu bandeja de entrada y haz clic en el enlace de verificación."}:N.error==="Credenciales inválidas"?{success:!1,error:N.error,suggestion:"register",message:"El usuario no existe. ¿Deseas registrarte?"}:{success:!1,error:N.error}}catch(v){return console.error("❌ AUTH: Error en login:",v),v.message.includes("Failed to fetch")||v.name==="TypeError"?{success:!1,error:"No se pudo conectar al servidor. Verifica que el backend esté corriendo.",suggestion:"retry",technical:"ERR_CONNECTION_REFUSED - Backend no disponible en puerto 5004"}:{success:!1,error:"Error de conexión al servidor"}}finally{b(!1)}},register:async x=>{console.log("📝 AUTH: Intento de registro real:",x.email),b(!0);try{const d=await(await fetch("https://baconfort-production-084d.up.railway.app/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:x.name,email:x.email,password:x.password})})).json();if(d.success){if(console.log("✅ AUTH: Registro exitoso en base de datos"),d.requiresEmailVerification)return console.log("📧 AUTH: Registro exitoso pero requiere verificación de email"),{success:!0,requiresEmailVerification:!0,message:d.message,user:{id:d.user.id,email:d.user.email,name:d.user.name,role:d.user.role,emailVerified:!1}};if(d.token){const N={id:d.user.id,email:d.user.email,name:d.user.name,role:d.user.role};return f(N),g(N,d.token),{success:!0,user:N}}return{success:!0,message:d.message,requiresEmailVerification:!0}}else return console.error("❌ AUTH: Error del servidor:",d.error),{success:!1,error:d.error}}catch(z){return console.error("❌ AUTH: Error en registro:",z),{success:!1,error:"Error de conexión al servidor"}}finally{b(!1)}},logout:()=>{console.log("🚪 AUTH: Logout"),f(null),h()},updateProfile:async x=>{if(console.log("👤 AUTH: Actualizando perfil:",x),o){const z={...o,...x};return f(z),g(z),{success:!0,user:z}}return{success:!1,error:"No user logged in"}},isAuthenticated:()=>o!==null,isAdmin:()=>o&&o.role==="admin",hasRole:x=>o&&o.role===x};return e.jsx(Gm.Provider,{value:P,children:c})},Ql={email:"baconfort.centro@gmail.com",password:"Baconfort2025!",accessCode:"BACONFORT_ADMIN_2025_7D3F9K2L"},Fm=()=>{const c=localStorage.getItem("baconfort-token"),o=localStorage.getItem("baconfort_admin_access_code");return{isAuthorized:!!c&&o===Ql.accessCode,domain:window.location.hostname,hasCode:o===Ql.accessCode,hasSession:!!c,withinTimeLimit:!0}},Up=()=>{const[c,o]=p.useState(!1),[f,u]=p.useState(!0),b=ns();return p.useEffect(()=>{(()=>{if(!Fm().isAuthorized){console.log("🔐 Acceso no autorizado, redirigiendo..."),b("/admin/access-required");return}o(!0),u(!1)})()},[b]),{isAuthorized:c,isChecking:f}},Lp=(c,o)=>new Promise((f,u)=>{if(console.log("🔍 Verificando acceso admin..."),console.log("Código recibido:",c),console.log("Email recibido:",o.email),c!==Ql.accessCode){console.log("❌ Código de acceso incorrecto"),u(new Error("Código de acceso incorrecto"));return}if(o.email!==Ql.email||o.password!==Ql.password){console.log("❌ Credenciales incorrectas"),u(new Error("Email o contraseña incorrectos"));return}const b="admin_token_"+Date.now();localStorage.setItem("baconfort-token",b),localStorage.setItem("baconfort_admin_access_code",c),localStorage.setItem("baconfort_admin_session_token","session_"+Date.now()),localStorage.setItem("baconfort_admin_last_access",Date.now().toString()),localStorage.setItem("baconfort_admin_user_role","admin"),localStorage.setItem("baconfort_admin_user_email",o.email),console.log("✅ Acceso admin autorizado exitosamente"),f({success:!0,user:{email:o.email,role:"admin",accessCode:c},token:b})});function vi({children:c,adminOnly:o=!1}){const{isAuthenticated:f,loading:u}=is(),{isAuthenticated:b}=Xe();if(u)return e.jsx("div",{children:"Cargando..."});if(o){const{isAuthorized:g}=Fm();return g?c:e.jsx(Rm,{to:"/admin/access-required",replace:!0})}return f?c:e.jsx(Rm,{to:"/",replace:!0})}const Ip=()=>{const[c,o]=p.useState(1),[f,u]=p.useState(""),[b,g]=p.useState({email:"",password:""}),[h,A]=p.useState(""),[D,k]=p.useState(!1),M=ns(),E=P=>{if(P.preventDefault(),!f.trim()){A("Ingresa el código de acceso");return}if(!f.includes("BACONFORT")&&!f.includes("SECURE")&&!f.includes("ADMIN")){A("Formato de código inválido");return}A(""),o(2)},C=async P=>{P.preventDefault(),k(!0),A("");try{await Lp(f,b),M("/admin"),window.location.reload()}catch(x){A(x.message)}k(!1)},L=()=>{const P=['El código contiene "BACONFORT", año actual y caracteres alfanuméricos',"Contacta al administrador: baconfort.centro@gmail.com","WhatsApp: +54 11 3002-1074"];return P[Math.floor(Math.random()*P.length)]};return e.jsx("div",{className:"access-required-container",children:e.jsxs("div",{className:"access-required-card",children:[e.jsxs("div",{className:"access-header",children:[e.jsx("i",{className:"fas fa-shield-alt"}),e.jsx("h1",{children:"Acceso Restringido"}),e.jsx("p",{children:"Panel de Administración - BACONFORT"})]}),c===1&&e.jsxs("form",{onSubmit:E,className:"access-form",children:[e.jsxs("div",{className:"security-notice",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("p",{children:"Esta área está protegida. Se requiere código de acceso autorizado."})]}),h&&e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-times-circle"}),h]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"accessCode",children:[e.jsx("i",{className:"fas fa-key"}),"Código de Acceso"]}),e.jsx("input",{type:"password",id:"accessCode",className:"form-control",value:f,onChange:P=>u(P.target.value),placeholder:"Ingresa el código de acceso autorizado",required:!0})]}),e.jsxs("button",{type:"submit",className:"btn btn-primary btn-block",children:[e.jsx("i",{className:"fas fa-unlock"}),"Verificar Código"]}),e.jsx("div",{className:"access-hint",children:e.jsxs("p",{children:[e.jsx("strong",{children:"Pista:"})," ",L()]})})]}),c===2&&e.jsxs("form",{onSubmit:C,className:"access-form",children:[e.jsxs("div",{className:"step-indicator",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("p",{children:"Código verificado. Ingresa credenciales administrativas."})]}),h&&e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-times-circle"}),h]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"email",children:[e.jsx("i",{className:"fas fa-envelope"}),"Email Administrativo"]}),e.jsx("input",{type:"email",id:"email",className:"form-control",value:b.email,onChange:P=>g({...b,email:P.target.value}),placeholder:"baconfort.centro@gmail.com",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"password",children:[e.jsx("i",{className:"fas fa-lock"}),"Contraseña Administrativa"]}),e.jsx("input",{type:"password",id:"password",className:"form-control",value:b.password,onChange:P=>g({...b,password:P.target.value}),placeholder:"Contraseña segura",required:!0})]}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>o(1),children:[e.jsx("i",{className:"fas fa-arrow-left"}),"Volver"]}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:D,children:D?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Verificando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),"Acceder"]})})]})]}),e.jsxs("div",{className:"security-footer",children:[e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-info-circle"}),"Si necesitas acceso, contacta al administrador del sistema."]}),e.jsxs("div",{className:"contact-info",children:[e.jsx("p",{children:"📧 roberto@baconfort.com"}),e.jsx("p",{children:"📱 +54 11 3002-1074"})]})]})]})})},Bp=()=>{const c=ns(),{addProperty:o}=Xe(),[f,u]=p.useState({title:"",address:"",id:"",dailyPrice:"",weeklyPrice:"",monthlyPrice:"",currency:"ARS",maxGuests:4,rooms:1,bathrooms:1,area:"",description:{es:"",en:"",pt:""},isNewProperty:!0,hasStaticPage:!1,createdAt:new Date().toISOString()}),[b,g]=p.useState(!1),[h,A]=p.useState(""),[D,k]=p.useState(null),[M,E]=p.useState(""),[C,L]=p.useState([]),[P,x]=p.useState([]),z=U=>(U==null?void 0:U.toLowerCase().replace(/[áàäâ]/g,"a").replace(/[éèëê]/g,"e").replace(/[íìïî]/g,"i").replace(/[óòöô]/g,"o").replace(/[úùüû]/g,"u").replace(/[ñ]/g,"n").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""))||"",v=U=>{const{name:F,value:G}=U.target;u(ae=>({...ae,[F]:G}))},d=(U,F)=>{const G=parseFloat(U);if(!G||G<=0)return{};let ae={};return F==="daily"?ae={weeklyPrice:Math.round(G*6.5),monthlyPrice:Math.round(G*25)}:F==="weekly"?ae={dailyPrice:Math.round(G/6.5),monthlyPrice:Math.round(G*4.2)}:F==="monthly"&&(ae={dailyPrice:Math.round(G/25),weeklyPrice:Math.round(G/4.2)}),ae},N=U=>{const{name:F,value:G}=U.target;if(u(ae=>({...ae,[F]:G})),G&&parseFloat(G)>0){const ae=d(G,F.replace("Price",""));u(Y=>({...Y,[F]:G,...Object.keys(ae).reduce((O,S)=>((!Y[S]||Y[S]==="")&&(O[S]=ae[S]),O),{})}))}},m=(U,F)=>{u(G=>({...G,description:{...G.description,[U]:F}}))},B=U=>{const F=U.target.files[0];if(F){if(F.size>5*1024*1024){A("❌ La imagen de portada no puede ser mayor a 5MB");return}if(!F.type.startsWith("image/")){A("❌ Solo se permiten archivos de imagen");return}k(F);const G=new FileReader;G.onload=ae=>{E(ae.target.result)},G.readAsDataURL(F),A("")}},q=U=>{const F=Array.from(U.target.files);if(console.log("🔍 Debug: Archivos seleccionados:",F.length),console.log("🔍 Debug: Archivos:",F.map(S=>S.name)),F.length>20){A("❌ Máximo 20 imágenes permitidas");return}if(F.length===0)return;const G=[],ae=[],Y=[];let O=0;L([]),x([]),A("🔄 Cargando imágenes...");for(let S=0;S<F.length;S++){const _=F[S];if(_.size>5*1024*1024){ae.push(`${_.name} es muy grande (máximo 5MB)`);continue}if(!_.type.startsWith("image/")){ae.push(`${_.name} no es un archivo de imagen válido`);continue}G.push({file:_,originalIndex:S})}if(G.length===0){A(`❌ No se seleccionaron imágenes válidas. Errores: ${ae.join(", ")}`);return}for(let S=0;S<G.length;S++){const{file:_,originalIndex:$}=G[S],ie=new FileReader;ie.onload=W=>{if(Y.push({file:_,preview:W.target.result,name:_.name,index:$}),O++,O===G.length){Y.sort((X,ne)=>X.index-ne.index),x(Y),L(G.map(X=>X.file));let y=`✅ ${G.length} imagen(es) cargada(s) correctamente`;ae.length>0&&(y+=`. Archivos omitidos: ${ae.length}`),A(y),console.log("✅ Debug: Imágenes cargadas exitosamente:",G.length),ae.length>0&&console.warn("⚠️ Debug: Archivos omitidos:",ae)}},ie.onerror=W=>{console.error("❌ Error leyendo archivo:",_.name,W),O++,O===G.length&&(x(Y),L(G.map(y=>y.file)),A(`⚠️ ${Y.length} imagen(es) cargada(s) con algunos errores`))},ie.readAsDataURL(_)}},T=U=>{const F=C.filter((ae,Y)=>Y!==U),G=P.filter((ae,Y)=>Y!==U);L(F),x(G),F.length===0&&A("")},w=(U,F=200,G=.3)=>new Promise((ae,Y)=>{const O=document.createElement("canvas"),S=O.getContext("2d"),_=new Image;_.onload=()=>{const $=Math.min(F/_.width,F/_.height),ie=_.width*$,W=_.height*$;O.width=ie,O.height=W,S.drawImage(_,0,0,ie,W);const y=O.toDataURL("image/jpeg",G);ae(y)},_.onerror=Y,_.src=URL.createObjectURL(U)}),R=async()=>{var U,F,G;try{if(g(!0),A(""),!((U=f.title)!=null&&U.trim())){A("❌ El título es requerido");return}if(!((F=f.address)!=null&&F.trim())){A("❌ La dirección es requerida");return}if(!(f.dailyPrice||f.weeklyPrice||f.monthlyPrice)){A("❌ Debe especificar al menos un precio (diario, semanal o mensual)");return}let Y=((G=f.id)==null?void 0:G.trim())||z(f.title);Y||(Y=`new-property-${Date.now()}`),["moldes-1680","santa-fe-3770","dorrego-1548","convencion-1994","ugarteche-2824"].includes(Y)&&(Y=`${Y}-new-${Date.now()}`),A("Procesando imágenes...");let S="/img/img-default-property.jpg";if(D)try{S=await w(D,400,.7),console.log("✅ Thumbnail de portada procesado")}catch(ie){console.warn("⚠️ Error procesando imagen de portada:",ie)}const _=[];if(C.length>0){A(`Procesando ${C.length} imágenes de galería...`);const ie=Math.min(C.length,4);for(let W=0;W<ie;W++)try{const y=await w(C[W],300,.5);_.push(y),A(`Procesando imagen ${W+1} de ${ie}...`)}catch(y){console.warn(`⚠️ Error procesando imagen ${W+1}:`,y)}C.length>4&&console.log(`⚠️ Solo se procesaron las primeras 4 imágenes de ${C.length} para evitar problemas de storage`),console.log(`✅ ${_.length} thumbnails de galería procesados`)}const $={...f,id:Y,prices:{daily:parseFloat(f.dailyPrice)||0,weekly:parseFloat(f.weeklyPrice)||0,monthly:parseFloat(f.monthlyPrice)||0,currency:f.currency||"ARS"},coverImage:S,galleryImages:_,galleryVideos:[],amenities:[],rules:[],location:{neighborhood:"",zone:"",coordinates:null},availability:{isAvailable:!0,blockedDates:[]},isNewProperty:!0,hasStaticPage:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};A("Creando nueva propiedad..."),console.log("🏗️ NewPropertyCreator: Creando nueva propiedad:",$),await o($),A("✅ Nueva propiedad creada exitosamente"),console.log("✅ NewPropertyCreator: Propiedad creada exitosamente"),setTimeout(()=>{c("/admin")},1500)}catch(ae){console.error("❌ Error al crear nueva propiedad:",ae),A(`❌ Error: ${ae.message}`)}finally{g(!1)}};return e.jsx("div",{className:"new-property-creator",children:e.jsx("div",{className:"container-fluid py-4",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("h3",{className:"text-primary",children:[e.jsx("i",{className:"fas fa-plus-circle me-2"}),"Crear Nueva Propiedad"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>c("/admin"),disabled:b,children:[e.jsx("i",{className:"fas fa-arrow-left me-2"}),"Volver al Dashboard"]})]}),h&&e.jsxs("div",{className:`alert ${h.includes("❌")?"alert-danger":h.includes("⚠️")?"alert-warning":"alert-success"} mb-4`,children:[e.jsx("i",{className:`fas ${h.includes("❌")?"fa-exclamation-circle":h.includes("⚠️")?"fa-exclamation-triangle":"fa-check-circle"} me-2`}),h]}),e.jsxs("div",{className:"alert alert-info mb-4",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:"Información:"})," Esta herramienta crea propiedades completamente nuevas e independientes. No afecta las propiedades existentes que tienen páginas estáticas."]}),e.jsxs("div",{className:"card shadow",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-form me-2"}),"Formulario de Nueva Propiedad"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-tag me-2 text-primary"}),"Título de la Propiedad *"]}),e.jsx("input",{type:"text",className:"form-control form-control-lg",name:"title",value:f.title,onChange:v,placeholder:"Ej: Departamento en Villa Crespo",required:!0})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-2 text-danger"}),"Dirección Completa *"]}),e.jsx("input",{type:"text",className:"form-control form-control-lg",name:"address",value:f.address,onChange:v,placeholder:"Ej: Av. Corrientes 1500",required:!0})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-key me-2 text-warning"}),"ID de la Propiedad (opcional)"]}),e.jsx("input",{type:"text",className:"form-control",name:"id",value:f.id,onChange:v,placeholder:"Se generará automáticamente si se deja vacío"}),e.jsx("small",{className:"form-text text-muted",children:"Si no se especifica, se generará automáticamente basado en el título"})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-calendar-day me-2 text-success"}),"Precio por Día"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",className:"form-control",name:"dailyPrice",value:f.dailyPrice,onChange:N,placeholder:"Ej: 150",min:"0"}),e.jsx("span",{className:"input-group-text",children:f.currency==="USD"?"USD":"ARS"})]}),e.jsx("small",{className:"form-text text-muted",children:"Precio por noche"})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-calendar-week me-2 text-warning"}),"Precio por Semana"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",className:"form-control",name:"weeklyPrice",value:f.weeklyPrice,onChange:N,placeholder:"Ej: 900",min:"0"}),e.jsx("span",{className:"input-group-text",children:f.currency==="USD"?"USD":"ARS"})]}),e.jsx("small",{className:"form-text text-muted",children:"Precio por 7 días"})]}),e.jsxs("div",{className:"col-md-4 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-calendar me-2 text-info"}),"Precio por Mes"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("input",{type:"number",className:"form-control",name:"monthlyPrice",value:f.monthlyPrice,onChange:N,placeholder:"Ej: 3000",min:"0"}),e.jsx("span",{className:"input-group-text",children:f.currency==="USD"?"USD":"ARS"})]}),e.jsx("small",{className:"form-text text-muted",children:"Precio por 30 días"})]}),e.jsxs("div",{className:"col-md-6 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-money-bill-wave me-2 text-primary"}),"Moneda"]}),e.jsxs("select",{className:"form-select",name:"currency",value:f.currency,onChange:v,children:[e.jsx("option",{value:"ARS",children:"Pesos Argentinos (ARS)"}),e.jsx("option",{value:"USD",children:"Dólares Americanos (USD)"})]})]}),e.jsx("div",{className:"col-md-6 mb-3 d-flex align-items-end",children:e.jsxs("button",{type:"button",className:"btn btn-outline-secondary",onClick:()=>u(U=>({...U,dailyPrice:"",weeklyPrice:"",monthlyPrice:""})),children:[e.jsx("i",{className:"fas fa-eraser me-2"}),"Limpiar Precios"]})}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-users me-2 text-info"}),"Huéspedes"]}),e.jsx("input",{type:"number",className:"form-control",name:"maxGuests",value:f.maxGuests,onChange:v,min:"1",max:"20"})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-bed me-2 text-secondary"}),"Habitaciones"]}),e.jsx("input",{type:"number",className:"form-control",name:"rooms",value:f.rooms,onChange:v,min:"1",max:"10"})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-bath me-2 text-primary"}),"Baños"]}),e.jsx("input",{type:"number",className:"form-control",name:"bathrooms",value:f.bathrooms,onChange:v,min:"1",max:"5"})]}),e.jsxs("div",{className:"col-md-3 mb-3",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-expand me-2 text-success"}),"Área (m²)"]}),e.jsx("input",{type:"number",className:"form-control",name:"area",value:f.area,onChange:v,placeholder:"Ej: 55",min:"0"})]}),e.jsxs("div",{className:"col-12 mb-4",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-align-left me-2 text-dark"}),"Descripción (Opcional)"]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label text-muted",children:[e.jsx("i",{className:"fas fa-flag me-1"}),"Español"]}),e.jsx("textarea",{className:"form-control",rows:"4",value:f.description.es,onChange:U=>m("es",U.target.value),placeholder:"Descripción en español..."})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label text-muted",children:[e.jsx("i",{className:"fas fa-flag me-1"}),"English"]}),e.jsx("textarea",{className:"form-control",rows:"4",value:f.description.en,onChange:U=>m("en",U.target.value),placeholder:"Description in English..."})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("label",{className:"form-label text-muted",children:[e.jsx("i",{className:"fas fa-flag me-1"}),"Português"]}),e.jsx("textarea",{className:"form-control",rows:"4",value:f.description.pt,onChange:U=>m("pt",U.target.value),placeholder:"Descrição em português..."})]})]})]})]})})]}),e.jsxs("div",{className:"card shadow mt-4",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-images me-2"}),"Imágenes de la Propiedad"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6 mb-4",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-image me-2 text-primary"}),"Imagen de Portada"]}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",onChange:B}),e.jsx("small",{className:"form-text text-muted",children:"Imagen principal que aparecerá en la portada. Máximo 5MB."}),M&&e.jsx("div",{className:"mt-3",children:e.jsxs("div",{className:"position-relative d-inline-block",children:[e.jsx("img",{src:M,alt:"Vista previa de portada",className:"img-thumbnail",style:{maxWidth:"200px",maxHeight:"150px"}}),e.jsx("button",{type:"button",className:"btn btn-danger btn-sm position-absolute top-0 end-0",onClick:()=>{k(null),E("")},children:e.jsx("i",{className:"fas fa-times"})})]})})]}),e.jsxs("div",{className:"col-md-6 mb-4",children:[e.jsxs("label",{className:"form-label fw-bold",children:[e.jsx("i",{className:"fas fa-images me-2 text-warning"}),"Galería de Imágenes (Máximo 20)"]}),e.jsx("input",{type:"file",className:"form-control",accept:"image/*",multiple:!0,onChange:q}),e.jsxs("small",{className:"form-text text-muted",children:[e.jsx("strong",{children:"💡 Instrucciones:"})," Mantén presionado ",e.jsx("kbd",{children:"Ctrl"})," (Windows) o ",e.jsx("kbd",{children:"Cmd"})," (Mac) para seleccionar múltiples imágenes.",e.jsx("br",{}),"Selecciona hasta 20 imágenes para la galería. Máximo 5MB cada una."]}),C.length>0&&e.jsxs("div",{className:"mt-2 d-flex justify-content-between align-items-center",children:[e.jsxs("span",{className:"badge bg-info",children:[C.length," de 20 imágenes seleccionadas"]}),e.jsxs("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:()=>{L([]),x([]),A("")},children:[e.jsx("i",{className:"fas fa-trash me-1"}),"Limpiar Galería"]})]})]}),P.length>0&&e.jsxs("div",{className:"col-12",children:[e.jsxs("h6",{className:"text-muted mb-3",children:[e.jsx("i",{className:"fas fa-eye me-2"}),"Vista Previa de la Galería"]}),e.jsx("div",{className:"row",children:P.map((U,F)=>e.jsx("div",{className:"col-md-3 col-sm-4 col-6 mb-3",children:e.jsxs("div",{className:"position-relative",children:[e.jsx("img",{src:U.preview,alt:`Preview ${F+1}`,className:"img-thumbnail w-100",style:{height:"120px",objectFit:"cover"}}),e.jsx("button",{type:"button",className:"btn btn-danger btn-sm position-absolute top-0 end-0",onClick:()=>T(F),children:e.jsx("i",{className:"fas fa-times"})}),e.jsx("div",{className:"position-absolute bottom-0 start-0 w-100 bg-dark bg-opacity-75 text-white p-1",children:e.jsx("small",{className:"text-truncate d-block",children:U.name})})]})},F))})]})]})})]}),e.jsxs("div",{className:"d-flex justify-content-end gap-3 mt-4",children:[e.jsxs("button",{className:"btn btn-secondary btn-lg",onClick:()=>c("/admin"),disabled:b,children:[e.jsx("i",{className:"fas fa-times me-2"}),"Cancelar"]}),e.jsx("button",{className:"btn btn-primary btn-lg px-4",onClick:R,disabled:b,children:b?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Creando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-plus-circle me-2"}),"Crear Nueva Propiedad"]})})]})]})})})})},_p=()=>{const c=ns(),{getAllProperties:o,deleteProperty:f}=Xe(),[u,b]=p.useState(!1),[g,h]=p.useState(""),A=o(),D=["moldes-1680","santa-fe-3770","dorrego-1548","convencion-1994","ugarteche-2824"],k=Object.values(A).filter(E=>!D.includes(E.id)&&E.id!=="tucuman-766"),M=async(E,C)=>{if(D.includes(E)){alert("❌ ERROR: No se puede eliminar una propiedad existente con archivos.");return}if(window.confirm(`¿Eliminar la propiedad "${C}" permanentemente?`))try{b(!0),h(`🗑️ Eliminando "${C}"...`),await f(E),h(`✅ Propiedad "${C}" eliminada exitosamente`),setTimeout(()=>{h("")},3e3)}catch(P){console.error("❌ Error al eliminar propiedad:",P),h(`❌ Error: ${P.message}`)}finally{b(!1)}};return e.jsx("div",{className:"container-fluid py-4",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-12",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-4",children:[e.jsxs("h3",{className:"text-success",children:[e.jsx("i",{className:"fas fa-cog me-2"}),"Gestión de Propiedades Nuevas"]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>c("/admin/new-property"),children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Crear Nueva Propiedad"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>c("/admin"),children:[e.jsx("i",{className:"fas fa-arrow-left me-2"}),"Volver al Dashboard"]})]})]}),g&&e.jsxs("div",{className:`alert ${g.includes("❌")?"alert-danger":g.includes("⚠️")?"alert-warning":"alert-success"} mb-4`,children:[e.jsx("i",{className:`fas ${g.includes("❌")?"fa-exclamation-circle":g.includes("⚠️")?"fa-exclamation-triangle":"fa-check-circle"} me-2`}),g]}),e.jsxs("div",{className:"alert alert-info mb-4",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),e.jsx("strong",{children:"Importante:"})," Esta sección solo gestiona propiedades nuevas. Las propiedades existentes con archivos estáticos (Moldes 1680, Santa Fe 3770, etc.) no aparecen aquí y no pueden ser eliminadas."]}),k.length===0?e.jsx("div",{className:"card",children:e.jsxs("div",{className:"card-body text-center py-5",children:[e.jsx("i",{className:"fas fa-home fa-3x text-muted mb-3"}),e.jsx("h5",{className:"text-muted",children:"No hay propiedades nuevas"}),e.jsx("p",{className:"text-muted",children:"Todas las propiedades mostradas son las existentes con archivos estáticos."}),e.jsxs("button",{className:"btn btn-primary mt-3",onClick:()=>c("/admin/new-property"),children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Crear Primera Propiedad Nueva"]})]})}):e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"card-header bg-success text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-list me-2"}),"Propiedades Nuevas (",k.length,")"]})}),e.jsx("div",{className:"card-body",children:e.jsx("div",{className:"row",children:k.map(E=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-3",children:e.jsx("div",{className:"card border-success",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"card-title text-success",children:[e.jsx("i",{className:"fas fa-home me-2"}),E.title]}),e.jsxs("p",{className:"card-text text-muted",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-2"}),E.address]}),e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("small",{className:"text-muted",children:["ID: ",E.id]}),e.jsxs("div",{className:"d-flex gap-1",children:[e.jsx("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>c(`/admin/edit-property/${E.id}`),title:"Editar propiedad",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{className:"btn btn-sm btn-outline-danger",onClick:()=>M(E.id,E.title),disabled:u,title:"Eliminar propiedad",children:e.jsx("i",{className:"fas fa-trash-alt"})})]})]})]})})},E.id))})})]}),e.jsxs("div",{className:"row mt-4",children:[e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"card border-primary",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"card-title text-primary",children:[e.jsx("i",{className:"fas fa-shield-alt me-2"}),"Propiedades Protegidas"]}),e.jsxs("p",{className:"card-text",children:[D.length," propiedades con archivos estáticos están protegidas y no pueden ser eliminadas desde aquí."]})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"card border-success",children:e.jsxs("div",{className:"card-body",children:[e.jsxs("h6",{className:"card-title text-success",children:[e.jsx("i",{className:"fas fa-cogs me-2"}),"Propiedades Gestionables"]}),e.jsxs("p",{className:"card-text",children:[k.length," propiedades nuevas pueden ser editadas o eliminadas sin afectar el sistema existente."]})]})})})]})]})})})},qp=({title:c,address:o,image:f,video:u,path:b})=>e.jsxs("div",{className:"departamento-card",children:[e.jsx("div",{className:"card-media",children:u?e.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"card-video",children:[e.jsx("source",{src:u,type:"video/mp4"}),"Your browser does not support HTML5 video."]}):e.jsx("img",{src:f,alt:c,className:"card-image",loading:"lazy"})}),e.jsxs("div",{className:"card-content",children:[e.jsx("h3",{children:c}),e.jsx("p",{className:"address",children:o}),e.jsxs(He,{to:b,className:"btn btn-primary",children:["Ver Más ",e.jsx("i",{className:"fas fa-arrow-right"})]})]})]});function Hp(){const[c,o]=p.useState(0),f=[{id:"slide1",image:"/img/img-portada-moldes-1680.jpg",alt:"Departamento Moldes 1680"},{id:"slide2",image:"/img/img-portada-santa-fe-3770.jpg",alt:"Departamento Santa Fe 3770"},{id:"slide3",image:"/img/img-portada-dorrego-1548.jpg",alt:"Departamento Dorrego 1548"},{id:"slide4",image:"/img/img-portada-convencion-1994.jpg",alt:"Departamento Convención 1994"},{id:"slide5",image:"/img/img-portada-ugarteche-2824.jpg",alt:"Departamento Ugarteche 2824"}];p.useEffect(()=>{const A=setInterval(()=>{o(D=>D===f.length-1?0:D+1)},5e3);return()=>clearInterval(A)},[f.length]);const u=()=>{o(A=>A===0?f.length-1:A-1)},b=()=>{o(A=>A===f.length-1?0:A+1)},g=A=>{console.error("Error cargando imagen:",A.target.src),A.target.style.backgroundColor="#f0f0f0",A.target.alt="Error al cargar imagen"},h=A=>{console.log("Imagen cargada correctamente:",A.target.src)};return e.jsxs("section",{id:"imageCarousel",className:"carousel slide","aria-label":"Galería de departamentos",children:[e.jsx("div",{className:"carousel-indicators",children:f.map((A,D)=>e.jsx("button",{type:"button",className:D===c?"active":"","aria-current":D===c?"true":"false","aria-label":`Imagen ${D+1}`,onClick:()=>o(D)},`indicator-${D}`))}),e.jsx("div",{className:"carousel-inner",children:f.map((A,D)=>e.jsx("div",{className:`carousel-item ${D===c?"active":""}`,children:e.jsx("img",{src:A.image,className:"carousel-image",alt:A.alt,loading:D===0?"eager":"lazy",onError:g,onLoad:h})},`slide-${A.id}`))}),e.jsxs("button",{className:"carousel-control-prev",type:"button",onClick:u,"aria-label":"Imagen anterior",children:[e.jsx("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Anterior"})]}),e.jsxs("button",{className:"carousel-control-next",type:"button",onClick:b,"aria-label":"Siguiente imagen",children:[e.jsx("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),e.jsx("span",{className:"visually-hidden",children:"Siguiente"})]})]})}function $p(){const[c,o]=p.useState(""),[f,u]=p.useState(!1),[b,g]=p.useState(""),[h,A]=p.useState(""),D=async M=>{if(M.preventDefault(),!c.trim()){g("Por favor ingresa tu email"),A("error");return}if(!k(c)){g("Por favor ingresa un email válido"),A("error");return}u(!0),g("");try{const C=await fetch("https://baconfort-production-084d.up.railway.app/api/subscribers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:c.trim().toLowerCase()})}),L=await C.json();C.ok?(g("¡Te has suscrito exitosamente! Te mantendremos informado sobre nuestras ofertas especiales."),A("success"),o("")):(g(L.message||"Error al suscribirse. Inténtalo nuevamente."),A("error"))}catch(E){console.error("Error al suscribirse:",E),g("Error de conexión. Inténtalo nuevamente."),A("error")}finally{u(!1)}},k=M=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(M);return e.jsx("section",{id:"suscribete",className:"subscription-section",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"subscription-content",children:[e.jsxs("div",{className:"subscription-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-envelope"}),"¡Mantente Informado!"]}),e.jsx("p",{children:"Suscríbete a nuestro newsletter y recibe ofertas exclusivas, nuevos departamentos y promociones especiales directamente en tu email."})]}),e.jsxs("div",{className:"subscription-benefits",children:[e.jsxs("div",{className:"benefit",children:[e.jsx("i",{className:"fas fa-percent"}),e.jsx("span",{children:"Ofertas Exclusivas"})]}),e.jsxs("div",{className:"benefit",children:[e.jsx("i",{className:"fas fa-home"}),e.jsx("span",{children:"Nuevos Departamentos"})]}),e.jsxs("div",{className:"benefit",children:[e.jsx("i",{className:"fas fa-star"}),e.jsx("span",{children:"Promociones Especiales"})]}),e.jsxs("div",{className:"benefit",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsx("span",{children:"Disponibilidad Anticipada"})]})]}),e.jsxs("form",{className:"subscription-form",onSubmit:D,children:[e.jsx("div",{className:"form-group",children:e.jsxs("div",{className:"input-wrapper",children:[e.jsx("i",{className:"fas fa-envelope input-icon"}),e.jsx("input",{type:"email",value:c,onChange:M=>o(M.target.value),placeholder:"tu@email.com",className:"form-control",disabled:f}),e.jsx("button",{type:"submit",className:"subscribe-btn",disabled:f||!c.trim(),children:f?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Suscribiendo..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-paper-plane"}),"Suscribirse"]})})]})}),b&&e.jsxs("div",{className:`subscription-message ${h}`,children:[e.jsx("i",{className:`fas ${h==="success"?"fa-check-circle":"fa-exclamation-circle"}`}),b]})]}),e.jsx("div",{className:"subscription-footer",children:e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-shield-alt"}),"Tu privacidad es importante para nosotros. No compartimos tu email con terceros."]})})]})})})}const _r=({isOpen:c,onClose:o})=>{const[f,u]=p.useState(""),[b,g]=p.useState(!1),[h,A]=p.useState(""),[D,k]=p.useState(""),[M,E]=p.useState("email"),C=async P=>{if(P.preventDefault(),!f){k("Por favor, ingresa tu email");return}g(!0),k(""),A("");try{const x=await Gt.forgotPassword(f);x.success&&(A(x.message),E("success"),x.resetToken&&(console.log("🔑 Token de reseteo (desarrollo):",x.resetToken),A(z=>`${z}

Token de desarrollo: ${x.resetToken}`)))}catch(x){console.error("Error en forgot password:",x),x.message==="Failed to fetch"||x.message.includes("Network Error")?k(`🔧 Servicio temporalmente no disponible.

El sistema de recuperación está siendo actualizado.
Por favor, inténtalo nuevamente en unos minutos o contacta al administrador.

📧 Email de contacto: robertogaona1985@gmail.com
📱 WhatsApp: +54 11 3002-1074`):k(x.message||"Error al enviar solicitud de recuperación")}finally{g(!1)}},L=()=>{u(""),A(""),k(""),E("email"),o()};return c?e.jsx("div",{className:"forgot-password-overlay",children:e.jsxs("div",{className:"forgot-password-modal",children:[e.jsxs("div",{className:"forgot-password-header",children:[e.jsx("h2",{children:"Recuperar Contraseña"}),e.jsx("button",{className:"close-button",onClick:L,children:"×"})]}),e.jsxs("div",{className:"forgot-password-content",children:[M==="email"&&e.jsxs("form",{onSubmit:C,children:[e.jsx("p",{className:"forgot-password-description",children:"Ingresa tu email y te enviaremos instrucciones para resetear tu contraseña."}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:f,onChange:P=>u(P.target.value),placeholder:"tu@email.com",required:!0,disabled:b,autoComplete:"email"})]}),D&&e.jsx("div",{className:"error-message",children:D}),e.jsxs("div",{className:"form-actions",children:[e.jsx("button",{type:"button",className:"btn-secondary",name:"cancel",id:"cancel-recover",onClick:L,disabled:b,children:"Cancelar"}),e.jsx("button",{type:"submit",className:"btn-primary",name:"submit",id:"submit-recover",disabled:b,children:b?"Enviando...":"Enviar Instrucciones"})]})]}),M==="success"&&e.jsxs("div",{className:"success-step",children:[e.jsx("div",{className:"success-icon",children:"✅"}),e.jsx("div",{className:"success-message",children:h}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{className:"btn-primary",onClick:L,children:"Entendido"})})]})]})]})}):null};function Vp({onSwitchToRegister:c,onClose:o}){const{login:f}=is(),[u,b]=p.useState({email:"",password:""}),[g,h]=p.useState({}),[A,D]=p.useState(!1),[k,M]=p.useState(!1),[E,C]=p.useState(!1),L=x=>{const{name:z,value:v}=x.target;b(d=>({...d,[z]:v})),g[z]&&h(d=>({...d,[z]:""}))},P=async x=>{x.preventDefault(),D(!0),h({});try{const z=await f(u.email,u.password);if(z.success)o(),alert(`¡Bienvenido/a ${z.user.name}!`);else if(z.suggestion==="register"){if(window.confirm(`${z.message}

¿Deseas ir al formulario de registro?`)){c();return}}else z.suggestion==="verify-email"?(alert(`${z.message}

Si no encuentras el email, revisa tu carpeta de spam o solicita un nuevo email de verificación.`),h({general:"Email no verificado. Revisa tu bandeja de entrada.",verification:!0})):z.suggestion==="retry"?h({general:z.error,technical:z.technical}):h({general:z.error})}catch{h({general:"Error de conexión. Intenta nuevamente."})}D(!1)};return e.jsxs("div",{className:"auth-form login-mode",children:[e.jsxs("div",{className:"auth-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),"Iniciar Sesión"]}),e.jsx("p",{children:"Accede a tu cuenta o regístrate si es tu primera vez"})]}),g.general&&e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-exclamation-circle"}),g.general,g.technical&&e.jsxs("div",{style:{marginTop:"10px",fontSize:"12px",opacity:"0.8"},children:[e.jsx("strong",{children:"Info técnica:"})," ",g.technical]}),g.verification&&e.jsx("div",{style:{marginTop:"15px"},children:e.jsxs("button",{type:"button",className:"btn-link",onClick:async()=>{try{const v=await(await fetch("https://baconfort-production-084d.up.railway.app/api/auth/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u.email})})).json();v.success?alert("Email de verificación reenviado. Revisa tu bandeja de entrada."):alert("Error al reenviar email: "+v.error)}catch{alert("Error de conexión al reenviar email")}},style:{fontSize:"14px",color:"#007bff",textDecoration:"underline",background:"none",border:"none",cursor:"pointer"},children:[e.jsx("i",{className:"fas fa-envelope"})," Reenviar email de verificación"]})})]}),e.jsxs("form",{onSubmit:P,className:"auth-form-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"email",children:[e.jsx("i",{className:"fas fa-envelope"}),"Email"]}),e.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:L,placeholder:"tu@email.com",disabled:A,className:g.email?"error":""}),g.email&&e.jsx("span",{className:"error-text",children:g.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"password",children:[e.jsx("i",{className:"fas fa-lock"}),"Contraseña"]}),e.jsxs("div",{className:"password-input-container",children:[e.jsx("input",{type:E?"text":"password",id:"password",name:"password",value:u.password,onChange:L,placeholder:"Tu contraseña",disabled:A,className:g.password?"error":""}),e.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>C(!E),disabled:A,children:e.jsx("i",{className:E?"fas fa-eye-slash":"fas fa-eye"})})]}),g.password&&e.jsx("span",{className:"error-text",children:g.password})]}),e.jsx("button",{type:"button",className:"auth-submit-btn",disabled:A,onClick:async x=>{if(x.preventDefault(),x.stopPropagation(),!u.email||!u.password){h({general:"Por favor completa todos los campos"});return}D(!0),h({});try{const z=await f(u.email,u.password);z.success?(o(),alert(`¡Bienvenido/a ${z.user.name}!`)):h({general:z.error})}catch{h({general:"Error de conexión. Intenta nuevamente."})}D(!1)},children:A?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Iniciando sesión..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),"Iniciar Sesión"]})}),e.jsx("div",{className:"forgot-password-section",children:e.jsx("button",{type:"button",className:"forgot-password-link",onClick:()=>M(!0),disabled:A,children:"¿Olvidaste tu contraseña?"})})]}),e.jsx("div",{className:"auth-footer",children:e.jsxs("p",{children:["¿No tienes cuenta?"," ",e.jsx("button",{type:"button",className:"auth-link",onClick:c,disabled:A,children:"Regístrate aquí"})]})}),e.jsx(_r,{isOpen:k,onClose:()=>M(!1)})]})}function Gp({onSwitchToLogin:c,onClose:o}){const{register:f}=is(),[u,b]=p.useState({name:"",email:"",password:"",confirmPassword:""}),[g,h]=p.useState({}),[A,D]=p.useState(!1),[k,M]=p.useState(!1),[E,C]=p.useState(!1),[L,P]=p.useState(!1),x=d=>{const{name:N,value:m}=d.target;b(B=>({...B,[N]:m})),g[N]&&h(B=>({...B,[N]:""}))},z=()=>{const d={};return u.name.trim()?u.name.trim().length<2&&(d.name="El nombre debe tener al menos 2 caracteres"):d.name="El nombre es obligatorio",u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)||(d.email="El email no tiene un formato válido"):d.email="El email es obligatorio",u.password?u.password.length<6&&(d.password="La contraseña debe tener al menos 6 caracteres"):d.password="La contraseña es obligatoria",u.confirmPassword?u.password!==u.confirmPassword&&(d.confirmPassword="Las contraseñas no coinciden"):d.confirmPassword="Debes confirmar la contraseña",d},v=async d=>{d.preventDefault(),D(!0),h({});const N=z();if(Object.keys(N).length>0){h(N),D(!1);return}try{const m=await f({name:u.name.trim(),email:u.email.trim(),password:u.password});m.success?m.requiresEmailVerification?(o(),alert(`¡Registro exitoso! Hemos enviado un email de verificación a ${u.email.trim()}.

Debes verificar tu email haciendo clic en el enlace que te enviamos. Después de verificar recibirás un email de bienvenida.`)):(o(),alert(`¡Bienvenido/a ${m.user.name}! Tu cuenta ha sido creada exitosamente.`)):h({general:m.error})}catch{h({general:"Error de conexión. Intenta nuevamente."})}D(!1)};return e.jsxs("div",{className:"auth-form register-mode",children:[e.jsxs("div",{className:"auth-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-user-plus"}),"Crear Cuenta Nueva"]}),e.jsx("p",{children:"Únete a la comunidad BACONFORT - Es gratis y rápido"})]}),g.general&&e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-exclamation-circle"}),g.general]}),e.jsxs("form",{onSubmit:v,className:"auth-form-content",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"name",children:[e.jsx("i",{className:"fas fa-user"}),"Nombre completo"]}),e.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:x,placeholder:"Tu nombre completo",disabled:A,className:g.name?"error":""}),g.name&&e.jsx("span",{className:"error-text",children:g.name})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"email",children:[e.jsx("i",{className:"fas fa-envelope"}),"Email"]}),e.jsx("input",{type:"email",id:"email",name:"email",value:u.email,onChange:x,placeholder:"tu@email.com",disabled:A,className:g.email?"error":""}),g.email&&e.jsx("span",{className:"error-text",children:g.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"password",children:[e.jsx("i",{className:"fas fa-lock"}),"Contraseña"]}),e.jsxs("div",{className:"password-input-container",children:[e.jsx("input",{type:E?"text":"password",id:"password",name:"password",value:u.password,onChange:x,placeholder:"Mínimo 6 caracteres",disabled:A,className:g.password?"error":""}),e.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>C(!E),disabled:A,children:e.jsx("i",{className:E?"fas fa-eye-slash":"fas fa-eye"})})]}),g.password&&e.jsx("span",{className:"error-text",children:g.password})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"confirmPassword",children:[e.jsx("i",{className:"fas fa-lock"}),"Confirmar contraseña"]}),e.jsxs("div",{className:"password-input-container",children:[e.jsx("input",{type:L?"text":"password",id:"confirmPassword",name:"confirmPassword",value:u.confirmPassword,onChange:x,placeholder:"Repite tu contraseña",disabled:A,className:g.confirmPassword?"error":""}),e.jsx("button",{type:"button",className:"password-toggle-btn",onClick:()=>P(!L),disabled:A,children:e.jsx("i",{className:L?"fas fa-eye-slash":"fas fa-eye"})})]}),g.confirmPassword&&e.jsx("span",{className:"error-text",children:g.confirmPassword})]}),e.jsx("button",{type:"button",className:"auth-submit-btn",disabled:A,onClick:async d=>{if(d.preventDefault(),d.stopPropagation(),!u.name||!u.email||!u.password||!u.confirmPassword){h({general:"Por favor completa todos los campos"});return}D(!0),h({});const N=z();if(Object.keys(N).length>0){h(N),D(!1);return}try{const m=await f({name:u.name.trim(),email:u.email.trim(),password:u.password});m.success?(o(),alert(`¡Bienvenido/a ${m.user.name}! Tu cuenta ha sido creada exitosamente.`)):h({general:m.error})}catch{h({general:"Error de conexión. Intenta nuevamente."})}D(!1)},children:A?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Creando cuenta..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-user-plus"}),"Crear Cuenta"]})})]}),e.jsxs("div",{className:"auth-footer",children:[e.jsxs("p",{children:["¿Ya tienes cuenta?"," ",e.jsx("button",{type:"button",className:"auth-link",onClick:c,disabled:A,children:"Inicia sesión aquí"})]}),e.jsxs("div",{className:"help-section",children:[e.jsxs("small",{className:"help-text",children:[e.jsx("i",{className:"fas fa-info-circle"}),"Si ya tienes cuenta pero olvidaste tu contraseña:"]}),e.jsxs("div",{className:"help-actions",children:[e.jsx("button",{type:"button",className:"help-link",onClick:c,disabled:A,children:"Ir al Login"}),e.jsx("span",{className:"help-separator",children:"o"}),e.jsx("button",{type:"button",className:"help-link",onClick:()=>M(!0),disabled:A,children:"Recuperar Contraseña Directamente"})]})]})]}),e.jsx(_r,{isOpen:k,onClose:()=>M(!1)})]})}function yi({isOpen:c,onClose:o,initialMode:f="login"}){const[u,b]=p.useState(f);if(console.log("🔍 AUTHMODAL: Rendering with isOpen:",c,"mode:",f),p.useEffect(()=>(c?(console.log("🔍 AUTHMODAL: Modal abierto, modo:",f),b(f),document.body.classList.add("modal-open")):(console.log("🔍 AUTHMODAL: Modal cerrado"),document.body.classList.remove("modal-open")),()=>{document.body.classList.remove("modal-open")}),[c,f]),!c)return null;const g=k=>{console.log("🔍 AUTHMODAL: Backdrop clicked, closing modal"),k.preventDefault(),k.stopPropagation(),k.target===k.currentTarget&&o()},h=k=>{console.log("🔍 AUTHMODAL: Modal content clicked, preventing close"),k.preventDefault(),k.stopPropagation()},A=()=>{b("register")},D=()=>{b("login")};return hp.createPortal(e.jsx("div",{className:"auth-modal-overlay",onClick:g,children:e.jsxs("div",{className:"auth-modal",onClick:h,children:[e.jsxs("div",{className:"auth-modal-header",children:[e.jsxs("div",{className:"modal-brand",children:[e.jsx("img",{src:"/img/logo.jpg",alt:"BACONFORT Logo",className:"modal-logo"}),e.jsx("span",{className:"modal-brand-text",children:"BACONFORT"})]}),e.jsx("button",{className:"auth-modal-close",onClick:o,"aria-label":"Cerrar modal",children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsx("div",{className:"auth-modal-content",children:u==="login"?e.jsx(Vp,{onSwitchToRegister:A,onClose:o}):e.jsx(Gp,{onSwitchToLogin:D,onClose:o})})]})}),document.body)}function Fp(){const{user:c,logout:o,isAuthenticated:f,isAdmin:u,loading:b}=is(),[g,h]=p.useState(!1),[A,D]=p.useState("login"),[k,M]=p.useState(!1),E=p.useRef(null),C=()=>{D("login"),h(!0)},L=()=>{D("register"),h(!0)},P=()=>{o(),M(!1)},x=()=>{M(!k)};p.useEffect(()=>{const v=d=>{E.current&&!E.current.contains(d.target)&&M(!1)};return k&&document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[k]);const z=f();return b?e.jsx("div",{className:"user-button-group",children:e.jsxs("button",{className:"user-btn",disabled:!0,children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("span",{className:"btn-text",children:"Cargando..."})]})}):z?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"user-button-group",children:[e.jsxs("div",{className:"user-dropdown",ref:E,children:[e.jsxs("button",{className:"user-profile-btn",onClick:x,type:"button",children:[e.jsx("div",{className:"user-avatar",children:e.jsx("i",{className:"fas fa-user"})}),e.jsx("span",{className:"user-name",children:c.name}),e.jsx("i",{className:`fas fa-chevron-down dropdown-arrow ${k?"up":""}`})]}),k&&e.jsxs("div",{className:"user-dropdown-menu",children:[e.jsx("div",{className:"dropdown-header",children:e.jsxs("div",{className:"user-info",children:[e.jsx("div",{className:"user-avatar-large",children:e.jsx("i",{className:"fas fa-user"})}),e.jsxs("div",{className:"user-details",children:[e.jsx("strong",{children:c.name}),e.jsx("small",{children:c.email}),u()&&e.jsxs("span",{className:"admin-badge",children:[e.jsx("i",{className:"fas fa-crown"}),"Admin"]})]})]})}),e.jsxs("div",{className:"dropdown-section",children:[e.jsxs("a",{href:"/profile",className:"dropdown-item",children:[e.jsx("i",{className:"fas fa-user-edit"}),"Mi Perfil"]}),e.jsxs("a",{href:"/my-reservations",className:"dropdown-item",children:[e.jsx("i",{className:"fas fa-calendar-check"}),"Mis Reservas"]}),u()&&e.jsxs("a",{href:"/admin",className:"dropdown-item admin-link",children:[e.jsx("i",{className:"fas fa-cog"}),"Panel Admin"]})]}),e.jsx("div",{className:"dropdown-section",children:e.jsxs("button",{className:"dropdown-item logout-item",onClick:P,type:"button",children:[e.jsx("i",{className:"fas fa-sign-out-alt"}),"Cerrar Sesión"]})})]})]}),e.jsxs("button",{className:"user-btn logout-btn-direct",onClick:P,type:"button",title:"Cerrar Sesión",children:[e.jsx("i",{className:"fas fa-sign-out-alt"}),e.jsx("span",{className:"btn-text",children:"Logout"})]})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"user-button-group",children:[e.jsxs("button",{className:"user-btn login-btn",onClick:C,type:"button",children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),e.jsx("span",{className:"btn-text",children:"Login"})]}),e.jsxs("button",{className:"user-btn register-btn",onClick:L,type:"button",children:[e.jsx("i",{className:"fas fa-user-plus"}),e.jsx("span",{className:"btn-text",children:"Registro"})]})]}),e.jsx(yi,{isOpen:g,onClose:()=>h(!1),initialMode:A})]})}function Yp(){const[c,o]=p.useState(!1),[f,u]=p.useState(!1),b=Br(),{isAuthenticated:g}=is(),A=[{title:"Inicio",path:"/",icon:"home"},{title:"Promociones",path:"/promociones",icon:"tags"},{title:"Detalles",path:"#detalles",icon:"info-circle"},{title:"Suscríbete",path:"#suscribete",icon:"bell"},{title:"Mi Perfil",path:"/profile",icon:"user-circle",requireAuth:!0},{title:"Mis Reservas",path:"/my-reservations",icon:"calendar-check",requireAuth:!0},{title:"Contacto",path:"#contactanos",icon:"envelope"}].filter(k=>k.requireAuth?g():!0);p.useEffect(()=>{const k=()=>{o(window.scrollY>50)};return window.addEventListener("scroll",k),()=>{window.removeEventListener("scroll",k)}},[]),p.useEffect(()=>{u(!1)},[b]);const D=b.pathname==="/";return e.jsxs("header",{className:`header ${c?"scrolled":""} ${f?"mobile-open":""}`,children:[e.jsx(xi,{expand:"lg",variant:"dark",expanded:f,onToggle:k=>u(k),className:"custom-navbar",children:e.jsxs(up,{children:[e.jsxs(xi.Brand,{as:He,to:"/",className:"d-flex align-items-center",children:[e.jsx("img",{src:"/img/logo.jpg",alt:"BACONFORT Logo",width:"40",height:"40",className:"brand-logo me-2",loading:"lazy"}),e.jsx("i",{className:"fas fa-star me-2 brand-icon","aria-hidden":"true"}),e.jsx("span",{className:"brand-text",children:"BA-CONFORT"})]}),e.jsx(xi.Toggle,{"aria-controls":"basic-navbar-nav",className:"custom-toggler",children:f?e.jsx("i",{className:"fas fa-times"}):e.jsx("i",{className:"fas fa-bars"})}),e.jsx(xi.Collapse,{id:"basic-navbar-nav",children:e.jsxs(Ni,{className:"ms-auto",children:[A.map((k,M)=>e.jsx(Zp,{to:k.path.startsWith("#")?null:k.path,href:k.path.startsWith("#")?k.path:null,icon:k.icon,text:k.title,active:k.path===b.pathname,onClick:()=>u(!1)},M)),e.jsx("div",{className:"navbar-user-section",children:e.jsx(Fp,{})})]})})]})}),D&&e.jsxs("div",{className:"video-cover",children:[e.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",className:"back-video","aria-label":"Video de portada",children:[e.jsx("source",{src:"video/video-portada-principal.mp4",type:"video/mp4"}),e.jsx("track",{kind:"captions",srcLang:"es",label:"Spanish captions"}),"Tu navegador no soporta videos HTML5."]}),e.jsx("div",{className:"video-overlay","aria-hidden":"true"})]})]})}function Zp({to:c,href:o,icon:f,text:u,active:b,onClick:g}){const h=Br(),A=e.jsxs(e.Fragment,{children:[e.jsx("i",{className:`fas fa-${f} nav-icon me-2`,"aria-hidden":"true"}),e.jsx("span",{className:"nav-text",children:u})]}),D=(k,M)=>{k.preventDefault(),g(),h.pathname==="/"?setTimeout(()=>{const E=document.querySelector(M);E?E.scrollIntoView({behavior:"smooth",block:"start"}):console.log("Elemento no encontrado:",M)},100):window.location.href=`/${M}`};return e.jsx(Ni.Item,{children:c?e.jsx(Ni.Link,{as:He,to:c,className:b?"active":"",onClick:g,children:A}):e.jsx(Ni.Link,{href:o,onClick:k=>D(k,o),children:A})})}function Rs(){return e.jsx("main",{className:"not-found-container",children:e.jsx("div",{className:"not-found-content",children:e.jsxs("div",{className:"not-found-wrapper",children:[e.jsxs("div",{className:"not-found-image",children:[e.jsx("i",{className:"fas fa-exclamation-triangle error-icon"}),e.jsx("img",{src:"img/img-error-404.jpg",alt:"Page not found illustration",className:"error-illustration"})]}),e.jsxs("div",{className:"not-found-text",children:[e.jsxs("h3",{className:"error-code",children:[e.jsx("i",{className:"fas fa-bug bug-icon"})," 404 Error"]}),e.jsxs("p",{className:"error-title",children:[e.jsx("i",{className:"fas fa-map-signs sign-icon"})," Página no encontrada"]}),e.jsx("p",{className:"error-message",children:"Lo sentimos, la página que buscas no existe o ha sido movida."}),e.jsxs(He,{to:"/",className:"back-button",children:[e.jsx("i",{className:"fas fa-home home-icon"}),"Volver al inicio",e.jsx("i",{className:"fas fa-arrow-right arrow-icon"})]})]})]})})})}function Xp(){const{getAllProperties:c}=Xe(),o=c(),f=["moldes-1680","santa-fe-3770","dorrego-1548","convencion-1994","ugarteche-2824"],u=Object.values(o).filter(h=>f.includes(h.id)&&h.coverImage&&!h.isBlocked),b=["bg-info","bg-success","bg-warning","bg-danger","bg-primary","bg-secondary"],g={"moldes-1680":"/departamentos/moldes-1680","santa-fe-3770":"/departamentos/santa-fe-3770","dorrego-1548":"/departamentos/dorrego-1548","convencion-1994":"/departamentos/convencion-1994","ugarteche-2824":"/departamentos/ugarteche-2824"};return e.jsxs(e.Fragment,{children:[e.jsx(Yp,{}),e.jsx("hr",{}),e.jsxs("main",{className:"home",children:[e.jsx("h1",{children:"BA.CONFORT - Alquiler Temporario"}),e.jsx("h2",{children:"Vive Buenos Aires - Tu experiencia porteña comienza aquí."}),e.jsx(Hp,{}),e.jsx("p",{children:"Bienvenido a BA CONFORT, tu hogar temporal en Buenos Aires. Ofrecemos departamentos y casas únicas en las mejores zonas de la ciudad: Palermo, Belgrano y Recoleta."}),e.jsx("p",{children:"Cada espacio está diseñado con estilo y funcionalidad, para que te sientas como en casa. Nuestra misión es hacer que tu estancia sea inolvidable y cómoda."}),e.jsx("p",{className:"highlight-text",children:"¡Te esperamos para que vivas una experiencia única!"}),e.jsx("hr",{}),e.jsxs("h2",{className:"location-title",children:[e.jsx("i",{className:"fas fa-map-marker-alt text-primary me-2"}),"¿Dónde Estamos?"]}),e.jsx("div",{className:"departamentos-grid",children:u.length>0?u.map((h,A)=>{const D=g[h.id]||`/departamentos/${h.id}`,k=b[A%b.length];return e.jsx(qp,{title:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-building text-info me-2"}),h.title||"Propiedad"]}),address:e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-map-pin text-secondary me-2"}),h.address||"Dirección no disponible"]}),image:h.coverImage||"/img/logo.jpg",path:D,badgeColor:k},h.id)}):e.jsx("div",{className:"no-properties-message",children:e.jsx("p",{children:"No hay propiedades disponibles en este momento."})})}),e.jsx("section",{id:"ubicacion",className:"py-5 bg-light",children:e.jsxs("div",{className:"container",children:[e.jsxs("h2",{className:"text-center mb-4",children:[e.jsx("i",{className:"fas fa-map-marked-alt location-title-icon"})," Nuestras Ubicaciones"]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4 mb-4",children:e.jsxs("div",{className:"location-card",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-building location-icon"})," Palermo Botánico"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Ugarteche 2824"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-subway"})," Cerca de Subte D"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-tree"})," Próximo al Jardín Botánico"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-hospital"})," Hospital Italiano"]}),e.jsxs(He,{to:"/departamentos/ugarteche-2824",className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-info-circle"})," Más Información"]})]})}),e.jsx("div",{className:"col-md-4 mb-4",children:e.jsxs("div",{className:"location-card",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-building location-icon"})," Palermo"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Santa Fe 3770"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-subway"})," Cerca de Subte D"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-shopping-bag"})," Zona Comercial"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-hospital"})," Sanatorio Güemes"]}),e.jsxs(He,{to:"/departamentos/santa-fe-3770",className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-info-circle"})," Más Información"]})]})}),e.jsx("div",{className:"col-md-4 mb-4",children:e.jsxs("div",{className:"location-card",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-building location-icon"})," Belgrano"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Moldes 1680"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-subway"})," Cerca de Subte D"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-store"})," Próximo a Av. Cabildo"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-hospital"})," Hospital Pirovano"]}),e.jsxs(He,{to:"/departamentos/moldes-1680",className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-info-circle"})," Más Información"]})]})}),e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"location-card",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-building location-icon"})," Palermo"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Convención 1994"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-utensils"})," Zona Gastronómica"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-shopping-bag"})," Área Comercial"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-hospital"})," Hospital Fernández"]}),e.jsxs(He,{to:"/departamentos/convencion-1994",className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-info-circle"})," Más Información"]})]})}),e.jsx("div",{className:"col-md-6 mb-4",children:e.jsxs("div",{className:"location-card",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-building location-icon"})," Palermo"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Dorrego 1548"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-glass-cheers"})," Zona de Bares"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-tree"})," Cerca de Parques"]}),e.jsxs("p",{children:[e.jsx("i",{className:"fas fa-hospital"})," Sanatorio Los Arcos"]}),e.jsxs(He,{to:"/departamentos/dorrego-1548",className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-info-circle"})," Más Información"]})]})})]})]})}),e.jsx($p,{})]})]})}const ra=({title:c,amount:o,details:f,whatsappMessage:u,propertyId:b})=>{const g=`https://wa.me/+541130021074?text=${encodeURIComponent(u)}`;return e.jsxs("div",{className:"price-card","data-property-id":b,children:[e.jsx("div",{className:"price-header",children:e.jsx("h3",{children:c})}),e.jsxs("div",{className:"price-body",children:[e.jsxs("div",{className:"price-amount",children:[e.jsx("span",{className:"currency",children:"USD"}),e.jsx("span",{className:"amount",children:o})]}),e.jsx("p",{className:"price-details",children:f}),e.jsxs("a",{href:g,target:"_blank",rel:"noopener noreferrer",className:"whatsapp-button",children:[e.jsx("i",{className:"fab fa-whatsapp"})," Consultar"]})]})]})};function Qp(c){return $a({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(c)}function Kp(c){return $a({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(c)}function Jp(c){return $a({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(c)}function Wp(c){return $a({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(c)}function eg(c){return $a({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"},child:[]}]})(c)}function ag(c){return $a({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(c)}function sg(c){return $a({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(c)}function tg(c){return $a({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(c)}function lg(c){return $a({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M497.941 225.941L286.059 14.059A48 48 0 0 0 252.118 0H48C21.49 0 0 21.49 0 48v204.118a48 48 0 0 0 14.059 33.941l211.882 211.882c18.744 18.745 49.136 18.746 67.882 0l204.118-204.118c18.745-18.745 18.745-49.137 0-67.882zM112 160c-26.51 0-48-21.49-48-48s21.49-48 48-48 48 21.49 48 48-21.49 48-48 48zm513.941 133.823L421.823 497.941c-18.745 18.745-49.137 18.745-67.882 0l-.36-.36L527.64 323.522c16.999-16.999 26.36-39.6 26.36-63.64s-9.362-46.641-26.36-63.64L331.397 0h48.721a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882z"},child:[]}]})(c)}function ng(c){return $a({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(c)}const Zt=({items:c=[],images:o=[],currentIndex:f,onClose:u,onNavigate:b})=>{const g=c.length>0?c:o.map(E=>({type:"image",src:E})),[h,A]=p.useState(f||0);p.useEffect(()=>{A(f||0)},[f]);const D=()=>{const E=h===0?g.length-1:h-1;A(E),b&&b(E)},k=()=>{const E=h===g.length-1?0:h+1;A(E),b&&b(E)},M=g[h];return console.log("🖼️ GALLERY: Renderizando item",h,"de",g.length),console.log("🖼️ GALLERY: Item actual:",M),e.jsxs("div",{className:"gallery-modal",children:[e.jsx("div",{className:"gallery-overlay",onClick:u}),e.jsx("button",{className:"gallery-close-button",onClick:u,children:e.jsx(ng,{})}),e.jsx("button",{className:"gallery-nav-button prev",onClick:D,children:e.jsx(Jp,{})}),e.jsx("div",{className:"gallery-image-container",children:(M==null?void 0:M.type)==="video"?e.jsx("video",{src:M.src,controls:!0,style:{maxWidth:"100%",maxHeight:"100%"},onLoad:()=>console.log("🎥 GALLERY: Video cargado:",M.src),onError:E=>console.error("🎥 GALLERY: Error cargando video:",E.target.src)}):e.jsx("img",{src:(M==null?void 0:M.src)||M,alt:`Item ${h+1}`,onLoad:()=>console.log("🖼️ GALLERY: Imagen cargada:",(M==null?void 0:M.src)||M),onError:E=>console.error("🖼️ GALLERY: Error cargando imagen:",E.target.src)})}),e.jsx("button",{className:"gallery-nav-button next",onClick:k,children:e.jsx(Wp,{})})]})},ig=(c,o,f)=>p.useMemo(()=>{if(!c||!o||!f)return{totalPrice:0,pricePerDay:0,nights:0,period:"daily",currency:"USD",breakdown:null,error:"Faltan datos para calcular el precio"};try{const u=new Date(o),g=new Date(f).getTime()-u.getTime(),h=Math.ceil(g/(1e3*3600*24));if(h<=0)return{totalPrice:0,pricePerDay:0,nights:0,period:"daily",currency:c.currency||"USD",breakdown:null,error:"Las fechas no son válidas"};const A=Ir(c.daily),D=Ir(c.weekly),k=Ir(c.monthly),M=c.currency||"USD";console.log("💰 [usePriceCalculator] Precios extraídos:",{daily:A,weekly:D,monthly:k,nights:h});let E=0,C=0,L="daily",P={};if(h>=30&&k>0){const x=Math.floor(h/30),z=h%30;if(E=x*k,z>0)if(z>=7&&D>0){const v=Math.floor(z/7),d=z%7;E+=v*D+d*A,P={months:{count:x,price:k,total:x*k},weeks:v>0?{count:v,price:D,total:v*D}:null,days:d>0?{count:d,price:A,total:d*A}:null}}else E+=z*A,P={months:{count:x,price:k,total:x*k},days:{count:z,price:A,total:z*A}};else P={months:{count:x,price:k,total:x*k}};L="monthly",C=E/h}else if(h>=7&&D>0){const x=Math.floor(h/7),z=h%7;E=x*D+z*A,P={weeks:{count:x,price:D,total:x*D},days:z>0?{count:z,price:A,total:z*A}:null},L="weekly",C=E/h}else E=h*A,P={days:{count:h,price:A,total:E}},L="daily",C=A;return console.log("💰 [usePriceCalculator] Resultado:",{totalPrice:E,pricePerDay:C,nights:h,period:L,breakdown:P}),{totalPrice:Math.round(E*100)/100,pricePerDay:Math.round(C*100)/100,nights:h,period:L,currency:M,breakdown:P,error:null}}catch(u){return console.error("Error calculando precio:",u),{totalPrice:0,pricePerDay:0,nights:0,period:"daily",currency:c.currency||"USD",breakdown:null,error:"Error al calcular el precio"}}},[c,o,f]),Ir=c=>{if(typeof c=="number")return c;if(typeof c=="string"){const o=c.replace(/[^\d.]/g,""),f=parseFloat(o);return isNaN(f)?0:f}return 0};function Xt({apartmentName:c="este departamento"}){const{user:o,isAuthenticated:f}=is(),{getPropertyByName:u}=Xe(),[b,g]=p.useState(!1),[h,A]=p.useState("login"),[D,k]=p.useState("dni"),[M,E]=p.useState(null),[C,L]=p.useState({checkIn:"",checkOut:"",guests:"1",fullName:"",email:"",phone:"",dni:"",message:`Hola, me interesa reservar ${c}. ¿Está disponible para las fechas indicadas? Por favor contactarme a mi email o teléfono. Saludos.`}),[P,x]=p.useState(!1),[z,v]=p.useState(null),[d,N]=p.useState({}),m=ig(M==null?void 0:M.prices,C.checkIn,C.checkOut),B=new Date().toISOString().split("T")[0];p.useEffect(()=>{c&&c!=="este departamento"&&(async()=>{try{const U=await u(c);U&&U.prices&&(E(U),console.log("💰 Precios cargados para:",c,U.prices))}catch(U){console.error("Error cargando precios:",U)}})()},[c,u]),p.useEffect(()=>{if(!C.checkIn){const R=new Date;R.setDate(R.getDate()+1),L(U=>({...U,checkIn:R.toISOString().split("T")[0]}))}},[]),p.useEffect(()=>{o&&f()&&L(R=>({...R,fullName:R.fullName||o.name||"",email:R.email||o.email||"",phone:R.phone||o.phone||""}))},[o,f]);const q=()=>{const R={};return C.checkIn||(R.checkIn="Fecha de entrada requerida"),C.checkOut||(R.checkOut="Fecha de salida requerida"),C.checkIn&&C.checkOut&&new Date(C.checkOut)<=new Date(C.checkIn)&&(R.checkOut="La fecha de salida debe ser posterior a la entrada"),C.fullName.trim()||(R.fullName="Nombre completo requerido"),C.email.trim()?/\S+@\S+\.\S+/.test(C.email)||(R.email="Email inválido"):R.email="Email requerido",C.dni.trim()||(R.dni=D==="dni"?"DNI requerido":"Pasaporte requerido"),C.message.trim()||(R.message="Mensaje requerido"),R},T=R=>{const{name:U,value:F}=R.target;if(L(G=>({...G,[U]:F})),d[U]&&N(G=>({...G,[U]:null})),U==="checkIn"&&F&&!C.checkOut){const G=new Date(F);G.setDate(G.getDate()+2),L(ae=>({...ae,checkOut:G.toISOString().split("T")[0]}))}},w=async R=>{if(R.preventDefault(),!f()){alert("Debes iniciar sesión para hacer una reserva"),A("login"),g(!0);return}const U=q();if(N(U),!(Object.keys(U).length>0)){x(!0),v(null);try{const F=localStorage.getItem("baconfort-token");if(!F){alert("Debes iniciar sesión para hacer una reserva"),A("login"),g(!0);return}const ae=window.location.pathname.split("/").pop(),Y=m.nights,O=m.totalPrice,S=m.currency,_={propertyId:ae,propertyName:c,checkIn:C.checkIn,checkOut:C.checkOut,guests:C.guests,fullName:C.fullName.trim(),email:C.email.trim(),phone:C.phone||"",dni:C.dni.trim(),idType:D,message:C.message.trim(),...O>0&&{priceInfo:{totalAmount:O,currency:S,nights:Y,period:m.period,breakdown:m.breakdown,pricePerNight:m.pricePerDay}}},$=await fetch(`${at}/reservations`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify(_)}),ie=await $.json();$.ok?(v("success"),console.log("Reserva creada:",ie)):(v("error"),alert(ie.message||"Error al crear la reserva"))}catch(F){console.error("Error enviando reserva:",F),v("error"),alert("Error de conexión. Por favor intenta nuevamente.")}finally{x(!1)}}};return e.jsxs("div",{className:"reservation-form-container",children:[e.jsx("h3",{className:"reservation-title",children:"Reserva este departamento"}),f()?z==="success"?e.jsxs("div",{className:"success-message",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("h4",{children:"¡Solicitud de reserva enviada exitosamente!"}),e.jsxs("div",{className:"success-content",children:[e.jsxs("div",{className:"success-info",children:[e.jsx("p",{children:e.jsx("strong",{children:"Tu solicitud ha sido procesada correctamente."})}),e.jsx("p",{children:"Te hemos enviado un email de confirmación con todos los detalles."}),e.jsx("p",{children:e.jsx("strong",{children:"⚠️ La seña correspondiente deberá ser abonada para validar la reserva."})})]}),e.jsxs("div",{className:"reservation-summary",children:[e.jsx("h5",{children:"📋 Resumen de tu reserva:"}),e.jsxs("div",{className:"summary-grid",children:[e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"label",children:"📅 Check-in:"}),e.jsx("span",{className:"value",children:C.checkIn})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"label",children:"📅 Check-out:"}),e.jsx("span",{className:"value",children:C.checkOut})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"label",children:"👥 Huéspedes:"}),e.jsxs("span",{className:"value",children:[C.guests," persona(s)"]})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"label",children:"👤 Nombre:"}),e.jsx("span",{className:"value",children:C.fullName})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"label",children:"📧 Email:"}),e.jsx("span",{className:"value",children:C.email})]}),C.phone&&e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"label",children:"📱 Teléfono:"}),e.jsx("span",{className:"value",children:C.phone})]}),e.jsxs("div",{className:"summary-item",children:[e.jsxs("span",{className:"label",children:["🆔 ",D==="dni"?"DNI":"Pasaporte",":"]}),e.jsx("span",{className:"value",children:C.dni})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"label",children:"💰 Monto total:"}),e.jsx("span",{className:"value",children:m.totalPrice>0?`${m.currency==="USD"?"US$":"$"}${m.totalPrice.toLocaleString()}`:"A confirmar según disponibilidad"})]}),e.jsxs("div",{className:"summary-item",children:[e.jsx("span",{className:"label",children:"🔒 Seña requerida:"}),e.jsx("span",{className:"value",children:m.totalPrice>0?`${m.currency==="USD"?"US$":"$"}${Math.round(m.totalPrice*.3).toLocaleString()} (30%)`:"30% del total para confirmar reserva"})]})]})]}),e.jsxs("div",{className:"next-steps",children:[e.jsx("h5",{children:"📋 Próximos pasos:"}),e.jsxs("div",{className:"steps-list",children:[e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-icon",children:"✅"}),e.jsx("span",{children:"Confirmaremos disponibilidad y precio en las próximas 24 horas"})]}),e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-icon",children:"📧"}),e.jsx("span",{children:"Revisa tu email para detalles de pago y monto total"})]}),e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-icon",children:"💳"}),e.jsx("span",{children:"Abona la seña del 30% para confirmar tu reserva"})]}),e.jsxs("div",{className:"step",children:[e.jsx("span",{className:"step-icon",children:"🏠"}),e.jsx("span",{children:"¡Disfruta tu estadía una vez confirmado el pago!"})]})]}),e.jsxs("div",{className:"payment-info",children:[e.jsx("h6",{children:"💡 Información importante:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"La seña del 30% confirma tu reserva"}),e.jsx("li",{children:"El saldo restante se abona al check-in"}),e.jsx("li",{children:"Aceptamos transferencia bancaria y efectivo"}),e.jsx("li",{children:"Los datos para transferencia llegaran por email"})]})]})]})]}),e.jsxs("button",{type:"button",className:"reset-btn",onClick:()=>v(null),children:[e.jsx("i",{className:"fas fa-plus"}),"Hacer otra reserva"]})]}):e.jsxs("form",{onSubmit:w,className:"reservation-form",children:[e.jsxs("div",{className:"date-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"checkIn",children:"Check-in"}),e.jsx("input",{type:"date",id:"checkIn",name:"checkIn",value:C.checkIn,onChange:T,min:B,className:d.checkIn?"error":"",required:!0}),d.checkIn&&e.jsx("span",{className:"error-text",children:d.checkIn})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"checkOut",children:"Check-out"}),e.jsx("input",{type:"date",id:"checkOut",name:"checkOut",value:C.checkOut,onChange:T,min:C.checkIn||B,className:d.checkOut?"error":"",required:!0}),d.checkOut&&e.jsx("span",{className:"error-text",children:d.checkOut})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"guests",children:"Huéspedes"}),e.jsxs("select",{id:"guests",name:"guests",value:C.guests,onChange:T,required:!0,children:[e.jsx("option",{value:"1",children:"1 huésped"}),e.jsx("option",{value:"2",children:"2 huéspedes"}),e.jsx("option",{value:"3",children:"3 huéspedes"}),e.jsx("option",{value:"4",children:"4 huéspedes"}),e.jsx("option",{value:"5",children:"5 huéspedes"}),e.jsx("option",{value:"6",children:"6+ huéspedes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"fullName",children:"Nombre completo *"}),e.jsx("input",{type:"text",id:"fullName",name:"fullName",value:C.fullName,onChange:T,placeholder:"Tu nombre completo",className:d.fullName?"error":"",required:!0}),d.fullName&&e.jsx("span",{className:"error-text",children:d.fullName})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:C.email,onChange:T,placeholder:"tu@email.com",className:d.email?"error":"",required:!0}),d.email&&e.jsx("span",{className:"error-text",children:d.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"idType",children:"Tipo de documento *"}),e.jsxs("select",{id:"idType",name:"idType",value:D,onChange:R=>k(R.target.value),required:!0,children:[e.jsx("option",{value:"dni",children:"DNI"}),e.jsx("option",{value:"passport",children:"Pasaporte"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"dni",children:[D==="dni"?"DNI":"Pasaporte"," *"]}),e.jsx("input",{type:"text",id:"dni",name:"dni",value:C.dni,onChange:T,placeholder:D==="dni"?"Tu número de DNI":"Tu número de pasaporte",className:d.dni?"error":"",required:!0}),d.dni&&e.jsx("span",{className:"error-text",children:d.dni})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Teléfono (opcional)"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:C.phone,onChange:T,placeholder:"+54 9 11 1234-5678"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"message",children:"Mensaje *"}),e.jsx("textarea",{id:"message",name:"message",value:C.message,onChange:T,rows:"4",placeholder:"Escribe tu consulta sobre disponibilidad...",className:d.message?"error":"",required:!0}),d.message&&e.jsx("span",{className:"error-text",children:d.message})]}),e.jsx("button",{type:"submit",className:"submit-btn",disabled:P,children:P?"Enviando reserva...":"Reservar"}),e.jsx("p",{className:"disclaimer",children:"No se realizará ningún cargo hasta confirmar la disponibilidad"})]}):e.jsx("div",{className:"auth-required",children:e.jsxs("div",{className:"auth-required-content",children:[e.jsx("i",{className:"fas fa-user-lock"}),e.jsx("h4",{children:"Inicia sesión para hacer una reserva"}),e.jsx("p",{children:"Para procesar tu reserva de manera segura y mantener un historial de tus reservas, necesitas estar registrado."}),e.jsxs("div",{className:"auth-benefits",children:[e.jsx("h4",{children:"Beneficios de registrarte:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Datos autocompletados para reservas más rápidas"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Historial de todas tus reservas"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Comunicación directa y segura"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Ofertas y descuentos exclusivos"]})]})]}),e.jsxs("div",{className:"auth-buttons",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>{A("login"),g(!0)},children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),"Iniciar Sesión"]}),e.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>{A("register"),g(!0)},children:[e.jsx("i",{className:"fas fa-user-plus"}),"Registrarse Gratis"]})]})]})}),e.jsx(yi,{isOpen:b,onClose:()=>g(!1),initialMode:h})]})}const cg={"moldes-1680":[{_id:"res1",propertyId:"moldes-1680",propertyName:"Moldes 1680",checkIn:"2025-07-16",checkOut:"2025-07-18",status:"confirmed",createdAt:"2025-07-01T10:00:00Z"},{_id:"res2",propertyId:"moldes-1680",propertyName:"Moldes 1680",checkIn:"2025-07-22",checkOut:"2025-07-28",status:"confirmed",createdAt:"2025-07-02T14:30:00Z"},{_id:"res3",propertyId:"moldes-1680",propertyName:"Moldes 1680",checkIn:"2025-08-05",checkOut:"2025-08-12",status:"pending",createdAt:"2025-07-05T09:15:00Z"},{_id:"res4",propertyId:"moldes-1680",propertyName:"Moldes 1680",checkIn:"2025-08-15",checkOut:"2025-08-20",status:"confirmed",createdAt:"2025-07-08T11:20:00Z"},{_id:"res5",propertyId:"moldes-1680",propertyName:"Moldes 1680",checkIn:"2025-09-02",checkOut:"2025-09-08",status:"confirmed",createdAt:"2025-07-08T11:20:00Z"}],"santa-fe-3770":[{_id:"res6",propertyId:"santa-fe-3770",propertyName:"Santa Fe 3770",checkIn:"2025-07-14",checkOut:"2025-07-19",status:"confirmed",createdAt:"2025-07-03T16:45:00Z"},{_id:"res7",propertyId:"santa-fe-3770",propertyName:"Santa Fe 3770",checkIn:"2025-07-25",checkOut:"2025-07-30",status:"confirmed",createdAt:"2025-07-04T11:20:00Z"},{_id:"res8",propertyId:"santa-fe-3770",propertyName:"Santa Fe 3770",checkIn:"2025-08-10",checkOut:"2025-08-17",status:"pending",createdAt:"2025-07-04T11:20:00Z"}],"dorrego-1548":[{_id:"res9",propertyId:"dorrego-1548",propertyName:"Dorrego 1548",checkIn:"2025-07-20",checkOut:"2025-07-27",status:"confirmed",createdAt:"2025-07-06T13:10:00Z"},{_id:"res10",propertyId:"dorrego-1548",propertyName:"Dorrego 1548",checkIn:"2025-08-01",checkOut:"2025-08-05",status:"confirmed",createdAt:"2025-07-07T15:30:00Z"}],"convencion-1994":[{_id:"res11",propertyId:"convencion-1994",propertyName:"Convención 1994",checkIn:"2025-07-12",checkOut:"2025-07-16",status:"confirmed",createdAt:"2025-07-08T09:20:00Z"},{_id:"res12",propertyId:"convencion-1994",propertyName:"Convención 1994",checkIn:"2025-07-28",checkOut:"2025-08-03",status:"pending",createdAt:"2025-07-09T11:45:00Z"}],"ugarteche-2824":[{_id:"res13",propertyId:"ugarteche-2824",propertyName:"Ugarteche 2824",checkIn:"2025-07-15",checkOut:"2025-07-19",status:"confirmed",createdAt:"2025-07-09T12:00:00Z"},{_id:"res14",propertyId:"ugarteche-2824",propertyName:"Ugarteche 2824",checkIn:"2025-08-08",checkOut:"2025-08-14",status:"confirmed",createdAt:"2025-07-09T12:00:00Z"}]},rg=c=>new Promise(o=>{setTimeout(()=>{const f=cg[c]||[];o({success:!0,data:f,count:f.length})},100)}),Ym=c=>{const[o,f]=p.useState([]),[u,b]=p.useState(!1),[g,h]=p.useState(null);return p.useEffect(()=>{if(!c)return;(async()=>{b(!0),h(null);try{let M;try{console.log(`🌐 [useOccupiedDates] Intentando cargar desde backend para ${c}...`),M=await bi.getByProperty(c),console.log(`✅ [useOccupiedDates] Backend exitoso para ${c}:`,M)}catch(C){console.log(`❌ [useOccupiedDates] Backend falló para ${c}, usando datos mock:`,C.message),M=await rg(c),console.log(`🧪 [useOccupiedDates] Datos mock cargados para ${c}:`,M)}const E=M.data||M;if(Array.isArray(E)){const C=[];console.log(`🗓️ [useOccupiedDates] Procesando reservas para ${c}:`,E),E.forEach((P,x)=>{if(console.log(`🔍 Reserva ${x+1}:`,{checkIn:P.checkIn,checkOut:P.checkOut,status:P.status}),P.status==="confirmed"||P.status==="pending"){const z=new Date(P.checkIn),v=new Date(P.checkOut),d=P.checkIn.split("T")[0],N=P.checkOut.split("T")[0];console.log(`📅 Procesando rango: ${d} → ${N}`);const[m,B,q]=d.split("-").map(Number),[T,w,R]=N.split("-").map(Number),U=new Date(m,B-1,q),F=new Date(T,w-1,R),G=new Date(U);for(;G<=F;){const ae=G.getFullYear(),Y=String(G.getMonth()+1).padStart(2,"0"),O=String(G.getDate()).padStart(2,"0"),S=`${ae}-${Y}-${O}`;console.log(`  ➕ Agregando fecha ocupada: ${S}`),C.push(S),G.setDate(G.getDate()+1)}}});const L=[...new Set(C)].sort();console.log(`✅ [useOccupiedDates] Fechas ocupadas finales para ${c}:`,L),f(L)}else f([])}catch(M){h(M.message||"Error al cargar fechas ocupadas"),f([])}finally{b(!1)}})()},[c]),{occupiedDates:o,loading:u,error:g,isDateOccupied:k=>o.includes(k),isRangeAvailable:(k,M)=>{if(!k||!M)return!0;const E=k.split("T")[0],C=M.split("T")[0],[L,P,x]=E.split("-").map(Number),[z,v,d]=C.split("-").map(Number),N=new Date(L,P-1,x),m=new Date(z,v-1,d),B=new Date(N);for(;B<=m;){const q=B.getFullYear(),T=String(B.getMonth()+1).padStart(2,"0"),w=String(B.getDate()).padStart(2,"0"),R=`${q}-${T}-${w}`;if(o.includes(R))return!1;B.setDate(B.getDate()+1)}return!0}}},og=c=>{const[o,f]=p.useState([]),[u,b]=p.useState(!1),[g,h]=p.useState(null),{occupiedDates:A,loading:D}=Ym(c);return p.useEffect(()=>{if(!c)return;console.log(`🔧 [useAllOccupiedDates] Combinando fechas para ${c}...`);const E=`baconfort_manual_occupancy_${c}`,C=localStorage.getItem(E);let L=[];if(C)try{const v=JSON.parse(C);if(Array.isArray(v))L=v;else if(v&&v.manualOccupiedDates){const d=v.manualOccupiedDates||[],N=v.manuallyRemovedDates||[];L=d.filter(m=>!N.includes(m)),console.log(`📅 [useAllOccupiedDates] Bloqueos manuales para ${c}:`,L)}}catch(v){console.error("Error parsing admin dates:",v),L=[]}const P=A||[],x=[...P,...L],z=[...new Set(x)].sort();console.log(`📊 [useAllOccupiedDates] ${c} - Combinando fechas:`),console.log("   📅 Fechas reales (backend):",P),console.log("   🔒 Fechas admin (manual):",L),console.log("   ✅ Total combinadas:",z),f(z),b(D)},[c,A,D]),{occupiedDates:o,loading:u,error:g,isRangeAvailable:(E,C)=>{if(!E||!C)return!0;const L=new Date(E),P=new Date(C),x=L.getTime(),z=P.getTime(),v=Math.ceil((z-x)/(1e3*60*60*24))+1;for(let d=0;d<v;d++){const N=new Date(L);N.setDate(L.getDate()+d);const m=N.getFullYear(),B=String(N.getMonth()+1).padStart(2,"0"),q=String(N.getDate()).padStart(2,"0"),T=`${m}-${B}-${q}`;if(o.includes(T))return!1}return!0},isDateOccupied:E=>o.includes(E),realOccupiedDates:A||[],adminBlockedDates:o}};function Lm({id:c,name:o,value:f,onChange:u,min:b,max:g,occupiedDates:h=[],className:A="",required:D=!1,label:k}){const[M,E]=p.useState(!1),[C,L]=p.useState(new Date);p.useEffect(()=>{console.log("📅 [DatePicker] occupiedDates recibidas:",h),console.log("📅 [DatePicker] occupiedDates.length:",h.length),h.length>0?console.log("✅ [DatePicker] SÍ hay fechas ocupadas:",h):console.log("❌ [DatePicker] NO hay fechas ocupadas - array vacío")},[h]);const P=new Date,x=b?new Date(b):P,z=g?new Date(g):new Date(P.getFullYear()+1,P.getMonth(),P.getDate()),v=T=>{if(!T)return"";const[w,R,U]=T.split("-").map(Number);return new Date(w,R-1,U).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"})},N=(()=>{const T=C.getFullYear(),w=C.getMonth(),R=new Date(T,w,1),U=new Date(T,w,1),F=R.getDay();U.setDate(U.getDate()-F);const G=[];for(let ae=0;ae<42;ae++){const Y=new Date(U.getFullYear(),U.getMonth(),U.getDate()+ae),O=Y.getFullYear(),S=String(Y.getMonth()+1).padStart(2,"0"),_=String(Y.getDate()).padStart(2,"0"),$=`${O}-${S}-${_}`,ie=Y.getMonth()===w,W=Y.toDateString()===P.toDateString(),y=f===$,X=h.includes($),ne=Y<x||Y>z||X;($==="2025-07-29"||$==="2025-07-30")&&console.log(`🔍 [DatePicker] ${$}: isOccupied=${X}, isDisabled=${ne}, en occupiedDates=${h.includes($)}`),G.push({date:new Date(Y),dateStr:$,day:Y.getDate(),isCurrentMonth:ie,isToday:W,isSelected:y,isOccupied:X,isDisabled:ne})}return G})(),m=T=>{T.isDisabled||(u({target:{name:o,value:T.dateStr}}),E(!1))},B=()=>{L(new Date(C.getFullYear(),C.getMonth()-1,1))},q=()=>{L(new Date(C.getFullYear(),C.getMonth()+1,1))};return p.useEffect(()=>{const T=w=>{w.target.closest(".date-picker-container")||E(!1)};if(M)return document.addEventListener("mousedown",T),()=>document.removeEventListener("mousedown",T)},[M]),e.jsxs("div",{className:"date-picker-container",children:[k&&e.jsx("label",{htmlFor:c,children:k}),e.jsxs("div",{className:"date-input-wrapper",children:[e.jsx("input",{type:"text",id:c,name:o,value:v(f),onClick:()=>E(!M),onFocus:()=>E(!0),readOnly:!0,className:`date-input ${A}`,required:D,placeholder:"Seleccionar fecha",autoComplete:"off"}),e.jsx("i",{className:"fas fa-calendar-alt date-icon"})]}),M&&e.jsxs("div",{className:"calendar-dropdown",children:[e.jsxs("div",{className:"calendar-header",children:[e.jsx("button",{type:"button",onClick:B,className:"nav-btn",children:e.jsx("i",{className:"fas fa-chevron-left"})}),e.jsx("span",{className:"month-year",children:C.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),e.jsx("button",{type:"button",onClick:q,className:"nav-btn",children:e.jsx("i",{className:"fas fa-chevron-right"})})]}),e.jsxs("div",{className:"calendar-grid",children:[e.jsx("div",{className:"weekdays",children:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"].map(T=>e.jsx("div",{className:"weekday",children:T},T))}),e.jsx("div",{className:"days",children:N.map((T,w)=>e.jsxs("div",{className:`
                    calendar-day
                    ${T.isCurrentMonth?"":"other-month"}
                    ${T.isToday?"today":""}
                    ${T.isSelected?"selected":""}
                    ${T.isOccupied?"occupied":""}
                    ${T.isDisabled?"disabled":""}
                  `,onClick:()=>m(T),title:T.isOccupied?"Fecha ocupada":T.isDisabled?"Fecha no disponible":"Seleccionar fecha",children:[T.day,T.isOccupied&&e.jsx("div",{className:"occupied-indicator",children:"✖"})]},w))})]}),e.jsxs("div",{className:"calendar-legend",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-color available"}),e.jsx("span",{children:"Disponible"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-color occupied"}),e.jsx("span",{children:"Ocupado"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-color selected"}),e.jsx("span",{children:"Seleccionado"})]})]})]}),e.jsx("input",{type:"date",id:`${c}-fallback`,name:o,value:f,onChange:u,min:b,max:g,required:D,className:"date-fallback",style:{display:"none"},autoComplete:"off"})]})}const Kl=({apartmentName:c,propertyId:o})=>{const{user:f,isAuthenticated:u}=is(),{occupiedDates:b}=og(o);pp.useEffect(()=>{console.log(`🏗️ [AvailabilityInquiryForm] ${o} - Fechas ocupadas:`,b),(b.includes("2025-07-29")||b.includes("2025-07-30"))&&console.log("✅ [AvailabilityInquiryForm] Fechas 29-30 julio detectadas en el formulario!")},[b,o]);const[g,h]=p.useState({checkIn:"",checkOut:"",guests:"1",fullName:(f==null?void 0:f.name)||"",email:(f==null?void 0:f.email)||"",phone:(f==null?void 0:f.phone)||"",dni:"",passport:"",customMessage:`Hola, me interesa consultar disponibilidad para ${c}. ¿Está disponible para las fechas indicadas? Por favor contactarme a mi email o teléfono. Saludos.`}),[A,D]=p.useState(!1),[k,M]=p.useState(null),[E,C]=p.useState({}),[L,P]=p.useState(!1),[x,z]=p.useState("login"),[v,d]=p.useState(""),N=new Date().toISOString().split("T")[0],m=w=>{const{name:R,value:U}=w.target;if(R==="dni"){const F=U.replace(/\D/g,"");F.length<=8&&h(G=>({...G,[R]:F})),E[R]&&C(G=>({...G,[R]:null}));return}if(R==="passport"){const F=U.replace(/[^A-Za-z0-9]/g,"");F.length<=20&&h(G=>({...G,[R]:F.toUpperCase()})),E[R]&&C(G=>({...G,[R]:null}));return}h(F=>({...F,[R]:U})),E[R]&&C(F=>({...F,[R]:null}))},B=()=>{const w={};if(g.checkIn||(w.checkIn="Fecha de entrada requerida"),g.checkOut||(w.checkOut="Fecha de salida requerida"),g.checkIn&&g.checkOut){const R=new Date(g.checkIn);new Date(g.checkOut)<=R&&(w.checkOut="La fecha de salida debe ser posterior a la entrada")}return g.fullName.trim()||(w.fullName="Nombre completo requerido"),g.email.trim()?/\S+@\S+\.\S+/.test(g.email)||(w.email="Email inválido"):w.email="Email requerido",g.customMessage.trim()||(w.customMessage="Mensaje requerido"),w},q=async w=>{w.preventDefault();const R=B();if(C(R),!(Object.keys(R).length>0)){D(!0);try{if(!g.checkIn||!g.checkOut)throw new Error("Las fechas de check-in y check-out son requeridas");const U=new Date(g.checkIn),F=new Date(g.checkOut);console.log("🔍 DEBUG: checkIn string:",g.checkIn),console.log("🔍 DEBUG: checkOut string:",g.checkOut),console.log("🔍 DEBUG: checkInDate object:",U),console.log("🔍 DEBUG: checkOutDate object:",F);const ae=Math.ceil((F-U)/(1e3*60*60*24))*70,Y=_=>{if(!_)return console.warn("⚠️ formatDate: Fecha string es vacía"),"";const $=new Date(_);if(isNaN($.getTime()))return console.error("❌ formatDate: No se pudo crear Date válido desde:",_),"";const ie=$.getDate().toString().padStart(2,"0"),W=($.getMonth()+1).toString().padStart(2,"0"),y=$.getFullYear(),X=`${ie}/${W}/${y}`;return console.log("✅ formatDate: Fecha formateada:",`${_} -> ${X}`),X},O={propertyId:o,propertyTitle:c,checkIn:Y(g.checkIn),checkOut:Y(g.checkOut),guests:parseInt(g.guests),totalPrice:ae,guestName:g.fullName,guestEmail:g.email,guestPhone:g.phone,guestDni:g.dni,guestPassport:g.passport,customMessage:g.customMessage};console.log("🔄 Enviando consulta de disponibilidad..."),console.log("📋 Datos de consulta:",O),console.log("🔐 Usuario autenticado:",u);const S=u?await Rp(O):await Op(O);if(console.log("✅ Respuesta de consulta:",S),S.success)M("success");else throw new Error(S.message||"Error al enviar la consulta")}catch(U){console.error("Error enviando consulta:",U),M("error")}finally{D(!1)}}},T=()=>{M(null),h({checkIn:"",checkOut:"",guests:"1",fullName:(f==null?void 0:f.name)||"",email:(f==null?void 0:f.email)||"",phone:(f==null?void 0:f.phone)||"",dni:"",passport:"",customMessage:`Hola, me interesa consultar disponibilidad para ${c}. ¿Está disponible para las fechas indicadas? Por favor contactarme a mi email o teléfono. Saludos.`}),C({})};return k==="success"?e.jsx("div",{className:"inquiry-form-container",children:e.jsx("div",{className:"success-message",children:e.jsxs("div",{className:"success-content",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("h4",{children:"¡Consulta enviada exitosamente!"}),e.jsx("p",{children:"Tu consulta de disponibilidad ha sido enviada y está siendo revisada por nuestro equipo."}),e.jsx("p",{children:"Te notificaremos por email tan pronto como tengamos una respuesta."}),e.jsxs("div",{className:"success-details",children:[e.jsx("h5",{children:"Detalles de tu consulta:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Propiedad:"})," ",c]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Check-in:"})," ",g.checkIn?new Date(g.checkIn).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"No especificado"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Check-out:"})," ",g.checkOut?new Date(g.checkOut).toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"No especificado"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Huéspedes:"})," ",g.guests]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Estado:"})," Pendiente de respuesta"]})]})]}),e.jsxs("div",{className:"next-steps",children:[e.jsx("h5",{children:"¿Qué sigue?"}),e.jsxs("ol",{children:[e.jsx("li",{children:"Nuestro equipo revisará tu consulta"}),e.jsx("li",{children:"Verificaremos la disponibilidad de las fechas"}),e.jsx("li",{children:"Te enviaremos un email con la respuesta"}),e.jsx("li",{children:"Si está disponible, podrás proceder con la reserva"})]})]}),e.jsxs("button",{className:"new-inquiry-btn",onClick:T,children:[e.jsx("i",{className:"fas fa-plus"}),"Nueva consulta"]})]})})}):k==="error"?e.jsx("div",{className:"inquiry-form-container",children:e.jsx("div",{className:"error-message",children:e.jsxs("div",{className:"error-content",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("h4",{children:"Error al enviar la consulta"}),e.jsx("p",{children:"Hubo un problema al procesar tu consulta. Por favor, intenta nuevamente."}),e.jsxs("button",{className:"retry-btn",onClick:()=>M(null),children:[e.jsx("i",{className:"fas fa-redo"}),"Intentar nuevamente"]})]})})}):e.jsxs("div",{className:"inquiry-form-container",children:[e.jsxs("div",{className:"form-header",children:[e.jsxs("h3",{className:"inquiry-title",children:[e.jsx("i",{className:"fas fa-calendar-check"}),"Consultar Disponibilidad"]}),e.jsxs("p",{className:"form-description",children:["Envía una consulta para verificar si ",c," está disponible en las fechas que necesitas. Te responderemos por email lo antes posible."]})]}),u()?e.jsxs("form",{onSubmit:q,className:"inquiry-form",children:[e.jsxs("div",{className:"date-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx(Lm,{id:"checkIn",name:"checkIn",value:g.checkIn,onChange:m,min:N,occupiedDates:b,className:E.checkIn?"error":"",required:!0,label:"Fecha de entrada *"}),E.checkIn&&e.jsx("span",{className:"error-text",children:E.checkIn})]}),e.jsxs("div",{className:"form-group",children:[e.jsx(Lm,{id:"checkOut",name:"checkOut",value:g.checkOut,onChange:m,min:g.checkIn||N,occupiedDates:b,className:E.checkOut?"error":"",required:!0,label:"Fecha de salida *"}),E.checkOut&&e.jsx("span",{className:"error-text",children:E.checkOut})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"guests",children:"Número de huéspedes"}),e.jsxs("select",{id:"guests",name:"guests",value:g.guests,onChange:m,required:!0,children:[e.jsx("option",{value:"1",children:"1 huésped"}),e.jsx("option",{value:"2",children:"2 huéspedes"}),e.jsx("option",{value:"3",children:"3 huéspedes"}),e.jsx("option",{value:"4",children:"4 huéspedes"}),e.jsx("option",{value:"5",children:"5 huéspedes"}),e.jsx("option",{value:"6",children:"6+ huéspedes"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"fullName",children:"Nombre completo *"}),e.jsx("input",{type:"text",id:"fullName",name:"fullName",value:g.fullName,onChange:m,placeholder:"Tu nombre completo",className:E.fullName?"error":"",required:!0}),E.fullName&&e.jsx("span",{className:"error-text",children:E.fullName})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email *"}),e.jsx("input",{type:"email",id:"email",name:"email",value:g.email,onChange:m,placeholder:"tu@email.com",className:E.email?"error":"",required:!0}),E.email&&e.jsx("span",{className:"error-text",children:E.email})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Teléfono (opcional)"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:g.phone,onChange:m,placeholder:"+54 9 11 1234-5678"})]}),e.jsxs("div",{className:"form-group identification-dropdown",style:{marginBottom:"20px"},children:[e.jsx("label",{htmlFor:"idType",style:{fontSize:"14px",fontWeight:"bold",marginBottom:"10px",display:"block"},children:"Tipo de documento (opcional)"}),e.jsxs("select",{id:"idType",name:"idType",value:v,onChange:w=>{const R=w.target.value;d(R),h(R==="dni"?U=>({...U,passport:""}):R==="passport"?U=>({...U,dni:""}):U=>({...U,dni:"",passport:""}))},style:{marginBottom:"10px"},children:[e.jsx("option",{value:"",children:"Sin documento (opcional)"}),e.jsx("option",{value:"dni",children:"🇦🇷 DNI - Documento Nacional de Identidad"}),e.jsx("option",{value:"passport",children:"🌍 Pasaporte - Documento Internacional"})]}),v==="dni"&&e.jsxs("div",{children:[e.jsx("input",{type:"text",id:"dni",name:"dni",value:g.dni,onChange:m,placeholder:"Ej: 12345678",maxLength:"8",pattern:"[0-9]*",autoComplete:"off"}),e.jsx("small",{style:{fontSize:"11px",color:"#666",marginTop:"5px",display:"block"},children:"Solo números, 7 u 8 dígitos"})]}),v==="passport"&&e.jsxs("div",{children:[e.jsx("input",{type:"text",id:"passport",name:"passport",value:g.passport,onChange:m,placeholder:"Ej: A12345678",maxLength:"20",autoComplete:"off",style:{textTransform:"uppercase"}}),e.jsx("small",{style:{fontSize:"11px",color:"#666",marginTop:"5px",display:"block"},children:"Letras y números, mínimo 6 caracteres"})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"customMessage",children:"Mensaje personalizado *"}),e.jsx("textarea",{id:"customMessage",name:"customMessage",value:g.customMessage,onChange:m,rows:"4",placeholder:"Escribe tu consulta sobre disponibilidad...",className:E.customMessage?"error":"",required:!0}),E.customMessage&&e.jsx("span",{className:"error-text",children:E.customMessage})]}),e.jsx("button",{type:"submit",className:"submit-btn",disabled:A,children:A?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Enviando consulta..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-paper-plane"}),"Enviar consulta de disponibilidad"]})}),e.jsxs("div",{className:"form-note",children:[e.jsx("i",{className:"fas fa-info-circle"}),e.jsx("span",{children:"Esta es una consulta de disponibilidad. Te responderemos por email si las fechas están disponibles."})]})]}):e.jsx("div",{className:"auth-required",children:e.jsxs("div",{className:"auth-required-content",children:[e.jsx("i",{className:"fas fa-user-lock"}),e.jsx("h4",{children:"Regístrate o inicia sesión para consultar disponibilidad"}),e.jsx("p",{children:"Para enviar consultas de disponibilidad y recibir respuestas por email, necesitas tener una cuenta registrada."}),e.jsxs("div",{className:"auth-benefits",children:[e.jsx("h5",{children:"¿Por qué necesitas una cuenta?"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Recibir respuestas directamente en tu email"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Historial de tus consultas y reservas"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Comunicación segura y personalizada"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Acceso a ofertas exclusivas"]})]})]}),e.jsxs("div",{className:"auth-buttons",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>{z("login"),P(!0)},children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),"Iniciar Sesión"]}),e.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>{z("register"),P(!0)},children:[e.jsx("i",{className:"fas fa-user-plus"}),"Registrarse Gratis"]})]})]})}),e.jsx(yi,{isOpen:L,onClose:()=>P(!1),initialMode:x})]})};function dg(c,o={}){const{limit:f=20,autoLoad:u=!0}=o,[b,g]=p.useState([]),[h,A]=p.useState(!1),[D,k]=p.useState(null),[M,E]=p.useState({total:0,averageRating:0,distribution:{1:0,2:0,3:0,4:0,5:0}}),C=async()=>{if(c)try{A(!0),k(null);const v=await et.getPropertyReviews(c,{limit:f,sort:"-createdAt"});if(v.success){const d=v.data||[];g(d);const N=d.length,m=N>0?d.reduce((q,T)=>q+T.rating,0)/N:0,B={1:0,2:0,3:0,4:0,5:0};d.forEach(q=>{q.rating>=1&&q.rating<=5&&B[q.rating]++}),E({total:N,averageRating:Number(m.toFixed(1)),distribution:B}),console.log(`✅ REVIEWS: Cargadas ${N} reseñas para ${c}`)}else console.error("❌ REVIEWS: Error en respuesta:",v.error),k(v.error||"Error cargando reseñas")}catch(v){console.error("❌ REVIEWS: Error cargando reseñas:",v),k("Error de conexión"),g([]),E({total:0,averageRating:0,distribution:{1:0,2:0,3:0,4:0,5:0}})}finally{A(!1)}};p.useEffect(()=>{u&&c&&C()},[c,u]);const L=()=>b.filter(v=>v.isHighlight),P=(v=5)=>b.filter(d=>!d.isHighlight).slice(0,v);return{reviews:b,loading:h,error:D,stats:M,loadReviews:C,getHighlightedReviews:L,getRecentReviews:P,getDisplayReviews:(v=!1)=>{if(v)return b;const d=L(),N=P(Math.max(0,4-d.length));return[...d,...N]},addReview:v=>{g(d=>[v,...d]),E(d=>({...d,total:d.total+1}))}}}function ug({propertyId:c,propertyTitle:o,onReviewSubmitted:f}){const{data:u}=Xe(),{user:b,isAuthenticated:g}=is(),[h,A]=p.useState(!1),[D,k]=p.useState(!1),[M,E]=p.useState(!1),[C,L]=p.useState("login"),[P,x]=p.useState({guestName:"",rating:5,comment:"",date:new Date().toISOString().split("T")[0],verified:!1,highlight:!1,status:"pending"});p.useEffect(()=>{b&&b.name&&x(d=>({...d,guestName:d.guestName||b.name,userId:b._id,userEmail:b.email}))},[b]);const z=async d=>{if(d.preventDefault(),!g()){alert("Debes iniciar sesión para dejar una reseña"),L("login"),E(!0);return}if(!P.guestName.trim()){alert("Por favor ingresa tu nombre");return}if(!P.comment.trim()){alert("Por favor escribe tu comentario");return}if(P.comment.length<10){alert("Por favor escribe un comentario más detallado (mínimo 10 caracteres)");return}A(!0);try{const N={propertyId:c,guestName:P.guestName.trim(),guestEmail:(b==null?void 0:b.email)||"",rating:P.rating,comment:P.comment.trim(),stayDates:P.date?[P.date]:[],language:"es"};console.log("📝 REVIEW: Enviando reseña al backend:",N);const m=await et.submitReview(N);if(m.success){if(console.log("✅ REVIEW: Reseña enviada exitosamente al backend"),f&&m.data&&f(m.data),f){const B={id:Date.now().toString(),...P,createdAt:new Date().toISOString(),isGuestSubmission:!0,verified:!1,status:"pending",highlight:!1};f(B)}k(!0),setTimeout(()=>{x({guestName:"",rating:5,comment:"",date:new Date().toISOString().split("T")[0],verified:!1,highlight:!1,status:"pending"}),k(!1)},3e3)}}catch(N){console.error("❌ REVIEW: Error enviando reseña:",N),alert(`Error al enviar la reseña: ${N.message}. Por favor intenta nuevamente.`)}finally{A(!1)}},v=(d,N=!1,m=null)=>e.jsx("div",{className:`guest-stars ${N?"interactive":""}`,children:[1,2,3,4,5].map(B=>e.jsx("i",{className:`fas fa-star ${B<=d?"filled":"empty"}`,onClick:N&&m?()=>m(B):null,style:{cursor:N?"pointer":"default"}},B))});return D?e.jsx("div",{className:"guest-review-form",children:e.jsx("div",{className:"thank-you-message",children:e.jsxs("div",{className:"thank-you-content",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsxs("h3",{children:["¡Gracias por tu reseña",b?`, ${b.name}`:"","!"]}),e.jsx("p",{children:"Tu opinión es muy importante para nosotros y otros huéspedes."}),b?e.jsx("p",{children:"Como usuario registrado, tu reseña será procesada más rápidamente."}):e.jsx("p",{children:"Tu reseña será visible en breve."}),b&&e.jsxs("small",{className:"user-info",children:[e.jsx("i",{className:"fas fa-user-check"}),"Reseña enviada por: ",b.email]})]})})}):e.jsxs("div",{className:"guest-review-form",children:[g()?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"form-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-star"}),"Deja tu Reseña"]}),e.jsxs("p",{children:["Comparte tu experiencia en ",o]})]}),e.jsxs("form",{onSubmit:z,className:"review-form",children:[e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"guestName",children:["Tu nombre *",b&&e.jsxs("span",{className:"user-badge",children:[e.jsx("i",{className:"fas fa-user-check"}),"Usuario registrado"]})]}),e.jsx("input",{id:"guestName",type:"text",value:P.guestName,onChange:d=>x(N=>({...N,guestName:d.target.value})),placeholder:b?"Nombre autocompletado":"Ej: María González",required:!0,maxLength:50,disabled:h})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Tu calificación *"}),e.jsxs("div",{className:"rating-container",children:[v(P.rating,!0,d=>x(N=>({...N,rating:d}))),e.jsxs("span",{className:"rating-text",children:["(",P.rating,"/5)"]})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"guestComment",children:"Tu experiencia *"}),e.jsx("textarea",{id:"guestComment",value:P.comment,onChange:d=>x(N=>({...N,comment:d.target.value})),placeholder:"Cuéntanos sobre tu estadía: ¿qué te gustó más? ¿recomendarías este lugar? ¿alguna sugerencia?",rows:"4",required:!0,maxLength:500,disabled:h}),e.jsxs("small",{className:"char-count",children:[P.comment.length,"/500 caracteres"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"stayDate",children:"Fecha de tu estadía"}),e.jsx("input",{id:"stayDate",type:"date",value:P.date,onChange:d=>x(N=>({...N,date:d.target.value})),max:new Date().toISOString().split("T")[0],disabled:h})]}),e.jsx("div",{className:"form-actions",children:e.jsx("button",{type:"submit",className:"submit-btn",disabled:h||!P.guestName.trim()||!P.comment.trim(),children:h?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-paper-plane"}),"Enviar Reseña"]})})}),e.jsx("div",{className:"form-footer",children:e.jsxs("small",{children:[e.jsx("i",{className:"fas fa-shield-alt"}),"Tu reseña será verificada y publicada en breve. Respetamos tu privacidad."]})})]})]}):e.jsx("div",{className:"auth-required",children:e.jsxs("div",{className:"auth-required-content",children:[e.jsx("i",{className:"fas fa-user-lock"}),e.jsx("h3",{children:"Inicia sesión para dejar una reseña"}),e.jsx("p",{children:"Para mantener la calidad y autenticidad de nuestras reseñas, solo usuarios registrados pueden dejar comentarios."}),e.jsxs("div",{className:"auth-benefits",children:[e.jsx("h4",{children:"Beneficios de registrarte:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Dejar reseñas verificadas"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Hacer reservas más rápido"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Historial de reservas"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check"})," Ofertas exclusivas"]})]})]}),e.jsxs("div",{className:"auth-buttons",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>{L("login"),E(!0)},children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),"Iniciar Sesión"]}),e.jsxs("button",{className:"btn btn-outline-primary",onClick:()=>{L("register"),E(!0)},children:[e.jsx("i",{className:"fas fa-user-plus"}),"Registrarse"]})]})]})}),e.jsx(yi,{isOpen:M,onClose:()=>E(!1),initialMode:C})]})}function Jl({propertyId:c,className:o=""}){const[f,u]=p.useState(!1),[b,g]=p.useState(!1),{loading:h,error:A,stats:D,getDisplayReviews:k,addReview:M}=dg(c),E=k(f),C=x=>e.jsx("div",{className:"stars",children:[1,2,3,4,5].map(z=>e.jsx("i",{className:`fas fa-star ${z<=x?"filled":"empty"}`},z))});if(h)return e.jsx("section",{className:`reviews-section ${o}`,id:"reseñas",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"reviews-header",children:e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-star"}),"Reseñas de Huéspedes"]})}),e.jsxs("div",{className:"reviews-loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando reseñas..."})]})]})});if(A)return e.jsx("section",{className:`reviews-section ${o}`,id:"reseñas",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"reviews-header",children:e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-star"}),"Reseñas de Huéspedes"]})}),e.jsxs("div",{className:"reviews-error",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsxs("p",{children:["Error cargando reseñas: ",A]})]})]})});const L=D.averageRating,P=D.distribution;return e.jsx("section",{className:`reviews-section ${o}`,id:"reseñas",children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"reviews-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-star"}),"Reseñas de Huéspedes"]}),D.total>0&&e.jsxs("div",{className:"rating-summary",children:[e.jsxs("div",{className:"rating-main",children:[e.jsxs("div",{className:"rating-display",children:[C(Math.round(L)),e.jsx("span",{className:"rating-number",children:L})]}),e.jsxs("p",{className:"rating-text",children:["Basado en ",D.total," reseña",D.total!==1?"s":""," verificada",D.total!==1?"s":""]})]}),D.total>1&&e.jsx("div",{className:"rating-breakdown",children:[5,4,3,2,1].map(x=>{const z=P[x],v=D.total>0?z/D.total*100:0;return e.jsxs("div",{className:"rating-bar",children:[e.jsx("span",{className:"rating-label",children:x}),e.jsx("div",{className:"bar-container",children:e.jsx("div",{className:"bar-fill",style:{width:`${v}%`}})}),e.jsxs("span",{className:"rating-count",children:["(",z,")"]})]},x)})})]}),e.jsx("div",{className:"leave-review-action",children:e.jsxs("button",{onClick:()=>g(!b),className:"btn-leave-review",children:[e.jsx("i",{className:"fas fa-edit"}),b?"Ocultar Formulario":"Deja tu Reseña"]})})]}),b&&e.jsx(ug,{propertyId:c,propertyTitle:`Departamento ${c}`,onReviewSubmitted:M}),E.length>0&&e.jsx("div",{className:"reviews-grid",children:E.map(x=>e.jsxs("div",{className:`review-card ${x.isHighlight?"highlighted":""}`,children:[e.jsxs("div",{className:"review-header",children:[e.jsxs("div",{className:"guest-info",children:[e.jsx("strong",{className:"guest-name",children:x.guestName}),e.jsxs("div",{className:"review-meta",children:[C(x.rating),e.jsx("span",{className:"review-date",children:new Date(x.createdAt||x.date).toLocaleDateString("es-ES",{year:"numeric",month:"long"})})]})]}),x.isHighlight&&e.jsx("div",{className:"highlight-badge",children:e.jsx("i",{className:"fas fa-bookmark"})})]}),e.jsx("div",{className:"review-comment",children:e.jsxs("p",{children:['"',x.comment,'"']})}),e.jsx("div",{className:"review-footer",children:e.jsxs("span",{className:"verified-badge",children:[e.jsx("i",{className:"fas fa-check-circle"}),"Estadía verificada"]})})]},x._id||x.id))}),D.total>4&&!f&&e.jsx("div",{className:"reviews-actions",children:e.jsxs("button",{onClick:()=>u(!0),className:"btn btn-outline-primary",children:["Ver todas las reseñas (",D.total,")"]})}),f&&D.total>4&&e.jsx("div",{className:"reviews-actions",children:e.jsx("button",{onClick:()=>u(!1),className:"btn btn-outline-secondary",children:"Mostrar menos reseñas"})}),D.total===0&&!b&&e.jsxs("div",{className:"no-reviews",children:[e.jsx("i",{className:"fas fa-star-half-alt"}),e.jsx("h3",{children:"¡Sé el primero en dejar una reseña!"}),e.jsx("p",{children:"Comparte tu experiencia con otros huéspedes"}),e.jsxs("button",{onClick:()=>g(!0),className:"btn-leave-review primary",children:[e.jsx("i",{className:"fas fa-edit"}),"Escribir Primera Reseña"]})]})]})})}function Ms(){const[c,o]=p.useState(!0);return p.useEffect(()=>{const f=setTimeout(()=>{o(!1)},3e3);return()=>clearTimeout(f)},[]),c?e.jsx("div",{className:"loading-container",children:e.jsxs("div",{className:"loading-content",children:[e.jsx("img",{src:"/img/cartoon-giff.gif",alt:"Loading...",className:"loading-gif"}),e.jsx("h2",{children:"Cargando..."}),e.jsx("p",{children:"Por favor espere mientras se cargan los contenidos"})]})}):null}function Wl({src:c,poster:o,title:f="Video de la propiedad",autoPlay:u=!0,muted:b=!0,loop:g=!0,controls:h=!1,className:A=""}){const[D,k]=p.useState(u),[M,E]=p.useState(!1),[C,L]=p.useState(!0),[P,x]=p.useState(!1),z=p.useRef(null);p.useEffect(()=>{const N=z.current;if(!N)return;const m=()=>{L(!0),x(!1)},B=()=>{L(!1),x(!1)},q=R=>{console.error("📹 VIDEO PLAYER: Error cargando video:",R),console.error("📹 VIDEO PLAYER: Video src:",c),L(!1),x(!0)},T=()=>k(!0),w=()=>k(!1);return N.addEventListener("loadstart",m),N.addEventListener("loadeddata",B),N.addEventListener("error",q),N.addEventListener("play",T),N.addEventListener("pause",w),console.log("📹 VIDEO PLAYER: Inicializando con src:",c),()=>{N.removeEventListener("loadstart",m),N.removeEventListener("loadeddata",B),N.removeEventListener("error",q),N.removeEventListener("play",T),N.removeEventListener("pause",w)}},[c]);const v=()=>{const N=z.current;N&&(D?N.pause():N.play())},d=()=>{const N=z.current;N&&(N.muted=!N.muted)};return P||!c?(console.error("📹 VIDEO PLAYER: Error mostrado al usuario. src:",c,"hasError:",P),e.jsx("div",{className:`video-player error ${A}`,children:e.jsxs("div",{className:"error-content",children:[e.jsx("i",{className:"fas fa-exclamation-triangle fa-3x mb-3"}),e.jsx("p",{children:"Error al cargar el video"}),e.jsxs("small",{className:"text-muted",children:["Archivo: ",c]}),o&&e.jsx("img",{src:o,alt:f,className:"fallback-image"})]})})):e.jsxs("div",{className:`video-player ${A}`,onMouseEnter:()=>E(!0),onMouseLeave:()=>E(!1),children:[C&&e.jsxs("div",{className:"video-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Cargando video..."})]}),e.jsxs("video",{ref:z,src:c,poster:o,autoPlay:u,muted:b,loop:g,playsInline:!0,preload:"metadata",className:"video-element",controls:h,children:[e.jsx("source",{src:c,type:"video/mp4"}),"Tu navegador no soporta la reproducción de video.",o&&e.jsx("img",{src:o,alt:f})]}),e.jsx("div",{className:"video-overlay"}),!h&&e.jsxs("div",{className:`video-controls ${M?"show":""}`,children:[e.jsx("button",{className:"control-btn play-pause-btn",onClick:v,"aria-label":D?"Pausar video":"Reproducir video",children:e.jsx("i",{className:`fas ${D?"fa-pause":"fa-play"}`})}),e.jsx("button",{className:"control-btn mute-btn",onClick:d,"aria-label":"Alternar audio",children:e.jsx("i",{className:"fas fa-volume-up"})})]}),e.jsx("div",{className:"video-info",children:e.jsx("h3",{className:"video-title",children:f})})]})}class mg{constructor(){this.listeners=new Map,this.setupCrossTabCommunication()}setupCrossTabCommunication(){window.addEventListener("storage",o=>{if(o.key==="baconfort-gallery-update"){const f=o.newValue;f&&(this.triggerLocalListeners(f),setTimeout(()=>{localStorage.removeItem("baconfort-gallery-update")},100))}})}triggerLocalListeners(o){this.listeners.has(o)&&this.listeners.get(o).forEach(f=>{try{f()}catch{}})}subscribe(o,f){return this.listeners.has(o)||this.listeners.set(o,new Set),this.listeners.get(o).add(f),()=>{this.listeners.has(o)&&this.listeners.get(o).delete(f)}}notifyGalleryChanged(o){this.triggerLocalListeners(o),localStorage.setItem("baconfort-gallery-update",o),window.dispatchEvent(new CustomEvent("baconfort-gallery-changed",{detail:{propertyId:o}}))}clear(){this.listeners.clear()}getListenerCount(o){var f;return((f=this.listeners.get(o))==null?void 0:f.size)||0}}const fg=new mg,Im={moldes1680:"moldes-1680",santafe3770:"santa-fe-3770",dorrego1548:"dorrego-1548",convencion1994:"convencion-1994",ugarteche2824:"ugarteche-2824"},st=c=>{const[o,f]=p.useState([]),[u,b]=p.useState(!0),[g,h]=p.useState(null),[A,D]=p.useState(null),[k,M]=p.useState(null),E=async(L=!1)=>{if(!c||c===k&&!L){console.log(`🔄 GALLERY HOOK: Skipping load - ya cargado: ${c}`),b(!1);return}try{console.log(`🖼️ GALLERY HOOK: Cargando NUEVA galería: ${c} (anterior: ${k})`),b(!0),h(null),M(c);const P=Im[c]||c,x=await Ep.getByProperty(P);if(x.success){const z=x.images||[],v=z.map(N=>N.url),d=z.find(N=>N.isMain);f(v),D((d==null?void 0:d.url)||v[0])}else h(`Error al cargar galería: ${x.error||"Error desconocido"}`)}catch(P){console.error("❌ GALLERY HOOK: Error:",P),h(P.message)}finally{b(!1)}};return p.useEffect(()=>{E()},[c]),p.useEffect(()=>{const L=Im[c]||c;return fg.subscribe(L,()=>{E(!0)})},[c]),{images:o,mainImage:A,loading:u,error:g,refreshGallery:()=>{E(!0)}}},hg={"moldes-1680":{id:"moldes-1680",title:"Moldes 1680",prices:{daily:"USD 65",weekly:"USD 350",monthly:"USD 1000",currency:"USD"},description:{es:"Exclusivo departamento de dos ambientes en edificio boutique con amenities premium en Belgrano.",en:"Exclusive two-room apartment in a boutique building with premium amenities in Belgrano.",pt:"Apartamento exclusivo de dois ambientes em edifício boutique com amenidades premium em Belgrano."},amenities:{departamento:[{icon:"fas fa-tv",text:'Smart TV 55"'},{icon:"fas fa-wifi",text:"WiFi 500MB Fibra Óptica"},{icon:"fas fa-snowflake",text:"Aire Acondicionado F/C"},{icon:"fas fa-utensils",text:"Cocina Completamente Equipada"},{icon:"fas fa-bed",text:"Ropa de Cama Premium"},{icon:"fas fa-bath",text:"Baño Privado con Ducha"},{icon:"fas fa-tshirt",text:"Lavarropas"},{icon:"fas fa-coffee",text:"Cafetera y Menaje Completo"},{icon:"fas fa-blender",text:"Microondas y Electrodomésticos"},{icon:"fas fa-couch",text:"Living Amueblado"},{icon:"fas fa-door-closed",text:"Balcón Privado"},{icon:"fas fa-lock",text:"Caja Fuerte"},{icon:"fas fa-broom",text:"Kit de Limpieza"},{icon:"fas fa-laptop",text:"Zona de Trabajo/Escritorio"}],servicios:[{icon:"fas fa-concierge-bell",text:"Recepción 24hs"},{icon:"fas fa-shield-alt",text:"Seguridad 24hs"},{icon:"fas fa-broom",text:"Servicio de Limpieza"},{icon:"fas fa-car",text:"Servicio de Traslados"},{icon:"fas fa-suitcase",text:"Guardaequipaje"},{icon:"fas fa-info-circle",text:"Información Turística"},{icon:"fas fa-phone",text:"Asistencia 24/7"}],amenitiesEdificio:[{icon:"fas fa-elevator",text:"Ascensor"},{icon:"fas fa-car",text:"Cochera/Estacionamiento"},{icon:"fas fa-dumbbell",text:"Gimnasio"},{icon:"fas fa-swimming-pool",text:"Piscina"},{icon:"fas fa-sun",text:"Solarium/Terraza"},{icon:"fas fa-users",text:"SUM/Salón de Usos Múltiples"},{icon:"fas fa-spa",text:"Spa/Jacuzzi"},{icon:"fas fa-tree",text:"Jardín/Espacios Verdes"},{icon:"fas fa-building",text:"Edificio Moderno"},{icon:"fas fa-shield-alt",text:"Portería/Seguridad 24hs"}]}},"santa-fe-3770":{id:"santa-fe-3770",title:"Santa Fe 3770",prices:{daily:"USD 75",weekly:"USD 420",monthly:"USD 1000",currency:"USD"},description:{es:"Departamento moderno de un ambiente en el corazón de Palermo con todas las comodidades necesarias.",en:"Modern one-bedroom apartment in the heart of Palermo with all necessary amenities.",pt:"Apartamento moderno de um ambiente no coração de Palermo com todas as comodidades necessárias."},amenities:{departamento:[{icon:"fas fa-tv",text:'Smart TV 49"'},{icon:"fas fa-wifi",text:"WiFi 300MB Fibra Óptica"},{icon:"fas fa-snowflake",text:"Aire Acondicionado Split"}],servicios:[{icon:"fas fa-shield-alt",text:"Seguridad 24hs"},{icon:"fas fa-tshirt",text:"Laundry"}],amenitiesEdificio:[{icon:"fas fa-swimming-pool",text:"Piscina Olímpica"},{icon:"fas fa-dumbbell",text:"Gimnasio Equipado"}]}},ugarteche2824:{id:"ugarteche2824",title:"Ugarteche 2824",prices:{daily:"USD 95",weekly:"USD 400",monthly:"USD 750",currency:"USD"},description:{es:"Departamento de lujo en Palermo Botánico con vistas espectaculares.",en:"Luxury apartment in Palermo Botánico with spectacular views.",pt:"Apartamento de luxo em Palermo Botânico com vistas espetaculares."},amenities:{departamento:[{icon:"fas fa-tv",text:'Smart TV 55"'},{icon:"fas fa-wifi",text:"WiFi 300MB Fibra Óptica"}],servicios:[{icon:"fas fa-shield-alt",text:"Seguridad 24hs"}],amenitiesEdificio:[]}},"ugarteche-2824":{id:"ugarteche-2824",title:"Ugarteche 2824",prices:{daily:"USD 95",weekly:"USD 400",monthly:"USD 750",currency:"USD"},description:{es:"Departamento de lujo en Palermo Botánico con vistas espectaculares.",en:"Luxury apartment in Palermo Botánico with spectacular views.",pt:"Apartamento de luxo em Palermo Botânico com vistas espetaculares."},amenities:{departamento:[{icon:"fas fa-tv",text:'Smart TV 55"'},{icon:"fas fa-wifi",text:"WiFi 300MB Fibra Óptica"}],servicios:[{icon:"fas fa-shield-alt",text:"Seguridad 24hs"}],amenitiesEdificio:[]}},dorrego1548:{id:"dorrego1548",title:"Dorrego 1548",prices:{daily:"USD 70",weekly:"USD 320",monthly:"USD 1200",currency:"USD"},description:{es:"Departamento completo en Villa Crespo con excelente ubicación y conectividad.",en:"Complete apartment in Villa Crespo with excellent location and connectivity.",pt:"Apartamento completo em Villa Crespo com excelente localização e conectividade."},amenities:{departamento:[{icon:"fas fa-tv",text:"Smart TV"},{icon:"fas fa-wifi",text:"WiFi"},{icon:"fas fa-snowflake",text:"Aire Acondicionado"}],servicios:[{icon:"fas fa-shield-alt",text:"Seguridad"},{icon:"fas fa-broom",text:"Limpieza"}],amenitiesEdificio:[{icon:"fas fa-tree",text:"Jardín"}]}},"dorrego-1548":{id:"dorrego-1548",title:"Dorrego 1548",prices:{daily:"USD 70",weekly:"USD 320",monthly:"USD 1200",currency:"USD"},description:{es:"Departamento completo en Villa Crespo con excelente ubicación y conectividad.",en:"Complete apartment in Villa Crespo with excellent location and connectivity.",pt:"Apartamento completo em Villa Crespo com excelente localização e conectividade."},amenities:{departamento:[{icon:"fas fa-tv",text:"Smart TV"},{icon:"fas fa-wifi",text:"WiFi"},{icon:"fas fa-snowflake",text:"Aire Acondicionado"}],servicios:[{icon:"fas fa-shield-alt",text:"Seguridad"},{icon:"fas fa-broom",text:"Limpieza"}],amenitiesEdificio:[{icon:"fas fa-tree",text:"Jardín"}]}},convencion1994:{id:"convencion1994",title:"Convención 1994",prices:{daily:"USD 90",weekly:"USD 380",monthly:"USD 1200",currency:"USD"},description:{es:"Estudio exclusivo para dos personas en edificio boutique con amenidades premium en Palermo Hollywood.",en:"Exclusive studio for two in a boutique building with premium amenities in Palermo Hollywood.",pt:"Estúdio exclusivo para duas pessoas em edifício boutique com amenidades premium em Palermo Hollywood."},amenities:{departamento:[{icon:"fas fa-tv",text:'Smart TV 32"'},{icon:"fas fa-wifi",text:"WiFi 300MB Fibra Óptica"},{icon:"fas fa-snowflake",text:"Aire Acondicionado F/C"}],servicios:[{icon:"fas fa-shield-alt",text:"Seguridad 24hs"},{icon:"fas fa-concierge-bell",text:"Conserjería"}],amenitiesEdificio:[{icon:"fas fa-elevator",text:"Ascensor"},{icon:"fas fa-building",text:"Edificio Boutique"}]}},"convencion-1994":{id:"convencion-1994",title:"Convención 1994",prices:{daily:"USD 90",weekly:"USD 380",monthly:"USD 1200",currency:"USD"},description:{es:"Estudio exclusivo para dos personas en edificio boutique con amenidades premium en Palermo Hollywood.",en:"Exclusive studio for two in a boutique building with premium amenities in Palermo Hollywood.",pt:"Estúdio exclusivo para duas pessoas em edifício boutique com amenidades premium em Palermo Hollywood."},amenities:{departamento:[{icon:"fas fa-tv",text:'Smart TV 32"'},{icon:"fas fa-wifi",text:"WiFi 300MB Fibra Óptica"},{icon:"fas fa-snowflake",text:"Aire Acondicionado F/C"}],servicios:[{icon:"fas fa-shield-alt",text:"Seguridad 24hs"},{icon:"fas fa-concierge-bell",text:"Conserjería"}],amenitiesEdificio:[{icon:"fas fa-elevator",text:"Ascensor"},{icon:"fas fa-building",text:"Edificio Boutique"}]}}},tt=c=>{const[o,f]=p.useState(null),[u,b]=p.useState(!0),[g,h]=p.useState(null),[A,D]=p.useState(!1),[k,M]=p.useState(null);let E=null;try{E=Xe()}catch(x){console.log("🔄 PROPERTY HOOK: Error accediendo a AdminContext:",x.message)}const C={"moldes-1680":"moldes-1680",moldes1680:"moldes-1680","santa-fe-3770":"santa-fe-3770",santafe3770:"santa-fe-3770","dorrego-1548":"dorrego-1548",dorrego1548:"dorrego-1548","convencion-1994":"convencion-1994",convencion1994:"convencion-1994","ugarteche-2824":"ugarteche-2824",ugarteche2824:"ugarteche-2824"},L=async()=>{var x,z,v,d,N,m,B,q,T,w,R,U,F,G,ae,Y,O,S,_,$,ie,W,y,X,ne,oe,ee,ce,ue,xe,ve,ze,Qe,aa;if(!c||c===k){console.log(`🔄 PROPERTY HOOK: Skipping load - ya cargado: ${c}`),b(!1);return}try{console.log(`🏠 PROPERTY HOOK: Cargando NUEVA propiedad: ${c} (anterior: ${k})`),b(!0),h(null),D(!1),M(c);const Ee=C[c]||c;if(E&&E.getProperty){console.log(`🎯 PROPERTY HOOK: AdminContext disponible para ${c}`),console.log("🎯 PROPERTY HOOK: isInitialized =",E.isInitialized),console.log("🎯 PROPERTY HOOK: Llamando getProperty con dbPropertyId =",Ee);const re=E.getProperty(Ee);if(console.log("🎯 PROPERTY HOOK: Resultado de getProperty:",re),re){console.log(`✅ PROPERTY HOOK: Datos obtenidos desde AdminContext para ${c}:`,{id:re.id,title:re.title,hasPrices:!!re.prices,pricesStructure:re.prices,pricesType:typeof re.prices,pricesKeys:re.prices?Object.keys(re.prices):[],dailyPrice:(x=re.prices)==null?void 0:x.daily,weeklyPrice:(z=re.prices)==null?void 0:z.weekly,monthlyPrice:(v=re.prices)==null?void 0:v.monthly,amenitiesCount:{departamento:((N=(d=re.amenities)==null?void 0:d.departamento)==null?void 0:N.length)||0,servicios:((B=(m=re.amenities)==null?void 0:m.servicios)==null?void 0:B.length)||0,amenitiesEdificio:((T=(q=re.amenities)==null?void 0:q.amenitiesEdificio)==null?void 0:T.length)||0}});const Sa={...re,prices:(U=(R=(w=re.prices)==null?void 0:w.daily)==null?void 0:R.includes)!=null&&U.call(R,"USD")?re.prices:{daily:`USD ${((F=re.prices)==null?void 0:F.daily)||"0"}`,weekly:`USD ${((G=re.prices)==null?void 0:G.weekly)||"0"}`,monthly:`USD ${((ae=re.prices)==null?void 0:ae.monthly)||"0"}`,currency:((Y=re.prices)==null?void 0:Y.currency)||"USD"}};console.log(`🎯 PROPERTY HOOK: Formateando propiedad para ${c}:`,{originalPrices:re.prices,formattedPrices:Sa.prices}),f(Sa),console.log(`✅ PROPERTY HOOK: Property seteada para ${c}`),b(!1);return}else if(console.log(`⚠️ PROPERTY HOOK: Property ${Ee} no encontrada en AdminContext`),!E.isInitialized){console.log("🔄 PROPERTY HOOK: AdminContext no inicializado, esperando 1 segundo y reintentando..."),setTimeout(()=>{console.log(`🔄 PROPERTY HOOK: Reintentando carga para ${c}`),L()},1e3);return}}else console.log("⚠️ PROPERTY HOOK: AdminContext no disponible, no inicializado o sin método getProperty. Estado:",{hasContext:!!E,hasGetProperty:!!(E!=null&&E.getProperty),isInitialized:E==null?void 0:E.isInitialized});console.log(`🏠 PROPERTY HOOK: Intentando cargar desde backend: ${c} → ${Ee}`);const Ge=new Promise((re,Sa)=>setTimeout(()=>Sa(new Error("Backend timeout")),5e3)),cs=$m.getProperty(Ee,{cacheBust:Date.now()}),Ps=await Promise.race([cs,Ge]);if(Ps.success&&Ps.data){const re=Ps.data;console.log(`✅ PROPERTY HOOK: Datos cargados desde backend para ${c}:`,{id:re.id,updatedAt:re.updatedAt,hasPrices:!!re.prices,pricesStructure:re.prices,amenitiesCount:{departamento:((S=(O=re.amenities)==null?void 0:O.departamento)==null?void 0:S.length)||0,servicios:(($=(_=re.amenities)==null?void 0:_.servicios)==null?void 0:$.length)||0,amenitiesEdificio:((W=(ie=re.amenities)==null?void 0:ie.amenitiesEdificio)==null?void 0:W.length)||0},amenitiesPreview:{departamento:((X=(y=re.amenities)==null?void 0:y.departamento)==null?void 0:X.slice(0,2).map(Ma=>Ma.text))||[],servicios:((oe=(ne=re.amenities)==null?void 0:ne.servicios)==null?void 0:oe.slice(0,2).map(Ma=>Ma.text))||[],amenitiesEdificio:((ce=(ee=re.amenities)==null?void 0:ee.amenitiesEdificio)==null?void 0:ce.slice(0,2).map(Ma=>Ma.text))||[]}});let Sa;if(re.prices&&typeof re.prices=="object")Sa={daily:`USD ${re.prices.daily||0}`,weekly:`USD ${re.prices.weekly||0}`,monthly:`USD ${re.prices.monthly||0}`,currency:re.prices.currency||"USD"};else if(re.price&&typeof re.price=="number")console.warn(`⚠️ PROPERTY HOOK: Usando estructura de fallback para ${c}. Price: ${re.price}`),Sa={daily:`USD ${Math.round(re.price/30)}`,weekly:`USD ${Math.round(re.price/4)}`,monthly:`USD ${re.price}`,currency:"USD"};else throw console.warn(`⚠️ PROPERTY HOOK: Estructura de precios inválida para ${c}:`,re),new Error("Invalid prices structure");const lt={...re,prices:Sa};f(lt)}else throw new Error("Backend response invalid")}catch(Ee){console.warn(`⚠️ PROPERTY HOOK: Error cargando desde backend para ${c}:`,{error:Ee.message,stack:Ee.stack,propertyId:c,dbPropertyId:C[c]||c});const Ge=hg[C[c]||c];Ge?(console.log(`🔄 PROPERTY HOOK: Usando datos fallback para ${c}:`,{id:Ge.id,amenitiesCount:{departamento:((xe=(ue=Ge.amenities)==null?void 0:ue.departamento)==null?void 0:xe.length)||0,servicios:((ze=(ve=Ge.amenities)==null?void 0:ve.servicios)==null?void 0:ze.length)||0,amenitiesEdificio:((aa=(Qe=Ge.amenities)==null?void 0:Qe.amenitiesEdificio)==null?void 0:aa.length)||0}}),f(Ge),D(!0)):(console.error(`❌ PROPERTY HOOK: No hay datos fallback para ${c}`),h(`No hay datos disponibles para la propiedad: ${c}`))}finally{b(!1)}};p.useEffect(()=>{L()},[c]),p.useEffect(()=>{E&&E.lastUpdate&&(console.log("🔄 PROPERTY HOOK: Detectado cambio en AdminContext, recargando...",E.lastUpdate),setTimeout(()=>{L()},100))},[E==null?void 0:E.lastUpdate]),p.useEffect(()=>{if(E&&E.properties&&c){const x=C[c]||c,z=E.properties[x];z&&z.updatedAt&&(console.log("🔄 PROPERTY HOOK: Detectado cambio en propiedad específica, actualizando...",{id:x,updatedAt:z.updatedAt}),L())}},[E==null?void 0:E.properties,c]),p.useEffect(()=>{const x=v=>{const{propertyId:d}=v.detail,N=C[c]||c;(d===c||d===N)&&(console.log("🔄 PROPERTY HOOK: Detectado evento personalizado de actualización, recargando...",{eventPropertyId:d,currentPropertyId:c,dbPropertyId:N}),setTimeout(()=>{L()},50))},z=v=>{const{propertyId:d,prices:N}=v.detail,m=C[c]||c;(d===c||d===m)&&(console.log("💰 PROPERTY HOOK: Detectado evento de actualización de precios, actualizando...",{eventPropertyId:d,currentPropertyId:c,dbPropertyId:m,newPrices:N}),f(B=>B?{...B,prices:N}:null),setTimeout(()=>{L()},100))};return window.addEventListener("baconfort-property-updated",x),window.addEventListener("baconfort-prices-updated",z),()=>{window.removeEventListener("baconfort-property-updated",x),window.removeEventListener("baconfort-prices-updated",z)}},[c,L]);const P=p.useCallback(()=>{L()},[c]);return{property:o,loading:u,error:g,refreshProperty:P,isUsingFallback:A}},en=c=>{const[o,f]=p.useState(null),[u,b]=p.useState(!0),[g,h]=p.useState(null),A=Xe(),{getProperty:D,getAllProperties:k,lastUpdate:M}=A,E=k();p.useEffect(()=>{c&&(()=>{var P,x,z,v,d,N,m,B,q,T,w,R,U,F;try{b(!0),h(null);const G=D(c);if(G){if(G.isBlocked){console.log("🚫 usePropertyFromContext: Propiedad bloqueada:",c),h(new Error(`Propiedad ${c} está bloqueada y no disponible`)),f(null),b(!1);return}const ae={...G,prices:(d=(v=(z=(x=(P=G.prices)==null?void 0:P.daily)==null?void 0:x.toString)==null?void 0:z.call(x))==null?void 0:v.includes)!=null&&d.call(v,"USD")?G.prices:{daily:`USD ${((B=(m=(N=G.prices)==null?void 0:N.daily)==null?void 0:m.toString)==null?void 0:B.call(m))||0}`,weekly:`USD ${((w=(T=(q=G.prices)==null?void 0:q.weekly)==null?void 0:T.toString)==null?void 0:w.call(T))||0}`,monthly:`USD ${((F=(U=(R=G.prices)==null?void 0:R.monthly)==null?void 0:U.toString)==null?void 0:F.call(U))||0}`,currency:"USD"}};f(ae)}else h(new Error(`Propiedad ${c} no encontrada en contexto`))}catch(G){h(G)}finally{b(!1)}})()},[c,M,E]);const C=()=>{const L=D(c);L&&f(L)};return p.useEffect(()=>{const L=D(c);if(L&&o){const P=JSON.stringify(L.prices),x=JSON.stringify(o.prices);P!==x&&f(L)}},[E,M,c]),{property:o,loading:u,error:g,refreshProperty:C,isUsingContext:!0,contextData:E}},Qt=()=>{const[c,o]=p.useState(!1),f=p.useCallback(()=>{o(b=>!b)},[]),u=p.useCallback(()=>{o(!1)},[]);return p.useEffect(()=>{const b=h=>{const A=document.querySelector(".navbar-collapse"),D=document.querySelector(".navbar-toggler");c&&A&&!A.contains(h.target)&&!(D!=null&&D.contains(h.target))&&o(!1)},g=h=>{h.key==="Escape"&&c&&o(!1)};return c&&(document.addEventListener("click",b),document.addEventListener("keydown",g)),()=>{document.removeEventListener("click",b),document.removeEventListener("keydown",g)}},[c]),{navbarOpen:c,toggleNavbar:f,closeNavbar:u}},Be={isBase64Image:c=>!c||typeof c!="string"?!1:c.startsWith("data:image/"),isBase64Video:c=>!c||typeof c!="string"?!1:c.startsWith("data:video/"),isBase64Media:c=>Be.isBase64Image(c)||Be.isBase64Video(c),getImageSrc:c=>c?typeof c=="object"&&c.src?c.src:Be.isBase64Image(c)||c.startsWith("/")||c.startsWith("http")?c:`/img/${c}`:"",getVideoSrc:c=>c?typeof c=="object"&&c.src?c.src:Be.isBase64Video(c)||c.startsWith("/")||c.startsWith("http")?c:`/video/${c}`:"",validateImageSrc:c=>new Promise(o=>{if(Be.isBase64Image(c)){o(!0);return}const f=new Image;f.onload=()=>o(!0),f.onerror=()=>o(!1),f.src=Be.getImageSrc(c)})},an=({propertyId:c,propertyName:o})=>e.jsx("div",{className:"blocked-property-page",children:e.jsxs("div",{className:"blocked-property-container",children:[e.jsx("div",{className:"blocked-icon",children:e.jsx("i",{className:"fas fa-lock"})}),e.jsx("h1",{children:"Propiedad no disponible"}),e.jsxs("p",{children:["Lo sentimos, la propiedad ",e.jsx("strong",{children:o||c})," no está disponible en este momento."]}),e.jsx("p",{children:"Esta propiedad está temporalmente bloqueada para reservas."}),e.jsxs("div",{className:"blocked-actions",children:[e.jsxs(He,{to:"/",className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-home"})," Volver a Inicio"]}),e.jsxs(He,{to:"/promociones",className:"btn btn-secondary",children:[e.jsx("i",{className:"fas fa-tags"})," Ver Promociones"]})]})]})});function pg(){var q,T,w;const[c,o]=p.useState(!1),[f,u]=p.useState(0),[b,g]=p.useState(!0),{navbarOpen:h,toggleNavbar:A,closeNavbar:D}=Qt(),{images:k,refreshGallery:M}=st("moldes-1680"),E={departamento:[{icon:"fas fa-tv",text:'Smart TV 43"'},{icon:"fas fa-wifi",text:"WiFi 300MB Fibra Óptica"},{icon:"fas fa-snowflake",text:"Aire Acondicionado F/C"},{icon:"fas fa-utensils",text:"Cocina Completamente Equipada"},{icon:"fas fa-bed",text:"Ropa de Cama"},{icon:"fas fa-bath",text:"Baño Privado con Ducha"},{icon:"fas fa-tshirt",text:"Lavarropas"},{icon:"fas fa-blender",text:"Microondas y Electrodomésticos"},{icon:"fas fa-couch",text:"Living Amueblado"},{icon:"fas fa-door-closed",text:"Balcón Privado"}],servicios:[{icon:"fas fa-phone",text:"Asistencia 24/7"}],amenitiesEdificio:[{icon:"fas fa-elevator",text:"Ascensor"}]},{property:C}=en("moldes-1680"),{property:L}=tt("moldes-1680"),P=C||L,x=P?{...P}:{id:"moldes-1680",title:"Moldes 1680",prices:{daily:"USD 70",weekly:"USD 400",monthly:"USD 1200"},description:{es:"Exclusivo departamento de dos ambientes en edificio boutique con amenities premium en Belgrano. Diseño moderno, espacios luminosos y todas las comodidades para una estadía perfecta.",en:"Exclusive two-room apartment in a boutique building with premium amenities in Belgrano. Modern design, bright spaces, and all the comforts for a perfect stay.",pt:"Apartamento exclusivo de dois ambientes em edifício boutique com amenidades premium em Belgrano. Design moderno, espaços luminosos e todas as comodidades para uma estadia perfeita."}},[z,v]=p.useState({monthly:"USD 1000",weekly:"USD 350",daily:"USD 65"});p.useEffect(()=>{x&&x.prices&&(console.log("💰 Moldes1680 - Actualizando precios:",x.prices),v({monthly:x.prices.monthly||"USD 1000",weekly:x.prices.weekly||"USD 350",daily:x.prices.daily||"USD 65"}))},[x==null?void 0:x.prices]),p.useEffect(()=>{const R=U=>{U.detail.propertyId==="moldes-1680"&&(console.log("🔄 Moldes1680 - Evento de actualización de precios recibido:",U.detail),v({monthly:U.detail.prices.monthly||"USD 1000",weekly:U.detail.prices.weekly||"USD 350",daily:U.detail.prices.daily||"USD 65"}))};return window.addEventListener("baconfort-prices-updated",R),()=>window.removeEventListener("baconfort-prices-updated",R)},[]),p.useEffect(()=>{C&&C.lastModified},[C==null?void 0:C.lastModified,C==null?void 0:C.updatedAt]);const d=["/img/img-moldes1-1680.jpg","/img/img-moldes2-1680.jpg","/img/img-moldes3-1680.jpg","/img/img-moldes4-1680.jpg","/img/img-moldes5-1680.jpg","/img/img-moldes6-1680.jpg","/img/img-moldes7-1680.jpg","/img/img-moldes8-1680.jpg"],N=k.length>0?k:(x==null?void 0:x.id)==="moldes-1680"||!(x!=null&&x.id)?d:[],m=N.map(R=>Be.getImageSrc(R)),B=R=>{u(R),o(!0)};return p.useEffect(()=>{(async()=>{const U=document.querySelectorAll("img"),F=Array.from(U).map(G=>G.complete?Promise.resolve():new Promise(ae=>{G.addEventListener("load",ae),G.addEventListener("error",ae)}));await Promise.all(F),g(!1)})()},[]),P&&P.isBlocked?e.jsx(an,{propertyId:"moldes-1680",propertyName:"Moldes 1680"}):e.jsx(e.Fragment,{children:["/moldes1680","/departamentos/moldes-1680"].includes(window.location.pathname)?e.jsxs(e.Fragment,{children:[b&&e.jsx(Ms,{}),e.jsx("nav",{className:"navbar navbar-expand-lg sticky-top convencion-navbar",children:e.jsxs("div",{className:"container",children:[e.jsxs(He,{className:"navbar-brand",to:"/","aria-label":"BACONFORT Home",children:[e.jsx("img",{src:"/img/logo.jpg",alt:"BACONFORT Logo",width:"40",height:"40",className:"brand-logo",loading:"lazy"}),e.jsx("i",{className:"fas fa-star ms-2 brand-icon","aria-hidden":"true"}),e.jsx("span",{className:"brand-text",children:"BACONFORT"})]}),e.jsx("button",{className:"navbar-toggler",type:"button",onClick:A,"aria-controls":"navbarNav","aria-expanded":h,"aria-label":"Toggle navigation",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("div",{className:`navbar-collapse ${h?"show":"collapse"}`,id:"navbarNav",children:e.jsxs("ul",{className:"navbar-nav ms-auto",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"/",onClick:D,children:[e.jsx("i",{className:"fas fa-home nav-icon"})," Inicio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#servicios",onClick:D,children:[e.jsx("i",{className:"fas fa-list nav-icon"})," Detalles"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#ubicacion",onClick:D,children:[e.jsx("i",{className:"fas fa-map-marker-alt nav-icon"})," Ubicación"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#moldes-1680-precios",onClick:D,children:[e.jsx("i",{className:"fas fa-tag nav-icon"})," Precio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#reseñas",onClick:D,children:[e.jsx("i",{className:"fas fa-star nav-icon"})," Reseñas"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#consulta",onClick:D,"aria-label":"Consultar disponibilidad",children:[e.jsx("i",{className:"fas fa-calendar-check nav-icon","aria-hidden":"true"}),"Consulta"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#calendario",onClick:D,"aria-label":"Ver calendario de reservas",children:[e.jsx("i",{className:"fas fa-calendar-alt nav-icon","aria-hidden":"true"}),"Calendario"]})})]})})]})}),e.jsxs("div",{className:"video-hero",children:[e.jsx(Wl,{src:Be.getVideoSrc(x==null?void 0:x.heroVideo)||"/video/video-portada-moldes-1680.mp4",poster:Be.getImageSrc((x==null?void 0:x.coverImage)||"/img/img-moldes3.jpg"),title:(x==null?void 0:x.title)||"Departamento Moldes 1680",autoPlay:!0,muted:!0,loop:!0,controls:!1,className:"hero-video"}),e.jsx("div",{className:"video-overlay"}),e.jsx("div",{className:"video-content"})]}),e.jsxs("main",{className:"departamento-page moldes-container",children:[e.jsx("section",{id:"servicios",className:"services container py-5",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-lg-10 mx-auto",children:[e.jsxs("h1",{className:"text-center mb-4",children:[e.jsx("i",{className:"fas fa-building"})," Belgrano Family Retreat"]}),e.jsxs("h2",{className:"h4 text-center mb-4",children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Moldes 1680 - Confort y Espacio"]}),e.jsx("div",{className:"property-features mb-5",children:e.jsxs("div",{className:"row text-center",children:[e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-building fa-2x mb-2 feature-icon"}),e.jsx("p",{children:"2° Piso con Ascensor"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-bed fa-2x mb-2 feature-icon"}),e.jsx("p",{children:"2 Dormitorios"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-snowflake fa-2x mb-2 feature-icon"}),e.jsx("p",{children:"Aire Acondicionado F/C"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-users fa-2x mb-2 feature-icon"}),e.jsx("p",{children:"Para 4 Huéspedes"})]})]})}),e.jsxs("div",{id:"moldes-1680-precios",className:"pricing-container",children:[e.jsxs("h2",{className:"pricing-title",children:[e.jsx("i",{className:"fas fa-dollar-sign"})," Valor del Alquiler"]}),e.jsxs("div",{className:"pricing-cards",children:[e.jsx(ra,{title:"Por Mes",amount:z.monthly,details:"No incluye servicios y limpieza semanal",whatsappMessage:"Me interesa el departamento en Moldes 1680 para alquiler mensual",propertyId:"moldes-1680"}),e.jsx(ra,{title:"Por Semana",amount:z.weekly,details:"No incluye una limpieza",whatsappMessage:"Me interesa el departamento en Moldes 1680 para alquiler semanal",propertyId:"moldes-1680"}),e.jsx(ra,{title:"Por Día",amount:z.daily,details:"Mínimo 3 noches",whatsappMessage:"Me interesa el departamento en Moldes 1680 para alquiler diario",propertyId:"moldes-1680"})]})]}),e.jsxs("div",{className:"service",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-home"})," Belgrano Family Retreat",e.jsx("br",{}),e.jsx("i",{className:"fas fa-map-marker-alt"})," Moldes 1680 - Confort y Espacio"]}),e.jsxs("div",{className:"description",children:[e.jsxs("p",{lang:"es",children:[e.jsx("strong",{children:"En Español:"}),e.jsx("br",{}),((q=x==null?void 0:x.description)==null?void 0:q.es)||"Exclusivo departamento de dos ambientes en edificio boutique con amenities premium en Belgrano. Diseño moderno, espacios luminosos y todas las comodidades para una estadía perfecta."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"en",children:[e.jsx("strong",{children:"In English:"}),e.jsx("br",{}),((T=x==null?void 0:x.description)==null?void 0:T.en)||"Exclusive two-room apartment in a boutique building with premium amenities in Belgrano. Modern design, bright spaces, and all the comforts for a perfect stay."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"pt",children:[e.jsx("strong",{children:"Em Português:"}),e.jsx("br",{}),((w=x==null?void 0:x.description)==null?void 0:w.pt)||"Apartamento exclusivo de dois ambientes em edifício boutique com amenidades premium em Belgrano. Design moderno, espaços luminosos e todas as comodidades para uma estadia perfeita."]})]})]}),e.jsxs("div",{className:"amenities-list mb-5",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h3",{className:"h5 mb-0",children:[e.jsx("i",{className:"fas fa-star"})," Comodidades Destacadas"]}),e.jsxs("small",{className:"text-muted",children:[E.departamento.length+E.servicios.length+E.amenitiesEdificio.length," comodidades totales"]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-home"})," Departamento"]}),e.jsx("ul",{className:"list-unstyled",children:E.departamento.map((R,U)=>e.jsxs("li",{children:[e.jsx("i",{className:R.icon})," ",R.text]},`dept-${U}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-concierge-bell"})," Servicios"]}),e.jsx("ul",{className:"list-unstyled",children:E.servicios.map((R,U)=>e.jsxs("li",{children:[e.jsx("i",{className:R.icon})," ",R.text]},`serv-${U}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-building"})," Amenities del Edificio"]}),e.jsx("ul",{className:"list-unstyled",children:E.amenitiesEdificio.map((R,U)=>e.jsxs("li",{children:[e.jsx("i",{className:R.icon})," ",R.text]},`amenities-${U}`))})]})]})]}),e.jsxs("section",{className:"gallery-section",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-images"})," Galería de Imágenes"]}),e.jsx("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:e.jsxs("button",{onClick:M,className:"btn btn-sm btn-outline-primary",title:"Actualizar galería",children:[e.jsx("i",{className:"fas fa-sync-alt"})," Actualizar"]})})]}),e.jsx("div",{className:"gallery-container",children:m.map((R,U)=>e.jsx("div",{className:"gallery-item",onClick:()=>B(U),children:e.jsx("img",{src:R,alt:`Departamento Moldes 1680 - ${U+1}`,loading:"lazy"})},U))})]})]})})}),e.jsx("div",{className:"col-lg-4"}),e.jsx("section",{id:"ubicacion",className:"py-5 bg-light",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 text-center mb-4",children:e.jsxs("h2",{className:"section-title",children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Ubicación Moldes 1680"]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12 mb-4",children:e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3285.4459416106006!2d-58.45894352565634!3d-34.56758125558819!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcb5d0c68f12dd%3A0xaae761375ee581ce!2sMoldes%201680%2C%20C1426ALV%20Cdad.%20Aut%C3%B3noma%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1746476890169!5m2!1ses-419!2sar",width:"100%",height:"450",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa de Moldes 1680"})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"location-details mb-4",children:[e.jsx("h3",{className:"h4",children:"Puntos de interés cercanos:"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-subway"})," Subte Línea D - José Hernández (2 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-store"})," Av. Cabildo (5 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-tree"})," Barrancas de Belgrano (10 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-utensils"})," Barrio Chino (15 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-bus"})," Múltiples líneas de colectivo"]})]})]})})})]})}),e.jsxs("div",{className:"house-rules mb-5 container",children:[e.jsx("h3",{className:"h5 mb-3 text-center",children:"Información Importante"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-in: 14:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-out: 11:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-smoking-ban"})," No fumar"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-paw"})," Mascotas permitidas (consultar)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-baby"})," Apto para niños"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-shield-alt"})," Depósito de seguridad requerido"]})]})})]})]}),e.jsx("section",{id:"consulta",className:"consultation-section py-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"consultation-form-wrapper",children:e.jsx(Kl,{apartmentName:"Moldes 1680",propertyId:"moldes-1680"})})})})})}),e.jsx("section",{id:"calendario",className:"reservation-section py-5 bg-light",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"reservation-form-wrapper",children:e.jsx(Xt,{apartmentName:"Moldes 1680",propertyId:"moldes-1680"})})})})})}),e.jsx(Jl,{propertyId:"moldes-1680"})]}),c&&e.jsx(Zt,{images:N,currentIndex:f,onClose:()=>o(!1)})]}):e.jsx(Rs,{})})}function gg(){var G,ae,Y;const[c,o]=p.useState(!1),[f,u]=p.useState(0),[b,g]=p.useState(!0),{navbarOpen:h,toggleNavbar:A,closeNavbar:D}=Qt(),k={departamento:[{icon:"fas fa-tv",text:'Smart TV 55"'},{icon:"fas fa-wifi",text:"WiFi 500MB Fibra Óptica"},{icon:"fas fa-snowflake",text:"Aire Acondicionado F/C"},{icon:"fas fa-utensils",text:"Cocina Completamente Equipada"},{icon:"fas fa-bed",text:"Ropa de Cama Premium"},{icon:"fas fa-bath",text:"Baño Privado con Ducha"},{icon:"fas fa-tshirt",text:"Lavarropas"},{icon:"fas fa-coffee",text:"Cafetera y Menaje Completo"},{icon:"fas fa-blender",text:"Microondas y Electrodomésticos"},{icon:"fas fa-couch",text:"Living Amueblado"},{icon:"fas fa-door-closed",text:"Balcón Privado"},{icon:"fas fa-lock",text:"Caja Fuerte"},{icon:"fas fa-broom",text:"Kit de Limpieza"},{icon:"fas fa-laptop",text:"Zona de Trabajo/Escritorio"}],servicios:[{icon:"fas fa-concierge-bell",text:"Recepción 24hs"},{icon:"fas fa-shield-alt",text:"Seguridad 24hs"},{icon:"fas fa-broom",text:"Servicio de Limpieza"},{icon:"fas fa-car",text:"Servicio de Traslados"},{icon:"fas fa-suitcase",text:"Guardaequipaje"},{icon:"fas fa-info-circle",text:"Información Turística"},{icon:"fas fa-phone",text:"Asistencia 24/7"}],amenitiesEdificio:[{icon:"fas fa-elevator",text:"Ascensor"},{icon:"fas fa-car",text:"Cochera/Estacionamiento"},{icon:"fas fa-dumbbell",text:"Gimnasio"},{icon:"fas fa-swimming-pool",text:"Piscina"},{icon:"fas fa-sun",text:"Solarium/Terraza"},{icon:"fas fa-users",text:"SUM/Salón de Usos Múltiples"},{icon:"fas fa-spa",text:"Spa/Jacuzzi"},{icon:"fas fa-tree",text:"Jardín/Espacios Verdes"},{icon:"fas fa-building",text:"Edificio Moderno"},{icon:"fas fa-shield-alt",text:"Portería/Seguridad 24hs"}]},{images:M,loading:E,mainImage:C,refreshGallery:L}=st("santa-fe-3770"),{property:P,refreshProperty:x}=en("santa-fe-3770"),{property:z,refreshProperty:v,isUsingFallback:d}=tt("santa-fe-3770"),N=P||z,m=N?{...N,amenities:k}:{id:"santa-fe-3770",title:"Santa Fe 3770",amenities:k,prices:{daily:"USD 75",weekly:"USD 420",monthly:"USD 1000"}},B=()=>{x&&x(),v&&v()};p.useEffect(()=>{const O=S=>{S.detail.propertyId==="santa-fe-3770"&&(console.log("🔄 SantaFe3770 - Evento de actualización de precios recibido:",S.detail),B())};return window.addEventListener("baconfort-prices-updated",O),()=>{window.removeEventListener("baconfort-prices-updated",O)}},[B]),p.useEffect(()=>{m&&(console.log("🏠 SANTA FE 3770: Propiedad cargada:",m),console.log("💰 SANTA FE 3770: Precios recibidos:",m.prices),console.log("🏠 SANTA FE 3770: Amenities:",m.amenities),console.log("🏠 SANTA FE 3770: Usando fallback:",d))},[m,d]);const[q,T]=p.useState({monthly:"USD 1000",weekly:"USD 420",daily:"USD 75"});p.useEffect(()=>{m&&m.prices&&(console.log("💰 SantaFe3770 - Actualizando precios:",m.prices),T({monthly:m.prices.monthly||"USD 1000",weekly:m.prices.weekly||"USD 420",daily:m.prices.daily||"USD 75"}))},[m==null?void 0:m.prices]),p.useEffect(()=>{const O=S=>{console.log("🔍 SantaFe3770 - Evento recibido completo:",S),console.log("🔍 SantaFe3770 - Event detail:",S.detail),console.log("🔍 SantaFe3770 - propertyId del evento:",S.detail.propertyId),console.log("🔍 SantaFe3770 - Mi ID esperado: santa-fe-3770"),console.log("🔍 SantaFe3770 - ¿Coinciden?:",S.detail.propertyId==="santa-fe-3770"),S.detail.propertyId==="santa-fe-3770"&&(console.log("✅ SantaFe3770 - Evento de actualización de precios recibido:",S.detail),console.log("💰 SantaFe3770 - Precios recibidos:",S.detail.prices),T({monthly:S.detail.prices.monthly||"USD 1000",weekly:S.detail.prices.weekly||"USD 420",daily:S.detail.prices.daily||"USD 75"}),console.log("💰 SantaFe3770 - Precios actualizados a:",{monthly:S.detail.prices.monthly||"USD 1000",weekly:S.detail.prices.weekly||"USD 420",daily:S.detail.prices.daily||"USD 75"}))};return window.addEventListener("baconfort-prices-updated",O),()=>window.removeEventListener("baconfort-prices-updated",O)},[]);const w=["/img/img-santa-fe1-3770.jpg","/img/img-santa-fe2-3770.jpg","/img/img-santa-fe3-3770.jpg","/img/img-santa-fe4-3770.jpg","/img/img-santa-fe5-3770.jpg","/img/img-santa-fe6-3770.jpg","/img/img-santa-fe7-3770.jpg","/img/img-santa-fe8-3770.jpg","/img/img-santa-fe9-3770.jpg","/img/img-santa-fe10-3770.jpg","/img/img-santa-fe11-3770.jpg","/img/img-santa-fe12-3770.jpg","/img/img-santa-fe13-3770.jpg","/img/img-santa-fe14-3770.jpg","/img/img-santa-fe15-3770.jpg","/img/img-santa-fe16-3770.jpg","/img/img-santa-fe17-3770.jpg","/img/img-santa-fe18-3770.jpg","/img/img-santa-fe19-3770.jpg","/img/img-santa-fe20-3770.jpg","/img/img-santa-fe21-3770.jpg"],R=M.length>0?M:(m==null?void 0:m.id)==="santa-fe-3770"||!(m!=null&&m.id)?w:[];m&&m.amenities&&(m.amenities=k),console.log("🎯 SANTAFE3770: Amenities hardcodeadas cargadas:",{total:k.departamento.length+k.servicios.length+k.amenitiesEdificio.length,departamento:k.departamento.length,servicios:k.servicios.length,edificio:k.amenitiesEdificio.length});const U=R.map(O=>Be.getImageSrc(O));p.useEffect(()=>{(async()=>{if(E)return;const S=document.querySelectorAll("img"),_=Array.from(S).map($=>$.complete?Promise.resolve():new Promise(ie=>{$.addEventListener("load",ie),$.addEventListener("error",ie)}));await Promise.all(_),g(!1)})()},[E]);const F=O=>{u(O),o(!0)};return p.useEffect(()=>{(async()=>{try{const S=U.map(_=>new Promise(($,ie)=>{const W=new Image;W.src=_,W.onload=$,W.onerror=ie}));await Promise.all(S),g(!1)}catch(S){console.error("Error loading images:",S),g(!1)}})()},[U]),N&&N.isBlocked?e.jsx(an,{propertyId:"santa-fe-3770",propertyName:"Santa Fe 3770"}):e.jsx(e.Fragment,{children:["/santafe3770","/departamentos/santa-fe-3770"].includes(window.location.pathname)?e.jsxs(e.Fragment,{children:[b&&e.jsx(Ms,{}),e.jsx("nav",{className:"navbar navbar-expand-lg sticky-top convencion-navbar",children:e.jsxs("div",{className:"container",children:[e.jsxs(He,{className:"navbar-brand",to:"/","aria-label":"BACONFORT Home",children:[e.jsx("img",{src:"/img/logo.jpg",alt:"BACONFORT Logo",width:"40",height:"40",className:"brand-logo",loading:"lazy"}),e.jsx("i",{className:"fas fa-star ms-2 brand-icon","aria-hidden":"true"}),e.jsx("span",{className:"brand-text",children:"BACONFORT"})]}),e.jsx("button",{className:"navbar-toggler",type:"button",onClick:A,"aria-controls":"navbarNav","aria-expanded":h,"aria-label":"Abrir menú de navegación",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("div",{className:`navbar-collapse ${h?"show":"collapse"}`,id:"navbarNav",children:e.jsxs("ul",{className:"navbar-nav ms-auto",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"/",onClick:D,"aria-label":"Ir al inicio",children:[e.jsx("i",{className:"fas fa-home nav-icon","aria-hidden":"true"}),"Inicio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#servicios",onClick:D,"aria-label":"Ver detalles de la propiedad",children:[e.jsx("i",{className:"fas fa-list nav-icon","aria-hidden":"true"}),"Detalles"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#ubicacion",onClick:D,"aria-label":"Ver ubicación en el mapa",children:[e.jsx("i",{className:"fas fa-map-marker-alt nav-icon","aria-hidden":"true"}),"Ubicación"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#reseñas",onClick:D,"aria-label":"Ver reseñas de huéspedes",children:[e.jsx("i",{className:"fas fa-star nav-icon","aria-hidden":"true"}),"Reseñas"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#santa-fe-3770-precios",onClick:D,"aria-label":"Ver precios de alquiler",children:[e.jsx("i",{className:"fas fa-tag nav-icon","aria-hidden":"true"}),"Precio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#consulta",onClick:D,"aria-label":"Consultar disponibilidad",children:[e.jsx("i",{className:"fas fa-calendar-check nav-icon","aria-hidden":"true"}),"Consulta"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#calendario",onClick:D,"aria-label":"Ver calendario de disponibilidad",children:[e.jsx("i",{className:"fas fa-calendar-alt nav-icon","aria-hidden":"true"}),"Calendario"]})})]})})]})}),e.jsxs("div",{className:"video-hero",children:[e.jsx(Wl,{src:Be.getVideoSrc(m==null?void 0:m.heroVideo)||"/video/video-portada-santa-fe-3770.mp4",poster:Be.getImageSrc(C||(m==null?void 0:m.coverImage)||"/img/img-santa-fe10.jpg"),title:(m==null?void 0:m.title)||"Departamento Santa Fe 3770",autoPlay:!0,muted:!0,loop:!0,controls:!1,className:"hero-video"}),e.jsx("div",{className:"video-overlay"}),e.jsx("div",{className:"video-content"})]}),e.jsxs("main",{className:"departamento-page moldes-container",children:[e.jsx("section",{id:"servicios",className:"services container py-5",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-lg-10 mx-auto",children:[e.jsxs("h1",{className:"text-center mb-4",children:[e.jsx("i",{className:"fas fa-building"})," Palermo Lifestylet"]}),e.jsxs("h2",{className:"h4 text-center mb-4",children:[e.jsx("i",{className:"fas fa-map-marker-alt"}),"   Santa Fe 3770 - Confort y Espacio"]}),e.jsx("div",{className:"property-features mb-5",children:e.jsxs("div",{className:"row text-center",children:[e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-building fa-2x mb-2 feature-icon building-icon"}),e.jsx("p",{children:" 12° Piso con Ascensor"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-bed fa-2x mb-2 feature-icon bed-icon"}),e.jsx("p",{children:" 2 Dormitorios"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-snowflake fa-2x mb-2 feature-icon ac-icon"}),e.jsx("p",{children:"Aire Acondicionado F/C"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-users fa-2x mb-2 feature-icon people-icon"}),e.jsx("p",{children:"Para 2 Huéspedes"})]})]})}),e.jsxs("div",{id:"santa-fe-3770-precios",className:"pricing-container",children:[e.jsxs("h2",{className:"pricing-title",children:[e.jsx("i",{className:"fas fa-dollar-sign"})," Valor del Alquiler"]}),e.jsxs("div",{className:"pricing-cards",children:[e.jsx(ra,{title:"Por Mes",amount:q.monthly,details:"No incluye servicios y limpieza semanal",whatsappMessage:"Me interesa el departamento en Santa Fe 3770 para alquiler mensual",propertyId:"santa-fe-3770"}),e.jsx(ra,{title:"Por Semana",amount:q.weekly,details:"No incluye una limpieza",whatsappMessage:"Me interesa el departamento en Santa Fe 3770 para alquiler semanal",propertyId:"santa-fe-3770"}),e.jsx(ra,{title:"Por Día",amount:q.daily,details:"Mínimo 3 noches",whatsappMessage:"Me interesa el departamento en Santa Fe 3770 para alquiler diario",propertyId:"santa-fe-3770"})]})]}),e.jsxs("div",{className:"service",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-home","aria-hidden":"true"})," Chic Studio by Jardín Botánico",e.jsx("br",{}),e.jsx("i",{className:"fas fa-map-marker-alt","aria-hidden":"true"})," Av. Santa Fe 3770",e.jsx("br",{})]}),e.jsxs("div",{className:"description",children:[e.jsxs("p",{lang:"es",children:[e.jsx("strong",{children:"En Español:"}),e.jsx("br",{}),((G=m==null?void 0:m.description)==null?void 0:G.es)||"Moderno departamento de dos ambientes en pleno corazón de Palermo con diseño contemporáneo y amenities de lujo. Ubicación privilegiada con fácil acceso a transporte y entretenimiento."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"en",children:[e.jsx("strong",{children:"In English:"}),e.jsx("br",{}),((ae=m==null?void 0:m.description)==null?void 0:ae.en)||"Modern two-room apartment in the heart of Palermo with contemporary design and luxury amenities. Prime location with easy access to transport and entertainment."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"pt",children:[e.jsx("strong",{children:"Em Português:"}),e.jsx("br",{}),((Y=m==null?void 0:m.description)==null?void 0:Y.pt)||"Moderno apartamento de dois ambientes no coração de Palermo com design contemporâneo e amenidades de luxo. Localização privilegiada com fácil acesso a transporte e entretenimento."]})]})]}),e.jsxs("div",{className:"amenities-list mb-5",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h3",{className:"h5 mb-0",children:[e.jsx("i",{className:"fas fa-star"})," Comodidades Destacadas"]}),e.jsxs("small",{className:"text-muted",children:[k.departamento.length+k.servicios.length+k.amenitiesEdificio.length," comodidades totales"]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-home"})," Departamento"]}),e.jsx("ul",{className:"list-unstyled",children:k.departamento.map((O,S)=>e.jsxs("li",{children:[e.jsx("i",{className:O.icon})," ",O.text]},`dept-${S}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-concierge-bell"})," Servicios"]}),e.jsx("ul",{className:"list-unstyled",children:k.servicios.map((O,S)=>e.jsxs("li",{children:[e.jsx("i",{className:O.icon})," ",O.text]},`serv-${S}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-building"})," Amenities del Edificio"]}),e.jsx("ul",{className:"list-unstyled",children:k.amenitiesEdificio.map((O,S)=>e.jsxs("li",{children:[e.jsx("i",{className:O.icon})," ",O.text]},`amenities-${S}`))})]})]})]}),e.jsxs("section",{className:"gallery-section",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-images"})," Galería de Imágenes"]}),e.jsx("div",{style:{display:"flex",gap:"10px"},children:e.jsxs("button",{onClick:L,className:"btn btn-sm btn-outline-primary",title:"Actualizar galería",children:[e.jsx("i",{className:"fas fa-sync-alt"})," Actualizar Galería"]})})]}),e.jsx("div",{className:"gallery-container",children:U.map((O,S)=>e.jsx("div",{className:"gallery-item",onClick:()=>F(S),children:e.jsx("img",{src:O,alt:`Departamento Santa Fe 3770 - ${S+1}`,loading:"lazy"})},S))})]})]})})}),e.jsx("div",{className:"col-lg-4"}),e.jsx("section",{id:"ubicacion",className:"py-5 bg-light",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 text-center mb-4",children:e.jsxs("h2",{className:"section-title",children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Ubicación Santa Fe 3770"]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12 mb-4",children:e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.7660184958695!2d-58.419351225655085!3d-34.584786556496226!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcb57f7a315c89%3A0x77e5993c26725c26!2sAv.%20Sta.%20Fe%203770%2C%20C1425%20Cdad.%20Aut%C3%B3noma%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1746478051004!5m2!1ses-419!2sar",width:"100%",height:"450",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa de Santa Fe 3770"})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"location-details mb-4",children:[e.jsx("h3",{className:"h4",children:"Puntos de interés cercanos:"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-subway"})," Subte Línea D - Scalabrini Ortiz (1 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-store"})," Av. Santa Fe - Zona comercial (1 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-tree"})," Jardín Botánico Carlos Thays (2 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-shopping-cart"})," Alto Palermo Shopping (15 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-hospital"})," Hospital Italiano (10 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-hospital"})," Sanatorio Güemes (8 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-bus"})," Múltiples líneas de colectivo"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-coffee"})," Cafeterías y restaurantes (1 min)"]})]})]})})})]})}),e.jsxs("div",{className:"house-rules mb-5 container",children:[e.jsx("h3",{className:"h5 mb-3 text-center",children:"Información Importante"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-in: 14:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-out: 11:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-smoking-ban"})," No fumar"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-paw"})," Mascotas permitidas (consultar)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-baby"})," Apto para niños"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-shield-alt"})," Depósito de seguridad requerido"]})]})})]})]}),e.jsx("section",{id:"consulta",className:"consultation-section py-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"consultation-form-wrapper",children:e.jsx(Kl,{apartmentName:"Santa Fe 3770",propertyId:"santa-fe-3770"})})})})})}),e.jsx("section",{id:"calendario",className:"reservation-section py-5 bg-light",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"reservation-form-wrapper",children:e.jsx(Xt,{apartmentName:"Santa Fe 3770",propertyId:"santa-fe-3770"})})})})})})]}),e.jsx(Jl,{propertyId:"santa-fe-3770"}),c&&e.jsx(Zt,{images:U,currentIndex:f,onClose:()=>o(!1)})]}):e.jsx(Rs,{})})}function xg(){var S,_,$,ie,W,y;const[c]=Yt(),[o,f]=p.useState(!1),[u,b]=p.useState(0),[g,h]=p.useState(!0),{navbarOpen:A,toggleNavbar:D,closeNavbar:k}=Qt(),M={checkIn:c.get("checkIn")||"",checkOut:c.get("checkOut")||"",guests:c.get("guests")||""},E={departamento:[{icon:"fas fa-tv",text:'Smart TV 55"'},{icon:"fas fa-wifi",text:"WiFi 500MB Fibra Óptica"},{icon:"fas fa-snowflake",text:"Aire Acondicionado F/C"},{icon:"fas fa-utensils",text:"Cocina Completamente Equipada"},{icon:"fas fa-bed",text:"Ropa de Cama Premium"},{icon:"fas fa-bath",text:"Baño Privado con Ducha"},{icon:"fas fa-tshirt",text:"Lavarropas"},{icon:"fas fa-coffee",text:"Cafetera y Menaje Completo"},{icon:"fas fa-blender",text:"Microondas y Electrodomésticos"},{icon:"fas fa-couch",text:"Living Amueblado"},{icon:"fas fa-door-closed",text:"Balcón Privado"},{icon:"fas fa-lock",text:"Caja Fuerte"},{icon:"fas fa-broom",text:"Kit de Limpieza"},{icon:"fas fa-laptop",text:"Zona de Trabajo/Escritorio"}],servicios:[{icon:"fas fa-concierge-bell",text:"Recepción 24hs"},{icon:"fas fa-shield-alt",text:"Seguridad 24hs"},{icon:"fas fa-broom",text:"Servicio de Limpieza"},{icon:"fas fa-car",text:"Servicio de Traslados"},{icon:"fas fa-suitcase",text:"Guardaequipaje"},{icon:"fas fa-info-circle",text:"Información Turística"},{icon:"fas fa-phone",text:"Asistencia 24/7"}],amenitiesEdificio:[{icon:"fas fa-elevator",text:"Ascensor"},{icon:"fas fa-car",text:"Cochera/Estacionamiento"},{icon:"fas fa-dumbbell",text:"Gimnasio"},{icon:"fas fa-swimming-pool",text:"Piscina"},{icon:"fas fa-sun",text:"Solarium/Terraza"},{icon:"fas fa-users",text:"SUM/Salón de Usos Múltiples"},{icon:"fas fa-spa",text:"Spa/Jacuzzi"},{icon:"fas fa-tree",text:"Jardín/Espacios Verdes"},{icon:"fas fa-building",text:"Edificio Moderno"},{icon:"fas fa-shield-alt",text:"Portería/Seguridad 24hs"}]},{property:C,loading:L,refreshProperty:P}=en("dorrego-1548"),{property:x,loading:z,refreshProperty:v,isUsingFallback:d}=tt("dorrego-1548"),N=C||x,m=N?{...N,amenities:E}:{id:"dorrego-1548",title:"Dorrego 1548",amenities:E,prices:{daily:"USD 65",weekly:"USD 390",monthly:"USD 950"}},B=L||z,q=()=>{P&&P(),v&&v()};p.useEffect(()=>{const X=ne=>{ne.detail.propertyId==="dorrego-1548"&&(console.log("🔄 Dorrego1548 - Evento de actualización de precios recibido:",ne.detail),q())};return window.addEventListener("baconfort-prices-updated",X),()=>{window.removeEventListener("baconfort-prices-updated",X)}},[q]);const{images:T,loading:w,error:R,mainImage:U,refreshGallery:F}=st("dorrego-1548");console.log("🏠 Dorrego1548 - Property from backend:",m?{id:m.id,title:m.title,hasPrices:!!m.prices,isUsingFallback:d}:"NULL");const G=["/img/img-dorrego1-1548.jpg","/img/img-dorrego2-1548.jpg","/img/img-dorrego3-1548.jpg","/img/img-dorrego4-1548.jpg","/img/img-dorrego5-1548.jpg","/img/img-dorrego6-1548.jpg","/img/img-dorrego7-1548.jpg","/img/img-dorrego8-1548.jpg","/img/img-dorrego9-1548.jpg","/img/img-dorrego10-1548.jpg","/img/img-dorrego11-1548.jpg","/img/img-dorrego12-1548.jpg","/img/img-dorrego13-1548.jpg","/img/img-dorrego14-1548.jpg","/img/img-dorrego15-1548.jpg","/img/img-dorrego16-1548.jpg","/img/img-dorrego17-1548.jpg","/img/img-dorrego18-1548.jpg","/img/img-dorrego19-1548.jpg","/img/img-dorrego20-1548.jpg","/img/img-dorrego21-1548.jpg","/img/img-dorrego22-1548.jpg","/img/img-dorrego23-1548.jpg","/img/img-dorrego24-1548.jpg"],ae=T.length>0?T:(m==null?void 0:m.id)==="dorrego-1548"||!(m!=null&&m.id)?G:[];m&&m.amenities&&(m.amenities=E),console.log("🎯 DORREGO1548: Amenities hardcodeadas cargadas:",{total:E.departamento.length+E.servicios.length+E.amenitiesEdificio.length,departamento:E.departamento.length,servicios:E.servicios.length,edificio:E.amenitiesEdificio.length});const Y=ae.map(X=>Be.getImageSrc(X));p.useEffect(()=>{(async()=>{if(w||B)return;const ne=document.querySelectorAll("img"),oe=Array.from(ne).map(ee=>ee.complete?Promise.resolve():new Promise(ce=>{ee.addEventListener("load",ce),ee.addEventListener("error",ce)}));await Promise.all(oe),h(!1)})()},[w,B]),p.useEffect(()=>{(m||T.length>0)&&console.log("🔄 Dorrego1548 - Property or gallery updated:",{propertyLoaded:!!m,galleryCount:T.length})},[m==null?void 0:m.id,T.length]);const O=X=>{b(X),f(!0)};return p.useEffect(()=>{(async()=>{try{const ne=Y.map(oe=>new Promise((ee,ce)=>{const ue=new Image;ue.src=oe,ue.onload=ee,ue.onerror=ce}));await Promise.all(ne),h(!1)}catch(ne){console.error("Error loading images:",ne),h(!1)}})()},[]),N&&N.isBlocked?e.jsx(an,{propertyId:"dorrego-1548",propertyName:"Dorrego 1548"}):e.jsx(e.Fragment,{children:["/dorrego1548","/departamentos/dorrego-1548"].includes(window.location.pathname)?e.jsxs(e.Fragment,{children:[g&&e.jsx(Ms,{}),e.jsx("nav",{className:"navbar navbar-expand-lg sticky-top convencion-navbar",children:e.jsxs("div",{className:"container",children:[e.jsxs(He,{className:"navbar-brand",to:"/","aria-label":"BACONFORT Home",children:[e.jsx("img",{src:"/img/logo.jpg",alt:"BACONFORT Logo",width:"40",height:"40",className:"brand-logo",loading:"lazy"}),e.jsx("i",{className:"fas fa-star ms-2 brand-icon","aria-hidden":"true"}),e.jsx("span",{className:"brand-text",children:"BACONFORT"})]}),e.jsx("button",{className:"navbar-toggler",type:"button",onClick:D,"aria-controls":"navbarNav","aria-expanded":A,"aria-label":"Abrir menú de navegación",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("div",{className:`navbar-collapse ${A?"show":"collapse"}`,id:"navbarNav",children:e.jsxs("ul",{className:"navbar-nav ms-auto",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"/",onClick:k,"aria-label":"Ir al inicio",children:[e.jsx("i",{className:"fas fa-home nav-icon","aria-hidden":"true"}),"Inicio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#servicios",onClick:k,"aria-label":"Ver detalles de la propiedad",children:[e.jsx("i",{className:"fas fa-list nav-icon","aria-hidden":"true"}),"Detalles"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#ubicacion",onClick:k,"aria-label":"Ver ubicación en el mapa",children:[e.jsx("i",{className:"fas fa-map-marker-alt nav-icon","aria-hidden":"true"}),"Ubicación"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#reseñas",onClick:k,"aria-label":"Ver reseñas de huéspedes",children:[e.jsx("i",{className:"fas fa-star nav-icon","aria-hidden":"true"}),"Reseñas"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#dorrego-1548-precios",onClick:k,"aria-label":"Ver precios de alquiler",children:[e.jsx("i",{className:"fas fa-tag nav-icon","aria-hidden":"true"}),"Precio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#consulta",onClick:k,"aria-label":"Consultar disponibilidad",children:[e.jsx("i",{className:"fas fa-calendar-check nav-icon","aria-hidden":"true"}),"Consulta"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#calendario",onClick:k,"aria-label":"Ver calendario de reservas",children:[e.jsx("i",{className:"fas fa-calendar-alt nav-icon","aria-hidden":"true"}),"Calendario"]})})]})})]})}),e.jsxs("div",{className:"video-hero",children:[e.jsx(Wl,{src:Be.getVideoSrc(m==null?void 0:m.heroVideo)||"/video/video-portada-dorrego-1548.mp4",poster:Be.getImageSrc(U||(m==null?void 0:m.coverImage)||"/img/img-dorrego11.jpg"),title:(m==null?void 0:m.title)||"Departamento Dorrego 1548",autoPlay:!0,muted:!0,loop:!0,controls:!1,className:"hero-video"}),e.jsx("div",{className:"video-overlay"}),e.jsx("div",{className:"video-content"})]}),e.jsxs("main",{className:"departamento-page moldes-container",children:[e.jsx("section",{id:"servicios",className:"services container py-5",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-lg-10 mx-auto",children:[e.jsxs("h1",{className:"text-center mb-4",children:[e.jsx("i",{className:"fas fa-building"})," Palermo Hollywood Retreat"]}),e.jsxs("h2",{className:"h4 text-center mb-4",children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Dorrego 1548 - Confort y Estilo"]}),e.jsx("div",{className:"property-features mb-5",children:e.jsxs("div",{className:"row text-center",children:[e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-building fa-2x mb-2 feature-icon building-icon"}),e.jsx("p",{children:" Planta Baja"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-bed fa-2x mb-2 feature-icon bed-icon"}),e.jsx("p",{children:" 4 huespedes"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-snowflake fa-2x mb-2 feature-icon ac-icon"}),e.jsx("p",{children:"Aire Acondicionado F/C"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-users fa-2x mb-2 feature-icon people-icon"}),e.jsx("p",{children:"Para 4 Huéspedes"})]})]})}),e.jsxs("div",{id:"dorrego-1548-precios",className:"pricing-container",children:[e.jsxs("h2",{className:"pricing-title",children:[e.jsx("i",{className:"fas fa-dollar-sign"})," Valor del Alquiler"]}),e.jsxs("div",{className:"pricing-cards",children:[e.jsx(ra,{title:"Por Mes",amount:((S=m==null?void 0:m.prices)==null?void 0:S.monthly)||"USD 1200",details:"No incluye servicios y limpieza semanal",whatsappMessage:"Me interesa el departamento en Dorrego 1548 para alquiler mensual",propertyId:"dorrego-1548"}),e.jsx(ra,{title:"Por Semana",amount:((_=m==null?void 0:m.prices)==null?void 0:_.weekly)||"USD 320",details:"No incluye una limpieza",whatsappMessage:"Me interesa el departamento en Dorrego 1548 para alquiler semanal",propertyId:"dorrego-1548"}),e.jsx(ra,{title:"Por Día",amount:(($=m==null?void 0:m.prices)==null?void 0:$.daily)||"USD 70",details:"Mínimo 3 noches",whatsappMessage:"Me interesa el departamento en Dorrego 1548 para alquiler diario",propertyId:"dorrego-1548"})]})]}),e.jsxs("div",{className:"service",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-home","aria-hidden":"true"})," Palermo Hollywood Hideaway / 3 habitaciones / jardín",e.jsx("br",{}),e.jsx("i",{className:"fas fa-map-marker-alt","aria-hidden":"true"})," Av. Dorrego 1548",e.jsx("br",{})]}),e.jsxs("div",{className:"description",children:[e.jsxs("p",{lang:"es",children:[e.jsx("strong",{children:"En Español:"}),e.jsx("br",{}),((ie=m==null?void 0:m.description)==null?void 0:ie.es)||"Acogedor departamento de un ambiente en corazón de Palermo con todas las comodidades y excelente conectividad. Ideal para una estadía cómoda y relajante."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"en",children:[e.jsx("strong",{children:"In English:"}),e.jsx("br",{}),((W=m==null?void 0:m.description)==null?void 0:W.en)||"Cozy one-bedroom apartment in the heart of Palermo with all amenities and excellent connectivity. Ideal for a comfortable and relaxing stay."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"pt",children:[e.jsx("strong",{children:"Em Português:"}),e.jsx("br",{}),((y=m==null?void 0:m.description)==null?void 0:y.pt)||"Apartamento aconchegante de um ambiente no coração de Palermo com todas as comodidades e excelente conectividade. Ideal para uma estadia confortável e relaxante."]})]})]}),e.jsxs("div",{className:"amenities-list mb-5",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h3",{className:"h5 mb-0",children:[e.jsx("i",{className:"fas fa-star"})," Comodidades Destacadas"]}),e.jsxs("small",{className:"text-muted",children:[E.departamento.length+E.servicios.length+E.amenitiesEdificio.length," comodidades totales"]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-home"})," Departamento"]}),e.jsx("ul",{className:"list-unstyled",children:E.departamento.map((X,ne)=>e.jsxs("li",{children:[e.jsx("i",{className:X.icon})," ",X.text]},`dept-${ne}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-concierge-bell"})," Servicios"]}),e.jsx("ul",{className:"list-unstyled",children:E.servicios.map((X,ne)=>e.jsxs("li",{children:[e.jsx("i",{className:X.icon})," ",X.text]},`serv-${ne}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-building"})," Amenities del Edificio"]}),e.jsx("ul",{className:"list-unstyled",children:E.amenitiesEdificio.map((X,ne)=>e.jsxs("li",{children:[e.jsx("i",{className:X.icon})," ",X.text]},`amenities-${ne}`))})]})]})]}),e.jsxs("section",{className:"gallery-section",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-images"})," Galería de Imágenes"]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsxs("div",{style:{padding:"5px 10px",fontSize:"12px",borderRadius:"4px",backgroundColor:T.length>0?"#d4edda":"#f8d7da",color:T.length>0?"#155724":"#721c24",border:"1px solid "+(T.length>0?"#c3e6cb":"#f5c6cb")},children:["DB: ",T.length," | Total: ",ae.length,w?" (Cargando...)":"",R?" (Error)":"",!w&&T.length>0?" ✅":"",!w&&T.length===0?" (Usando fallback)":""]}),e.jsxs("button",{onClick:F,className:"btn btn-sm btn-outline-primary",title:"Actualizar galería",children:[e.jsx("i",{className:"fas fa-sync-alt"})," Actualizar Galería"]})]})]}),e.jsx("div",{className:"gallery-container",children:Y.map((X,ne)=>e.jsx("div",{className:"gallery-item",onClick:()=>O(ne),children:e.jsx("img",{src:X,alt:`Departamento Dorrego 1548 - ${ne+1}`,loading:"lazy"})},ne))})]})]})})}),e.jsx("div",{className:"col-lg-4"}),e.jsx("section",{id:"ubicacion",className:"py-5 bg-light",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 text-center mb-4",children:e.jsxs("h2",{className:"section-title",children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Ubicación Dorrego 1548"]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12 mb-4",children:e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.80098355137!2d-58.44734012565521!3d-34.583901956449566!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcb5edc60e7b6f%3A0xacb90ce90228d6ce!2sAv.%20Dorrego%201548%2C%20C1414CKX%20Cdad.%20Aut%C3%B3noma%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1746474505794!5m2!1ses-419!2sar",width:"100%",height:"450",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa de Dorrego 1548"})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"location-details mb-4",children:[e.jsx("h3",{className:"h4",children:"Puntos de interés cercanos:"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-subway"}),"  Subte Línea B - Estación Dorrego (8 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-subway"}),"   Subte Línea D - Estación Ministro Carranza (15 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-train"})," Estación de Tren Carranza (15 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-store"})," Avenida Córdoba (8 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-store"})," Avenida Corrientes (1 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-store"})," Avenida Santa Fe (15 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-store-alt"})," Mercado de Pulgas (1 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-utensils"})," Polo Gastronómico calle Arévalo (5 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-tree"})," Bosques de Palermo (30 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-bus"})," Múltiples líneas de colectivo"]})]})]})})})]})}),e.jsxs("div",{className:"house-rules mb-5 container",children:[e.jsx("h3",{className:"h5 mb-3 text-center",children:"Información Importante"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-in: 14:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-out: 11:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-smoking-ban"})," No fumar"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-paw"})," Mascotas permitidas (consultar)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-baby"})," Apto para niños"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-shield-alt"})," Depósito de seguridad requerido"]})]})})]})]}),e.jsx("section",{id:"consulta",className:"consultation-section py-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"consultation-form-wrapper",children:e.jsx(Kl,{apartmentName:"Dorrego 1548",propertyId:"dorrego-1548"})})})})})}),e.jsx("section",{id:"calendario",className:"reservation-section py-5 bg-light",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"reservation-form-wrapper",children:e.jsx(Xt,{apartmentName:"Dorrego 1548",propertyId:"dorrego-1548",preloadData:M})})})})})})]}),e.jsx("section",{id:"reseñas",className:"py-5",children:e.jsx("div",{className:"container",children:e.jsx(Jl,{propertyId:"dorrego-1548"})})}),o&&e.jsx(Zt,{images:Y,currentIndex:u,onClose:()=>f(!1),onNavigate:b})]}):e.jsx(Rs,{})})}function jg(){var Y,O,S,_,$,ie;const[c,o]=p.useState(!1),[f,u]=p.useState(0),[b,g]=p.useState(!0),{navbarOpen:h,toggleNavbar:A,closeNavbar:D}=Qt(),k={departamento:[{icon:"fas fa-tv",text:'Smart TV 32"'},{icon:"fas fa-wifi",text:"WiFi 300MB Fibra Óptica"},{icon:"fas fa-snowflake",text:"Aire Acondicionado F/C"},{icon:"fas fa-utensils",text:"Cocina Completamente Equipada"},{icon:"fas fa-bed",text:"Ropa de Cama"},{icon:"fas fa-bath",text:"Baño Privado con Ducha"},{icon:"fas fa-tshirt",text:"Lavarropas"},{icon:"fas fa-blender",text:"Microondas y Electrodomésticos"},{icon:"fas fa-couch",text:"Living Amueblado"},{icon:"fas fa-door-closed",text:"Balcón Privado"},{icon:"fas fa-lock",text:"Caja Fuerte para llaves "}],servicios:[{icon:"fas fa-concierge-bell",text:"Recepción 24hs"},{icon:"fas fa-shield-alt",text:"Seguridad 24hs"},{icon:"fas fa-car",text:"Servicio de Traslados"},{icon:"fas fa-phone",text:"Asistencia 24/7"}],amenitiesEdificio:[{icon:"fas fa-elevator",text:"Ascensor"},{icon:"fas fa-dumbbell",text:"Gimnasio"},{icon:"fas fa-swimming-pool",text:"Piscina"},{icon:"fas fa-sun",text:"Solarium/Terraza"},{icon:"fas fa-users",text:"SUM/Salón de Usos Múltiples"},{icon:"fas fa-spa",text:"Spa/Jacuzzi"},{icon:"fas fa-tree",text:"Jardín/Espacios Verdes"},{icon:"fas fa-building",text:"Edificio Moderno"}]},{property:M,loading:E,refreshProperty:C}=en("convencion-1994"),{property:L,loading:P,refreshProperty:x,isUsingFallback:z}=tt("convencion-1994"),v=M||L,d=v?{...v,amenities:k}:{id:"convencion-1994",title:"Convencion 1994",amenities:k,prices:{daily:"USD 70",weekly:"USD 410",monthly:"USD 980"}},N=E||P,m=()=>{C&&C(),x&&x()};p.useEffect(()=>{const W=y=>{y.detail.propertyId==="convencion-1994"&&(console.log("🔄 Convencion1994 - Evento de actualización de precios recibido:",y.detail),m())};return window.addEventListener("baconfort-prices-updated",W),()=>{window.removeEventListener("baconfort-prices-updated",W)}},[m]);const{images:B,loading:q,error:T,mainImage:w,refreshGallery:R}=st("convencion-1994");console.log("🏠 Convencion1994 - Property from backend:",d?{id:d.id,title:d.title,hasPrices:!!d.prices,isUsingFallback:z}:"NULL");const U=["/img/img-convencion1.jpg","/img/img-convencion2.jpg","/img/img-convencion3.jpg","/img/img-convencion4.jpg","/img/img-convencion5.jpg","/img/img-convencion6.jpg","/img/img-convencion7.jpg","/img/img-convencion8.jpg","/img/img-convencion9.jpg","/img/img-convencion10.jpg","/img/img-convencion11.jpg","/img/img-convencion12.jpg"],F=B.length>0?B:(d==null?void 0:d.id)==="convencion-1994"||!(d!=null&&d.id)?U:[];d&&d.amenities&&(d.amenities=k),console.log("🎯 CONVENCION1994: Amenities hardcodeadas cargadas:",{total:k.departamento.length+k.servicios.length+k.amenitiesEdificio.length,departamento:k.departamento.length,servicios:k.servicios.length,edificio:k.amenitiesEdificio.length});const G=F.map(W=>Be.getImageSrc(W));p.useEffect(()=>{(async()=>{if(q||N)return;const y=document.querySelectorAll("img"),X=Array.from(y).map(ne=>ne.complete?Promise.resolve():new Promise(oe=>{ne.addEventListener("load",oe),ne.addEventListener("error",oe)}));await Promise.all(X),g(!1)})()},[q,N]);const ae=W=>{u(W),o(!0)};return p.useEffect(()=>{(d||B.length>0)&&console.log("🔄 Convencion1994 - Property or gallery updated:",{propertyLoaded:!!d,galleryCount:B.length})},[d==null?void 0:d.id,B.length]),v&&v.isBlocked?e.jsx(an,{propertyId:"convencion-1994",propertyName:"Convencion 1994"}):e.jsx(e.Fragment,{children:["/convencion1994","/departamentos/convencion-1994"].includes(window.location.pathname)?e.jsxs(e.Fragment,{children:[b&&e.jsx(Ms,{}),e.jsx("nav",{className:"navbar navbar-expand-lg sticky-top convencion-navbar",children:e.jsxs("div",{className:"container",children:[e.jsxs(He,{className:"navbar-brand",to:"/","aria-label":"BACONFORT Home",children:[e.jsx("img",{src:"/img/logo.jpg",alt:"BACONFORT",width:"40",height:"40",className:"brand-logo",loading:"lazy"}),e.jsx("i",{className:"fas fa-star ms-2 brand-icon","aria-hidden":"true"}),e.jsx("span",{className:"brand-text",children:"BACONFORT"})]}),e.jsx("button",{className:"navbar-toggler",type:"button",onClick:A,"aria-controls":"navbarNavConvencion","aria-expanded":h,"aria-label":"Abrir menú de navegación",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("div",{className:`navbar-collapse ${h?"show":"collapse"}`,id:"navbarNavConvencion",children:e.jsxs("ul",{className:"navbar-nav ms-auto",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"/",onClick:D,"aria-label":"Ir al inicio",children:[e.jsx("i",{className:"fas fa-home nav-icon","aria-hidden":"true"}),"Inicio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#servicios",onClick:D,"aria-label":"Ver detalles de la propiedad",children:[e.jsx("i",{className:"fas fa-list nav-icon","aria-hidden":"true"}),"Detalles"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#ubicacion",onClick:D,"aria-label":"Ver ubicación en el mapa",children:[e.jsx("i",{className:"fas fa-map-marker-alt nav-icon","aria-hidden":"true"}),"Ubicación"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#reseñas",onClick:D,"aria-label":"Ver reseñas de huéspedes",children:[e.jsx("i",{className:"fas fa-star nav-icon","aria-hidden":"true"}),"Reseñas"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#convencion-1994-precios",onClick:D,"aria-label":"Ver precios de alquiler",children:[e.jsx("i",{className:"fas fa-tag nav-icon","aria-hidden":"true"}),"Precio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#consulta",onClick:D,"aria-label":"Consultar disponibilidad",children:[e.jsx("i",{className:"fas fa-calendar-check nav-icon","aria-hidden":"true"}),"Consulta"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#calendario",onClick:D,"aria-label":"Ver calendario de reservas",children:[e.jsx("i",{className:"fas fa-calendar-alt nav-icon","aria-hidden":"true"}),"Calendario"]})})]})})]})}),e.jsxs("div",{className:"video-hero",children:[e.jsx(Wl,{src:Be.getVideoSrc(d==null?void 0:d.heroVideo)||"/video/video-portada-convencion-1994.mp4",poster:Be.getImageSrc(w||(d==null?void 0:d.coverImage)||"/img/img-convencion1.jpg"),title:(d==null?void 0:d.title)||"Departamento Convención 1994",autoPlay:!0,muted:!0,loop:!0,controls:!1,className:"hero-video"}),e.jsx("div",{className:"video-overlay"}),e.jsx("div",{className:"video-content"})]}),e.jsxs("main",{className:"departamento-page moldes-container",children:[e.jsx("section",{id:"servicios",className:"services container py-5",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-lg-10 mx-auto",children:[e.jsxs("h1",{className:"text-center mb-4",children:[e.jsx("i",{className:"fas fa-building"})," Palermo Lifestyle en el corazón de Palermo"]}),e.jsxs("h2",{className:"h4 text-center mb-4",children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Convención 1994 - Confort y Espacio"]}),e.jsx("div",{className:"property-features mb-5",children:e.jsxs("div",{className:"row text-center",children:[e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-building fa-2x mb-2 feature-icon building-icon"}),e.jsx("p",{children:"5° Piso con Ascensor"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-bed fa-2x mb-2 feature-icon bed-icon"}),e.jsx("p",{children:"Studio con Living-Cocina"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-snowflake fa-2x mb-2 feature-icon ac-icon"}),e.jsx("p",{children:"Aire Acondicionado F/C"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-users fa-2x mb-2 feature-icon people-icon"}),e.jsx("p",{children:"Para 2 Huéspedes"})]})]})}),e.jsxs("div",{id:"convencion-1994-precios",className:"pricing-container",children:[e.jsxs("h2",{className:"pricing-title",children:[e.jsx("i",{className:"fas fa-dollar-sign"})," Valor del Alquiler"]}),e.jsxs("div",{className:"pricing-cards",children:[e.jsx(ra,{title:"Por Mes",amount:((Y=d==null?void 0:d.prices)==null?void 0:Y.monthly)||"USD 1200",details:"Incluye servicios y limpieza semanal",whatsappMessage:"Me interesa el departamento en Convención 1994 para alquiler mensual",propertyId:"convencion-1994"}),e.jsx(ra,{title:"Por Semana",amount:((O=d==null?void 0:d.prices)==null?void 0:O.weekly)||"USD 380",details:"Incluye una limpieza",whatsappMessage:"Me interesa el departamento en Convención 1994 para alquiler semanal",propertyId:"convencion-1994"}),e.jsx(ra,{title:"Por Día",amount:((S=d==null?void 0:d.prices)==null?void 0:S.daily)||"USD 90",details:"Mínimo 3 noches",whatsappMessage:"Me interesa el departamento en Convención 1994 para alquiler diario",propertyId:"convencion-1994"})]})]}),e.jsxs("div",{className:"service",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-home","aria-hidden":"true"})," Palermo Lifestyle en el corazón de Palermo",e.jsx("br",{}),e.jsx("i",{className:"fas fa-map-marker-alt","aria-hidden":"true"})," Convención 1994"]}),e.jsxs("div",{className:"description",children:[e.jsxs("p",{lang:"es",children:[e.jsx("strong",{children:"En Español:"}),e.jsx("br",{}),((_=d==null?void 0:d.description)==null?void 0:_.es)||"Espectacular departamento de tres ambientes en edificio premium con amenities de primer nivel en Belgrano. Perfecto para familias que buscan confort y elegancia."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"en",children:[e.jsx("strong",{children:"In English:"}),e.jsx("br",{}),(($=d==null?void 0:d.description)==null?void 0:$.en)||"Spectacular three-room apartment in a premium building with first-class amenities in Belgrano. Perfect for families seeking comfort and elegance."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"pt",children:[e.jsx("strong",{children:"Em Português:"}),e.jsx("br",{}),((ie=d==null?void 0:d.description)==null?void 0:ie.pt)||"Espetacular apartamento de três ambientes em edifício premium com amenidades de primeiro nível em Belgrano. Perfeito para famílias que buscam conforto e elegância."]})]})]}),e.jsxs("div",{className:"amenities-list mb-5",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h3",{className:"h5 mb-0",children:[e.jsx("i",{className:"fas fa-star"})," Comodidades Destacadas"]}),e.jsxs("small",{className:"text-muted",children:[k.departamento.length+k.servicios.length+k.amenitiesEdificio.length," comodidades totales"]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-home"})," Departamento"]}),e.jsx("ul",{className:"list-unstyled",children:k.departamento.map((W,y)=>e.jsxs("li",{children:[e.jsx("i",{className:W.icon})," ",W.text]},`dept-${y}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-concierge-bell"})," Servicios"]}),e.jsx("ul",{className:"list-unstyled",children:k.servicios.map((W,y)=>e.jsxs("li",{children:[e.jsx("i",{className:W.icon})," ",W.text]},`serv-${y}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-building"})," Amenities del Edificio"]}),e.jsx("ul",{className:"list-unstyled",children:k.amenitiesEdificio.map((W,y)=>e.jsxs("li",{children:[e.jsx("i",{className:W.icon})," ",W.text]},`amenities-${y}`))})]})]})]}),e.jsxs("section",{className:"gallery-section",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-images"})," Galería de Imágenes"]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsxs("div",{style:{padding:"5px 10px",fontSize:"12px",borderRadius:"4px",backgroundColor:B.length>0?"#d4edda":"#f8d7da",color:B.length>0?"#155724":"#721c24",border:"1px solid "+(B.length>0?"#c3e6cb":"#f5c6cb")},children:["DB: ",B.length," | Total: ",F.length,q?" (Cargando...)":"",T?" (Error)":"",!q&&B.length>0?" ✅":"",!q&&B.length===0?" (Usando fallback)":""]}),e.jsxs("button",{onClick:R,className:"btn btn-sm btn-outline-primary",title:"Actualizar galería",children:[e.jsx("i",{className:"fas fa-sync-alt"})," Actualizar Galería"]})]})]}),e.jsx("div",{className:"gallery-container",children:G.map((W,y)=>e.jsx("div",{className:"gallery-item",onClick:()=>ae(y),children:e.jsx("img",{src:W,alt:`Departamento Convención 1994 - ${y+1}`,loading:"lazy"})},y))})]})]})})}),e.jsx("div",{className:"col-lg-4"}),e.jsx("section",{id:"ubicacion",className:"py-5 bg-light",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 text-center mb-4",children:e.jsxs("h2",{className:"section-title",children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Ubicación Convención 1994"]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12 mb-4",children:e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.9794528214347!2d-58.443187525655496!3d-34.57938645621117!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcb5eb56f5992b%3A0x95ec69c6c92a8551!2sConvenci%C3%B3n%201994%2C%20C1414%20Cdad.%20Aut%C3%B3noma%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1746470781616!5m2!1ses-419!2sar",width:"100%",height:"450",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa de Convención 1994"})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"location-details mb-4",children:[e.jsx("h3",{className:"h4",children:"Puntos de interés cercanos:"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-utensils"})," Polo Gastronómico Palermo (5 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-store"})," Mercado de Pulgas (5 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-subway"})," Subte Línea D - Ministro Carranza (10 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-subway"})," Subte Línea B - Dorrego (12 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-bus"})," Metrobús Av. Juan B. Justo"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-shopping-cart"})," Plaza Serrano (15 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-coffee"})," Cafeterías y Restaurantes (2-5 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-walking"})," Zona altamente transitable y segura"]})]})]})})})]})}),e.jsxs("div",{className:"house-rules mb-5 container",children:[e.jsx("h3",{className:"h5 mb-3 text-center",children:"Información Importante"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-in: 14:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-out: 11:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-smoking-ban"})," No fumar"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-paw"})," Mascotas permitidas (consultar)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-baby"})," Apto para niños"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-shield-alt"})," Depósito de seguridad requerido"]})]})})]})]}),e.jsx("section",{id:"consulta",className:"consultation-section py-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"consultation-form-wrapper",children:e.jsx(Kl,{apartmentName:"Convención 1994",propertyId:"convencion-1994"})})})})})}),e.jsx("section",{id:"calendario",className:"reservation-section py-5 bg-light",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"reservation-form-wrapper",children:e.jsx(Xt,{apartmentName:"Convención 1994",propertyId:"convencion-1994"})})})})})}),e.jsx("section",{id:"reseñas",className:"py-5",children:e.jsx("div",{className:"container",children:e.jsx(Jl,{propertyId:"convencion-1994"})})})]}),c&&e.jsx(Zt,{images:G,currentIndex:f,onClose:()=>o(!1),onNavigate:u})]}):e.jsx(Rs,{})})}function vg(){var Y,O,S,_,$,ie;const[c]=Yt(),[o,f]=p.useState(!1),[u,b]=p.useState(0),[g,h]=p.useState(!0),{navbarOpen:A,toggleNavbar:D,closeNavbar:k}=Qt(),M={checkIn:c.get("checkIn")||"",checkOut:c.get("checkOut")||"",guests:c.get("guests")||""},E={departamento:[{icon:"fas fa-tv",text:'Smart TV 55"'},{icon:"fas fa-wifi",text:"WiFi 300MB Fibra Óptica"},{icon:"fas fa-snowflake",text:"Aire Acondicionado F/C"},{icon:"fas fa-utensils",text:"Cocina Completamente Equipada"},{icon:"fas fa-bed",text:"Ropa de Cama"},{icon:"fas fa-bath",text:"Baño Privado con Ducha"},{icon:"fas fa-blender",text:"Microondas y Electrodomésticos"},{icon:"fas fa-couch",text:"Living Amueblado"}],servicios:[{icon:"fas fa-phone",text:"Asistencia 24/7"}],amenitiesEdificio:[]},{property:C,loading:L,refreshProperty:P}=en("ugarteche-2824"),{property:x,loading:z,refreshProperty:v}=tt("ugarteche-2824"),d=C||x,N=d?{...d,amenities:E}:{id:"ugarteche-2824",title:"Ugarteche 2824",amenities:E,prices:{daily:"USD 95",weekly:"USD 400",monthly:"USD 750"}},m=L||z,B=()=>{P&&P(),v&&v()};p.useEffect(()=>{const W=y=>{y.detail.propertyId==="ugarteche-2824"&&(console.log("🔄 Ugarteche2824 - Evento de actualización de precios recibido:",y.detail),B())};return window.addEventListener("baconfort-prices-updated",W),()=>{window.removeEventListener("baconfort-prices-updated",W)}},[B]);const{images:q,loading:T,error:w,mainImage:R,refreshGallery:U}=st("ugarteche-2824");console.log("🏠 Ugarteche2824 - Property from backend:",N);const F=q.length>0?q:["/img/img-ugarteche1-2824.jpg","/img/img-ugarteche2-2824.jpg","/img/img-ugarteche3-2824.jpg","/img/img-ugarteche4-2824.jpg","/img/img-ugarteche5-2824.jpg","/img/img-ugarteche6-2824.jpg","/img/img-ugarteche7-2824.jpg","/img/img-ugarteche8-2824.jpg","/img/img-ugarteche9-2824.jpg","/img/img-ugarteche10-2824.jpg","/img/img-ugarteche11-2824.jpg","/img/img-ugarteche12-2824.jpg"];N&&N.amenities&&(N.amenities=E),console.log("🎯 UGARTECHE2824: Amenities hardcodeadas cargadas:",{total:E.departamento.length+E.servicios.length+E.amenitiesEdificio.length,departamento:E.departamento.length,servicios:E.servicios.length,edificio:E.amenitiesEdificio.length});const G=F.map(W=>Be.getImageSrc(W));p.useEffect(()=>{(async()=>{if(T||m)return;const y=document.querySelectorAll("img"),X=Array.from(y).map(ne=>ne.complete?Promise.resolve():new Promise(oe=>{ne.addEventListener("load",oe),ne.addEventListener("error",oe)}));await Promise.all(X),h(!1)})()},[T,m]),p.useEffect(()=>{(N||q.length>0)&&console.log("🔄 Ugarteche2824 - Property or gallery updated:",{propertyLoaded:!!N,galleryCount:q.length})},[N==null?void 0:N.id,q.length]);const ae=W=>{console.log("🖼️ UGARTECHE: Abriendo galería en índice:",W),console.log("🖼️ UGARTECHE: Imágenes disponibles:",G.length),console.log("🖼️ UGARTECHE: Imagen seleccionada:",G[W]),b(W),f(!0)};return d&&d.isBlocked?e.jsx(an,{propertyId:"ugarteche-2824",propertyName:"Ugarteche 2824"}):e.jsx(e.Fragment,{children:["/ugarteche2824","/departamentos/ugarteche-2824"].includes(window.location.pathname)?e.jsxs(e.Fragment,{children:[g&&e.jsx(Ms,{}),e.jsx("nav",{className:"navbar navbar-expand-lg sticky-top convencion-navbar",children:e.jsxs("div",{className:"container",children:[e.jsxs(He,{className:"navbar-brand",to:"/","aria-label":"BACONFORT Home",children:[e.jsx("img",{src:"/img/logo.jpg",alt:"BACONFORT Logo",width:"40",height:"40",className:"brand-logo",loading:"lazy"}),e.jsx("i",{className:"fas fa-star ms-2 brand-icon","aria-hidden":"true"}),e.jsx("span",{className:"brand-text",children:"BACONFORT"})]}),e.jsx("button",{className:"navbar-toggler",type:"button",onClick:D,"aria-controls":"navbarNav","aria-expanded":A,"aria-label":"Abrir menú de navegación",children:e.jsx("span",{className:"navbar-toggler-icon"})}),e.jsx("div",{className:`navbar-collapse ${A?"show":"collapse"}`,id:"navbarNav",children:e.jsxs("ul",{className:"navbar-nav ms-auto",children:[e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"/",onClick:k,"aria-label":"Ir al inicio",children:[e.jsx("i",{className:"fas fa-home nav-icon","aria-hidden":"true"}),"Inicio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#servicios",onClick:k,"aria-label":"Ver detalles de la propiedad",children:[e.jsx("i",{className:"fas fa-list nav-icon","aria-hidden":"true"}),"Detalles"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#ubicacion",onClick:k,"aria-label":"Ver ubicación en el mapa",children:[e.jsx("i",{className:"fas fa-map-marker-alt nav-icon","aria-hidden":"true"}),"Ubicación"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#reseñas",onClick:k,"aria-label":"Ver reseñas de huéspedes",children:[e.jsx("i",{className:"fas fa-star nav-icon","aria-hidden":"true"}),"Reseñas"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#ugarteche-2824-precios",onClick:k,"aria-label":"Ver precios de alquiler",children:[e.jsx("i",{className:"fas fa-tag nav-icon","aria-hidden":"true"}),"Precio"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#consulta",onClick:k,"aria-label":"Consultar disponibilidad",children:[e.jsx("i",{className:"fas fa-calendar-check nav-icon","aria-hidden":"true"}),"Consulta"]})}),e.jsx("li",{className:"nav-item",children:e.jsxs("a",{className:"nav-link",href:"#calendario",onClick:k,"aria-label":"Ver calendario de reservas",children:[e.jsx("i",{className:"fas fa-calendar-alt nav-icon","aria-hidden":"true"}),"Calendario"]})})]})})]})}),e.jsxs("div",{className:"video-hero",children:[e.jsx(Wl,{src:Be.getVideoSrc(N==null?void 0:N.heroVideo)||"/video/video-portada-ugarteche-2824.mp4",poster:Be.getImageSrc(R||(N==null?void 0:N.coverImage)||"/img/img-ugarteche3.jpg"),title:(N==null?void 0:N.title)||"Departamento Ugarteche 2824",autoPlay:!0,muted:!0,loop:!0,controls:!1,className:"hero-video"}),e.jsx("div",{className:"video-overlay"}),e.jsx("div",{className:"video-content"})]}),e.jsxs("main",{className:"departamento-page moldes-container",children:[e.jsx("section",{id:"servicios",className:"services container py-5",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-10 mx-auto",children:[e.jsxs("h1",{className:"text-center mb-4",children:[e.jsx("i",{className:"fas fa-building"})," Escape Urbano / Estilo y Comodidad en la Ciudad"]}),e.jsxs("h2",{className:"h4 text-center mb-4",children:[e.jsx("i",{className:"fas fa-map-marker-alt"}),"   Ugarteche 2824"]}),e.jsx("div",{className:"property-features mb-5",children:e.jsxs("div",{className:"row text-center",children:[e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-building fa-2x mb-2 feature-icon building-icon"}),e.jsx("p",{children:" PH con Entrada Independiente"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-bed fa-2x mb-2 feature-icon bed-icon"}),e.jsx("p",{children:" 1 Dormitorio"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-snowflake fa-2x mb-2 feature-icon ac-icon"}),e.jsx("p",{children:"Aire Acondicionado F/C"})]}),e.jsxs("div",{className:"col-md-3 col-6 mb-3",children:[e.jsx("i",{className:"fas fa-users fa-2x mb-2 feature-icon people-icon"}),e.jsx("p",{children:"Para 3 Huéspedes"})]})]})}),e.jsxs("div",{id:"ugarteche-2824-precios",className:"pricing-container",children:[e.jsxs("h2",{className:"pricing-title",children:[e.jsx("i",{className:"fas fa-dollar-sign"})," Valor del Alquiler"]}),e.jsxs("div",{className:"pricing-cards",children:[e.jsx(ra,{title:"Por Mes",amount:((Y=N==null?void 0:N.prices)==null?void 0:Y.monthly)||"USD 750",details:"No incluye servicios y limpieza semanal",whatsappMessage:"Me interesa el departamento en Ugarteche 2824 para alquiler mensual",propertyId:"ugarteche-2824"}),e.jsx(ra,{title:"Por Semana",amount:((O=N==null?void 0:N.prices)==null?void 0:O.weekly)||"USD 400",details:"No incluye una limpieza",whatsappMessage:"Me interesa el departamento en Ugarteche 2824 para alquiler semanal",propertyId:"ugarteche-2824"}),e.jsx(ra,{title:"Por Día",amount:((S=N==null?void 0:N.prices)==null?void 0:S.daily)||"USD 95",details:"Mínimo 3 noches",whatsappMessage:"Me interesa el departamento en Ugarteche 2824 para alquiler diario",propertyId:"ugarteche-2824"})]})]}),e.jsxs("div",{className:"service",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-home","aria-hidden":"true"})," Escape Urbano / Estilo y Comodidad en la Ciudad",e.jsx("br",{}),e.jsx("i",{className:"fas fa-map-marker-alt","aria-hidden":"true"})," Ugarteche 2824",e.jsx("br",{})]}),e.jsxs("div",{className:"description",children:[e.jsxs("p",{lang:"es",children:[e.jsx("strong",{children:"En Español:"}),e.jsx("br",{}),((_=N==null?void 0:N.description)==null?void 0:_.es)||"Elegante departamento de dos ambientes en zona premium de Palermo con todas las comodidades modernas y excelente ubicación cerca de parques y centros comerciales."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"en",children:[e.jsx("strong",{children:"In English:"}),e.jsx("br",{}),(($=N==null?void 0:N.description)==null?void 0:$.en)||"Elegant two-room apartment in premium Palermo area with all modern amenities and excellent location near parks and shopping centers."]}),e.jsx("hr",{}),e.jsxs("p",{lang:"pt",children:[e.jsx("strong",{children:"Em Português:"}),e.jsx("br",{}),((ie=N==null?void 0:N.description)==null?void 0:ie.pt)||"Elegante apartamento de dois ambientes em área premium de Palermo com todas as comodidades modernas e excelente localização perto de parques e centros comerciais."]})]})]}),e.jsxs("div",{className:"amenities-list mb-5",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[e.jsxs("h3",{className:"h5 mb-0",children:[e.jsx("i",{className:"fas fa-star"})," Comodidades Destacadas"]}),e.jsxs("small",{className:"text-muted",children:[E.departamento.length+E.servicios.length+E.amenitiesEdificio.length," comodidades totales"]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-home"})," Departamento"]}),e.jsx("ul",{className:"list-unstyled",children:E.departamento.map((W,y)=>e.jsxs("li",{children:[e.jsx("i",{className:W.icon})," ",W.text]},`dept-${y}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-concierge-bell"})," Servicios"]}),e.jsx("ul",{className:"list-unstyled",children:E.servicios.map((W,y)=>e.jsxs("li",{children:[e.jsx("i",{className:W.icon})," ",W.text]},`serv-${y}`))})]}),e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-building"})," Amenities del Edificio"]}),e.jsx("ul",{className:"list-unstyled",children:E.amenitiesEdificio.map((W,y)=>e.jsxs("li",{children:[e.jsx("i",{className:W.icon})," ",W.text]},`amenities-${y}`))})]})]})]}),e.jsxs("section",{className:"gallery-section",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-images"})," Galería de Imágenes"]}),e.jsxs("div",{style:{display:"flex",gap:"10px",alignItems:"center"},children:[e.jsxs("div",{style:{padding:"5px 10px",fontSize:"12px",borderRadius:"4px",backgroundColor:q.length>0?"#d4edda":"#f8d7da",color:q.length>0?"#155724":"#721c24",border:"1px solid "+(q.length>0?"#c3e6cb":"#f5c6cb")},children:["DB: ",q.length," | Total: ",F.length,T?" (Cargando...)":"",w?" (Error)":"",!T&&q.length>0?" ✅":"",!T&&q.length===0?" (Usando fallback)":""]}),e.jsxs("button",{onClick:U,className:"btn btn-sm btn-outline-primary",title:"Actualizar galería",children:[e.jsx("i",{className:"fas fa-sync-alt"})," Actualizar Galería"]})]})]}),e.jsx("div",{className:"gallery-container",children:G.map((W,y)=>e.jsx("div",{className:"gallery-item",onClick:()=>ae(y),children:e.jsx("img",{src:W,alt:`Departamento Ugarteche 2824 - ${y+1}`,loading:"lazy"})},y))})]})]}),e.jsx("div",{className:"col-lg-4"})]})}),e.jsx("section",{id:"ubicacion",className:"py-5 bg-light",children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 text-center mb-4",children:e.jsxs("h2",{className:"section-title",children:[e.jsx("i",{className:"fas fa-map-marker-alt"})," Ubicación Ugarteche 2824"]})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-12 mb-4",children:e.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.8522399746353!2d-58.41651362565529!3d-34.58260515638102!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcb57edaf8ca5f%3A0x26e71942b423b3d7!2sUgarteche%202824%2C%20C1425%20EVB%2C%20Cdad.%20Aut%C3%B3noma%20de%20Buenos%20Aires!5e0!3m2!1ses-419!2sar!4v1746481698229!5m2!1ses-419!2sar",width:"100%",height:"450",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa de Ugarteche 2824"})})}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-lg-6",children:e.jsxs("div",{className:"location-details mb-4",children:[e.jsx("h3",{className:"h4",children:"Puntos de interés cercanos:"}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-subway"})," Subte Línea D - Scalabrini Ortiz (1 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-subway"})," Subte Línea D - Scalabrini Ortiz (5 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-subway"})," Subte Línea H - Estación Las Heras (15 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-store"})," Avenida Santa Fe y Las Heras (10 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-shopping-cart"})," Alto Palermo Shopping (15 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-tree"})," Jardín Botánico Carlos Thays (2 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-hospital"})," Hospital Italiano (10 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-hospital"})," Hospital Rivadavia (12 min)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-bus"})," Múltiples líneas de colectivo"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-utensils"})," Zona gastronómica premium"]})]})]})})})]})}),e.jsxs("div",{className:"house-rules mb-5 container",children:[e.jsx("h3",{className:"h5 mb-3 text-center",children:"Información Importante"}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-in: 14:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-clock"})," Check-out: 11:00"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-smoking-ban"})," No fumar"]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-paw"})," Mascotas permitidas (consultar)"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-baby"})," Apto para niños"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-shield-alt"})," Depósito de seguridad requerido"]})]})})]})]}),e.jsx("section",{id:"consulta",className:"consultation-section py-5",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"consultation-form-wrapper",children:e.jsx(Kl,{apartmentName:"Ugarteche 2824",propertyId:"ugarteche-2824"})})})})})}),e.jsx("section",{id:"calendario",className:"reservation-section py-5 bg-light",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row justify-content-center",children:e.jsx("div",{className:"col-lg-10 col-xl-8",children:e.jsx("div",{className:"reservation-form-wrapper",children:e.jsx(Xt,{apartmentName:"Ugarteche 2824",propertyId:"ugarteche-2824",preloadData:M})})})})})}),e.jsx("section",{id:"reseñas",className:"py-5",children:e.jsx("div",{className:"container",children:e.jsx(Jl,{propertyId:"ugarteche-2824"})})})]}),o&&e.jsx(Zt,{images:G,currentIndex:u,onClose:()=>f(!1),onNavigate:b})]}):e.jsx(Rs,{})})}const Ng=()=>{const[c,o]=p.useState([]),[f,u]=p.useState(!0),[b,g]=p.useState(null),[h,A]=p.useState("all"),D=p.useMemo(()=>({"moldes-1680":{monthly:1200,weekly:400,daily:70},"santafe-3770":{monthly:1300,weekly:420,daily:75},"santa-fe-3770":{monthly:1300,weekly:420,daily:75},"dorrego-1548":{monthly:1150,weekly:380,daily:70},"convencion-1994":{monthly:1200,weekly:400,daily:70},"ugarteche-2824":{monthly:1250,weekly:410,daily:72}}),[]),k=p.useCallback(x=>{console.log("🔄 Sincronizando precio para promoción:",x.title);const z=D[x.propertyId];if(!z)return console.log("⚠️ No se encontraron precios base para:",x.propertyId),x;let v=null,d=1/0,N=null;if(Object.entries(z).forEach(([q,T])=>{const w=Math.abs(x.originalPrice-T);w<d&&(d=w,v=T,N=q)}),d>v*.1&&v){console.log(`🔧 Ajustando precio original de USD ${x.originalPrice} a USD ${v} (${N})`);const T=(x.originalPrice-x.promotionalPrice)/x.originalPrice,w=Math.round(v*(1-T));return{...x,originalPrice:v,promotionalPrice:Math.max(w,1),_syncedPrice:!0,_matchedPeriod:N}}return console.log(`✅ Precio ya sincronizado para ${x.title}`),x},[D]);p.useEffect(()=>{document.title="Promociones Especiales | BACONFORT - Alquileres Temporales Buenos Aires";const x=document.querySelector('meta[name="description"]');return x&&x.setAttribute("content","Descubre nuestras promociones especiales en departamentos premium de Buenos Aires. Descuentos exclusivos en Palermo, Belgrano y Recoleta."),()=>{document.title="BACONFORT - Alquileres Temporales Buenos Aires"}},[]),p.useEffect(()=>{(async()=>{try{console.log("🎯 Cargando promociones desde la API..."),u(!0);const z=[{id:"monthly-moldes-1680",title:"Promoción Mensual - Moldes 1680",description:"Descuento especial para estadías de 30 días en nuestro departamento premium de Palermo.",category:"Mensuales",propertyId:"moldes-1680",originalPrice:1200,promotionalPrice:960,isActive:!0,validFrom:new Date("2025-01-01").toISOString(),validTo:new Date("2025-12-31").toISOString(),terms:"Válido para estadías mínimas de 30 días. No acumulable con otras promociones.",image:"/img/img-portada-moldes-1680.jpg"},{id:"monthly-santa-fe-3770",title:"Oferta Mensual - Santa Fe 3770",description:"Precio especial por mes completo en Belgrano junto al Jardín Botánico.",category:"Mensuales",propertyId:"santa-fe-3770",originalPrice:1300,promotionalPrice:1040,isActive:!0,validFrom:new Date("2025-01-01").toISOString(),validTo:new Date("2025-12-31").toISOString(),terms:"Aplicable solo para contratos mensuales. Pago anticipado requerido.",image:"/img/img-portada-santa-fe-3770.jpg"},{id:"weekly-moldes-1680",title:"Semana Premium - Moldes 1680",description:"Oferta especial semanal en nuestro departamento estrella de Palermo.",category:"Semanales",propertyId:"moldes-1680",originalPrice:400,promotionalPrice:320,isActive:!0,validFrom:new Date("2025-01-01").toISOString(),validTo:new Date("2025-08-31").toISOString(),terms:"Válido para estadías de 7 días exactos. Check-in domingos.",image:"/img/img-portada-moldes-1680.jpg"},{id:"weekly-convencion-1994",title:"Semana Ejecutiva - Convención 1994",description:"Oferta imperdible para una semana en Villa Crespo.",category:"Semanales",propertyId:"convencion-1994",originalPrice:400,promotionalPrice:320,isActive:!0,validFrom:new Date("2025-01-01").toISOString(),validTo:new Date("2025-08-31").toISOString(),terms:"Válido para estadías de 7 días exactos. Check-in domingos.",image:"/img/img-portada-convencion-1994.jpg"},{id:"weekly-santa-fe-3770",title:"Escapada Semanal - Santa Fe 3770",description:"Una semana perfecta en Belgrano con todos los servicios incluidos.",category:"Semanales",propertyId:"santa-fe-3770",originalPrice:420,promotionalPrice:336,isActive:!0,validFrom:new Date("2025-01-01").toISOString(),validTo:new Date("2025-09-30").toISOString(),terms:"Mínimo 7 días, máximo 14 días. Incluye limpieza semanal.",image:"/img/img-portada-santa-fe-3770.jpg"},{id:"daily-moldes-1680",title:"Oferta Flash - Moldes 1680",description:"Tarifa especial por día en nuestro departamento estrella de Palermo.",category:"Diarias",propertyId:"moldes-1680",originalPrice:70,promotionalPrice:56,isActive:!0,validFrom:new Date("2025-01-01").toISOString(),validTo:new Date("2025-06-30").toISOString(),terms:"Disponible según disponibilidad. No válido en fines de semana.",image:"/img/img-portada-moldes-1680.jpg"},{id:"daily-ugarteche-2824",title:"Oferta Flash - Ugarteche 2824",description:"Tarifa especial por día en Palermo Chico.",category:"Diarias",propertyId:"ugarteche-2824",originalPrice:72,promotionalPrice:58,isActive:!0,validFrom:new Date("2025-01-01").toISOString(),validTo:new Date("2025-07-31").toISOString(),terms:"Válido de lunes a jueves. Estadía mínima 2 noches.",image:"/img/img-portada-ugarteche-2824.jpg"},{id:"daily-santa-fe-3770",title:"Tarifa Nocturna - Santa Fe 3770",description:"Precio especial por noche en nuestro departamento junto al Jardín Botánico.",category:"Diarias",propertyId:"santa-fe-3770",originalPrice:75,promotionalPrice:60,isActive:!0,validFrom:new Date("2025-01-01").toISOString(),validTo:new Date("2025-06-30").toISOString(),terms:"Disponible según disponibilidad. No válido en fines de semana.",image:"/img/img-portada-santa-fe-3770.jpg"},{id:"daily-dorrego-1548",title:"Descuento Madrugador - Dorrego 1548",description:"Excelente opción para estadías cortas en Recoleta.",category:"Diarias",propertyId:"dorrego-1548",originalPrice:70,promotionalPrice:56,isActive:!0,validFrom:new Date("2025-01-01").toISOString(),validTo:new Date("2025-08-15").toISOString(),terms:"Tarifa por noche. Estadía mínima 3 noches.",image:"/img/img-portada-dorrego-1548.jpg"}];let v=[];try{const m=await Ha.getAll({active:"true"});console.log("📡 Respuesta de la API:",m),m.data&&m.data.length>0?(v=m.data,console.log("✅ Usando promociones de la API:",v.length)):(console.log("ℹ️ No hay promociones activas disponibles"),v=[])}catch(m){console.log("⚠️ API no disponible, usando promociones de ejemplo:",m.message),v=z}console.log("📊 Promociones recibidas:",v.length);const d=v.filter(m=>{const B=new Date,q=new Date(m.validFrom),T=new Date(m.validTo);return B>=q&&B<=T&&m.isActive});console.log("✅ Promociones válidas para mostrar:",d.length);const N=d.map(m=>{const B=k(m);if(!B.category){const q=B.originalPrice||B.promotionalPrice;q>=1e3?(B.category="Mensuales",B._matchedPeriod="monthly"):q>=300?(B.category="Semanales",B._matchedPeriod="weekly"):(B.category="Diarias",B._matchedPeriod="daily"),console.log(`🏷️ Categoría asignada para "${m.title}": ${B.category} (precio: ${q})`)}if(!B._matchedPeriod){const q=m.originalPrice;q>=1e3?B._matchedPeriod="monthly":q>=300?B._matchedPeriod="weekly":B._matchedPeriod="daily"}return B._syncedPrice&&console.log(`🔄 Precio sincronizado para "${m.title}":`,{original:`USD ${m.originalPrice} → USD ${B.originalPrice}`,promotional:`USD ${m.promotionalPrice} → USD ${B.promotionalPrice}`,period:B._matchedPeriod,category:B.category}),B});o(N),console.log("🎯 Promociones finales cargadas:",N),u(!1)}catch(z){console.error("❌ Error al cargar promociones:",z),g("Error cargando promociones desde el servidor"),u(!1)}})()},[k]);const M=p.useMemo(()=>{if(console.log("🔍 Filtrando promociones:",{filter:h,totalPromotions:c.length}),h==="all")return console.log("✅ Mostrando todas las promociones"),c;const x=c.filter(z=>{const v=z.category||"";return console.log(`🏷️ Promoción "${z.title}" - Categoría: "${v}"`),h==="monthly"&&v==="Mensuales"||h==="weekly"&&v==="Semanales"||h==="daily"&&v==="Diarias"});return console.log(`✅ Promociones filtradas (${h}):`,x.length),x},[c,h]),E=p.useCallback(x=>({"moldes-1680":"Moldes 1680 - Palermo","santa-fe-3770":"Santa Fe 3770 - Belgrano","dorrego-1548":"Dorrego 1548 - Recoleta","convencion-1994":"Convención 1994 - Villa Crespo","ugarteche-2824":"Ugarteche 2824 - Palermo Chico"})[x]||"Departamento BACONFORT",[]),C=x=>{const z=E(x.propertyId),v=`Hola! Me interesa la promoción "${x.title}" para ${z}. ¿Podrían darme más información?`;return`https://wa.me/541130021074?text=${encodeURIComponent(v)}`},L=(x,z)=>{const v=x-z;return`${Math.round(v/x*100)}%`},P=x=>{const z={day:"2-digit",month:"2-digit",year:"numeric"};return new Date(x).toLocaleDateString("es-ES",z)};return f?e.jsxs("div",{className:"promotions-loading",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("h3",{children:"🎁 Cargando promociones increíbles..."}),e.jsx("p",{children:"✨ Estamos buscando las mejores ofertas para ti ✨"})]}):b?e.jsxs("div",{className:"promotions-error",children:[e.jsx("h3",{children:"😔 Oops! Algo salió mal"}),e.jsxs("p",{children:["💔 ",b," - ¡Pero no te preocupes, lo solucionaremos!"]}),e.jsx("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"🔄 Intentar nuevamente"})]}):e.jsxs("div",{className:"promotions-page",children:[e.jsx("div",{className:"promotions-header",children:e.jsxs("div",{className:"container",children:[e.jsxs("h1",{children:[e.jsx("i",{className:"fas fa-tags"})," 🎉 Promociones Especiales 🎊"]}),e.jsx("p",{className:"lead",children:"✨🌟 Descubre nuestras ofertas exclusivas y ahorra en tu próxima estadía 🌟✨"})]})}),e.jsxs("div",{className:"container py-5",children:[c.length>0&&e.jsxs("div",{className:"promotions-filters",children:[e.jsx("button",{className:`filter-btn ${h==="all"?"active":""}`,onClick:()=>A("all"),children:"🌟 Todas las promociones"}),e.jsx("button",{className:`filter-btn ${h==="monthly"?"active":""}`,onClick:()=>A("monthly"),children:"📅 Mensuales"}),e.jsx("button",{className:`filter-btn ${h==="weekly"?"active":""}`,onClick:()=>A("weekly"),children:"📆 Semanales"}),e.jsx("button",{className:`filter-btn ${h==="daily"?"active":""}`,onClick:()=>A("daily"),children:"🌅 Diarias"})]}),M.length===0?e.jsxs("div",{className:"no-promotions",children:[e.jsxs("h3",{children:["🎭 ",h==="all"?"¡Estamos preparando algo especial!":`No hay promociones ${h==="monthly"?"mensuales":h==="weekly"?"semanales":h==="daily"?"diarias":""} disponibles`]}),e.jsx("p",{children:"🌟 Prueba con otra categoría o mantente atento a nuestras redes sociales para futuras ofertas 🌟"}),e.jsx(He,{to:"/",className:"btn btn-primary",children:"Ver todos los departamentos"})]}):e.jsx("div",{className:"promotions-grid",children:M.map(x=>e.jsxs("div",{className:"promotion-card",children:[e.jsxs("div",{className:"discount-badge",children:["🔥 -",L(x.originalPrice,x.promotionalPrice)," OFF 🎯"]}),e.jsx("div",{className:"promotion-image-container",children:e.jsx("img",{src:x.image||`/img/img-portada-${x.propertyId}.jpg`,alt:`Departamento ${E(x.propertyId)}`,className:"promotion-image",loading:"lazy",onError:z=>{z.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="400" height="300" viewBox="0 0 400 300"%3E%3Crect width="400" height="300" fill="%23f1f5f9"/%3E%3Ctext x="200" y="150" text-anchor="middle" dy=".3em" fill="%2394a3b8" font-size="60"%3E🏠%3C/text%3E%3C/svg%3E'}})}),e.jsxs("div",{className:"card-content",children:[e.jsxs("div",{className:"property-info",children:[e.jsx("i",{className:"fas fa-map-marker-alt"}),e.jsxs("span",{className:"property-name",children:["🏠 ",E(x.propertyId)]})]}),e.jsxs("h3",{className:"promotion-title",children:["🎊 ",x.title]}),e.jsxs("p",{className:"promotion-description",children:["✨ ",x.description]}),e.jsxs("div",{className:"price-highlight",children:[e.jsxs("div",{className:"price-row",children:[e.jsx("span",{className:"price-label",children:"💸 Precio regular:"}),e.jsxs("span",{className:"original-price",children:["USD ",x.originalPrice]})]}),e.jsxs("div",{className:"price-row main-price",children:[e.jsx("span",{className:"price-label",children:"💰 Precio promocional:"}),e.jsxs("span",{className:"promotional-price",children:["USD ",x.promotionalPrice]})]})]}),x._syncedPrice&&e.jsxs("div",{className:"sync-badge",children:["⚡ Precio actualizado - ",x._matchedPeriod==="monthly"?"📅 Mensual":x._matchedPeriod==="weekly"?"📆 Semanal":x._matchedPeriod==="daily"?"🌅 Diario":"✅ Actualizado"]}),e.jsxs("div",{className:"validity-badge",children:["📅 Válido hasta: ",P(x.validTo)]}),x.terms&&e.jsxs("div",{className:"terms-text",children:["📋 ",x.terms]}),e.jsxs("div",{className:"action-buttons",children:[e.jsx(He,{to:`/departamentos/${x.propertyId}`,className:"btn-info",children:"👁️"}),e.jsx("a",{href:C(x),target:"_blank",rel:"noopener noreferrer",className:"btn-whatsapp",children:"📱"})]})]})]},x.id))}),e.jsx("div",{className:"promotions-cta",children:e.jsxs("div",{className:"cta-content",children:[e.jsx("h3",{children:"🔍 ¿No encontraste lo que buscas?"}),e.jsx("p",{children:"🏠 Explora todos nuestros departamentos premium"}),e.jsx(He,{to:"/",className:"btn btn-primary",children:"Ver todos los departamentos"})]})})]})]})};function bg(){const[c,o]=p.useState(""),[f,u]=p.useState(""),[b,g]=p.useState(""),[h,A]=p.useState(!1),{login:D}=Xe(),k=async M=>{M.preventDefault(),A(!0),g("");try{await D(c,f)||g("Credenciales incorrectas. Verifica tu email y contraseña.")}catch(E){console.error("Error en login:",E),g("Error de conexión. Intenta nuevamente.")}A(!1)};return e.jsx("div",{className:"admin-login-container",children:e.jsxs("div",{className:"admin-login-card",children:[e.jsxs("div",{className:"admin-login-header",children:[e.jsx("button",{onClick:()=>window.location.href="/",style:{position:"absolute",right:"15px",top:"15px",background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#666"},title:"Volver al inicio",children:"×"}),e.jsx("i",{className:"fas fa-shield-alt"}),e.jsx("h2",{children:"Panel de Administración"}),e.jsx("p",{children:"BACONFORT"}),e.jsx("small",{style:{color:"#888",fontSize:"12px"},children:"Usa: baconfort.centro@gmail.com / Baconfort2025!"})]}),e.jsxs("form",{onSubmit:k,className:"admin-login-form",children:[b&&e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),b]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"email",children:[e.jsx("i",{className:"fas fa-envelope"}),"Email"]}),e.jsx("input",{type:"email",id:"email",className:"form-control",value:c,onChange:M=>o(M.target.value),placeholder:"baconfort.centro@gmail.com",required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{htmlFor:"password",children:[e.jsx("i",{className:"fas fa-lock"}),"Contraseña"]}),e.jsx("input",{type:"password",id:"password",className:"form-control",value:f,onChange:M=>u(M.target.value),placeholder:"Ingresa tu contraseña",required:!0})]}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:h,children:h?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Iniciando sesión..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),"Iniciar Sesión"]})})]})]})})}const yg=({propertyId:c,onImagesChange:o})=>{const{getProperty:f,updateProperty:u}=Xe(),[b,g]=p.useState([]),[h,A]=p.useState(!1),[D,k]=p.useState(!1),M=p.useRef(null);p.useEffect(()=>{E()},[c]);const E=async()=>{if(!c){console.log("📸 ImageUploader: No propertyId provided"),g([]);return}try{const N=await f(c);if(console.log(`📸 ImageUploader: Property data for ${c}:`,N),N!=null&&N.galleryImages&&Array.isArray(N.galleryImages)&&N.galleryImages.length>0){const m=N.galleryImages.filter(B=>typeof B=="string"?B.startsWith("data:image/")||B.startsWith("http")||!B.includes("/img/"):B&&typeof B=="object"?B.url&&(B.url.startsWith("data:image/")||B.url.startsWith("http")||!B.url.includes("/img/")):!1);if(console.log("📸 ImageUploader: Filtered real images:",m),m.length>0){const B=m.map((q,T)=>({id:q.id||`img_${Date.now()}_${T}_${Math.random().toString(36).substr(2,6)}`,url:q.url||q,filename:q.filename||`image_${T}.jpg`,size:q.size||0,uploadedAt:q.uploadedAt||new Date,isCompressed:q.isCompressed||!1}));g(B),console.log(`📸 Cargadas ${B.length} imágenes REALES para ${c}`)}else console.log(`📸 No hay imágenes REALES para ${c}, iniciando vacío`),g([])}else console.log(`📸 No hay galleryImages para ${c}, iniciando vacío`),g([])}catch(N){console.error("Error cargando imágenes:",N),g([])}},C=(N,m=800,B=.7)=>new Promise(q=>{const T=document.createElement("canvas"),w=T.getContext("2d"),R=new Image;R.onload=()=>{const U=Math.min(m/R.width,m/R.height);T.width=R.width*U,T.height=R.height*U,w.drawImage(R,0,0,T.width,T.height),T.toBlob(q,"image/jpeg",B)},R.src=URL.createObjectURL(N)}),L=N=>new Promise((m,B)=>{const q=new FileReader;q.readAsDataURL(N),q.onload=()=>m(q.result),q.onerror=T=>B(T)}),P=async N=>{if(N!=null&&N.length){A(!0),console.log(`📸 Procesando ${N.length} imágenes OPTIMIZADAS para propiedad: ${c}`);try{const m=[];for(let q=0;q<N.length;q++){const T=N[q];console.log(`📸 Comprimiendo archivo ${q+1}: ${T.name}`);const w=await C(T),R=await L(w),U={id:`img_${Date.now()}_${q}_${Math.random().toString(36).substr(2,6)}`,url:R,filename:T.name,size:w.size,uploadedAt:new Date,isCompressed:!0};m.push(U),console.log(`📸 Imagen comprimida: ${T.name} (${(T.size/1024).toFixed(1)}KB → ${(w.size/1024).toFixed(1)}KB)`)}const B=[...b,...m].slice(0,10);if(g(B),c){const q=await f(c);if(q)try{await u(c,{...q,galleryImages:B}),console.log("🖼️ OPTIMIZED: Imágenes guardadas exitosamente (comprimidas)")}catch{console.warn("⚠️ Error guardando en localStorage (imágenes muy grandes), manteniendo solo en memoria")}}o&&o(B),console.log(`✅ ${N.length} imágenes procesadas y comprimidas para ${c}`)}catch(m){console.error("❌ Error procesando imágenes:",m),alert("Error al procesar las imágenes. Por favor, intenta con imágenes más pequeñas.")}finally{A(!1)}}},x=async N=>{console.log(`🗑️ Eliminando imagen: ${N}`);try{const m=b.filter(B=>B.id!==N);if(g(m),c){const B=await f(c);B&&await u(c,{...B,galleryImages:m})}o&&o(m),console.log("✅ Imagen eliminada exitosamente")}catch(m){console.error("❌ Error eliminando imagen:",m)}},z=N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?k(!0):N.type==="dragleave"&&k(!1)},v=N=>{N.preventDefault(),N.stopPropagation(),k(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&P(Array.from(N.dataTransfer.files))},d=()=>{var N;(N=M.current)==null||N.click()};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-colors cursor-pointer
          ${D?"border-blue-500 bg-blue-50":"border-gray-300 hover:border-gray-400"}
          ${h?"opacity-50 pointer-events-none":""}
        `,onDragEnter:z,onDragLeave:z,onDragOver:z,onDrop:v,onClick:d,children:[e.jsx("input",{ref:M,type:"file",multiple:!0,accept:"image/*",capture:"environment",onChange:N=>P(Array.from(N.target.files||[])),className:"hidden"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-4xl",children:"📸"}),e.jsx("div",{className:"text-lg font-medium text-gray-700",children:h?"Comprimiendo imágenes...":"Subir Imágenes (Optimizadas)"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Arrastra imágenes aquí o haz clic para seleccionar"}),e.jsx("div",{className:"text-xs text-gray-400",children:"⚡ Se comprimen automáticamente para evitar problemas de espacio"}),e.jsx("div",{className:"text-xs text-orange-500",children:"📌 Máximo 10 imágenes para evitar llenar el localStorage"})]})]}),b.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-700",children:["Galería de Imágenes (",b.length,"/10)"]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:b.map((N,m)=>e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:e.jsx("img",{src:N.url,alt:`Imagen ${m+1}`,className:"w-full h-full object-cover"})}),e.jsx("button",{onClick:B=>{B.stopPropagation(),x(N.id)},className:`absolute top-2 right-2 bg-red-500 text-white rounded-full w-6 h-6 \r
                           flex items-center justify-center text-sm hover:bg-red-600 \r
                           opacity-0 group-hover:opacity-100 transition-opacity`,children:"×"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black bg-opacity-50 text-white text-xs p-2 rounded-b-lg opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx("div",{className:"truncate",children:N.filename}),e.jsxs("div",{children:[(N.size/1024).toFixed(1),"KB",N.isCompressed&&e.jsx("span",{className:"text-green-300",children:" ⚡"})]})]}),m===0&&e.jsx("div",{className:"absolute top-2 left-2 bg-green-500 text-white text-xs px-2 py-1 rounded",children:"Principal"})]},N.id))}),e.jsxs("div",{className:"text-sm text-gray-500 bg-gray-50 p-3 rounded",children:[e.jsx("strong",{children:"⚡ Sistema Optimizado:"})," Las imágenes se comprimen automáticamente para evitar problemas de espacio en localStorage.",e.jsx("strong",{children:" Máximo 10 imágenes por propiedad."})," ✅ Se guardan permanentemente al guardar la propiedad."]})]})]})},Sg=({propertyId:c,currentImages:o=[],onImagesUpdated:f,maxImages:u=20})=>{const[b,g]=p.useState(!1),[h,A]=p.useState(!1),D=p.useRef(null),k=async d=>{var N;if(!(!d||d.length===0)){if(!c){alert("❌ Error: No hay ID de propiedad disponible. Guarda la propiedad primero antes de subir imágenes.");return}if(o.length+d.length>u){alert(`❌ Error: Solo puedes subir hasta ${u} imágenes. Ya tienes ${o.length}.`);return}g(!0);try{const m=new FormData;Array.from(d).forEach((w,R)=>{m.append("images",w)}),m.append("propertyId",c);const B=localStorage.getItem("baconfort-token")||"default-token-if-not-found",q=await fetch(`http://localhost:3002/api/properties/${c}/images`,{method:"POST",headers:{Authorization:`Bearer ${B}`},body:m});if(!q.ok)throw new Error(`HTTP error! status: ${q.status}`);const T=await q.json();if(T.success){if((N=T.data)!=null&&N.images&&Array.isArray(T.data.images))f&&f(T.data.images);else throw console.error("Formato de respuesta inesperado:",T),new Error("Formato de respuesta del servidor inesperado");D.current&&(D.current.value="")}else throw new Error(T.message||"Error subiendo imágenes")}catch(m){console.error("❌ Error subiendo imágenes:",m),alert(`Error subiendo imágenes: ${m.message}`)}finally{g(!1)}}},M=async d=>{var N;if(!c){alert("❌ Error: No hay ID de propiedad disponible.");return}try{const m=localStorage.getItem("baconfort-token")||"default-token-if-not-found",B=await fetch(`http://localhost:3002/api/properties/${c}/images/${d}`,{method:"DELETE",headers:{Authorization:`Bearer ${m}`,"Content-Type":"application/json"}});if(!B.ok)throw new Error(`HTTP error! status: ${B.status}`);const q=await B.json();if(q.success)if((N=q.data)!=null&&N.images&&Array.isArray(q.data.images))f&&f(q.data.images);else throw console.error("Formato de respuesta inesperado:",q),new Error("Formato de respuesta del servidor inesperado");else throw new Error(q.message||"Error eliminando imagen")}catch(m){console.error("❌ Error eliminando imagen:",m),alert(`Error eliminando imagen: ${m.message}`)}},E=d=>{const N=d.target.files;N&&N.length>0&&k(N)},C=d=>{d.preventDefault(),A(!1);const N=d.dataTransfer.files;N&&N.length>0&&k(N)},L=d=>{d.preventDefault(),A(!0)},P=d=>{d.preventDefault(),A(!1)},x=()=>{var d;(d=D.current)==null||d.click()},z=u-o.length,v=z>0;return e.jsxs("div",{style:{marginTop:"20px"},children:[v&&e.jsxs("div",{style:{border:h?"2px dashed #3b82f6":"2px dashed #d1d5db",borderRadius:"8px",padding:"32px",textAlign:"center",backgroundColor:h?"#eff6ff":"#ffffff",cursor:"pointer",transition:"all 0.2s"},onDrop:C,onDragOver:L,onDragLeave:P,onClick:x,children:[e.jsx("input",{ref:D,id:`image-upload-${c}`,name:`images-${c}`,type:"file",multiple:!0,accept:"image/*",onChange:E,style:{display:"none"},capture:"environment","aria-label":"Seleccionar imágenes para subir"}),e.jsx("label",{htmlFor:`image-upload-${c}`,style:{display:"none"},children:"Seleccionar imágenes"}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"16px",marginBottom:"16px"},children:[e.jsx("div",{style:{fontSize:"48px",color:"#9ca3af"},children:"📁"}),e.jsx("div",{style:{fontSize:"48px",color:"#3b82f6"},children:"📷"}),e.jsx("div",{style:{fontSize:"48px",color:"#10b981"},children:"📱"})]}),e.jsx("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",margin:"0 0 8px 0"},children:"Subir Imágenes"}),e.jsx("p",{style:{fontSize:"14px",color:"#6b7280",margin:"0 0 4px 0"},children:"Arrastra archivos aquí o haz clic para seleccionar"}),e.jsxs("p",{style:{fontSize:"12px",color:"#9ca3af",margin:"0"},children:["Desde computadora, celular o cámara • JPG, PNG, GIF, WebP • Máx 10MB • ",z," slots disponibles"]})]}),e.jsx("button",{onClick:d=>{d.stopPropagation(),x()},disabled:b,type:"button","aria-label":"Abrir selector de imágenes",style:{backgroundColor:b?"#9ca3af":"#2563eb",color:"white",padding:"8px 24px",borderRadius:"6px",border:"none",cursor:b?"not-allowed":"pointer",fontSize:"14px",fontWeight:"500"},children:b?"Subiendo...":"Seleccionar Imágenes"})]}),b&&e.jsx("div",{style:{backgroundColor:"#eff6ff",border:"1px solid #bfdbfe",borderRadius:"6px",padding:"16px",marginTop:"16px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"24px",height:"24px",border:"2px solid #2563eb",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("span",{style:{color:"#1e40af"},children:"Subiendo imágenes..."})]})}),o.length>0&&e.jsxs("div",{style:{marginTop:"24px"},children:[e.jsxs("h4",{style:{fontSize:"18px",fontWeight:"600",color:"#111827",marginBottom:"12px"},children:["Imágenes Actuales (",o.length,"/",u,")"]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"16px"},children:o.map((d,N)=>e.jsxs("div",{style:{position:"relative",group:!0},children:[e.jsx("img",{src:`http://localhost:3001${d.url||d}`,alt:`Imagen ${N+1} de la propiedad${N===0?" (Principal)":""}`,style:{width:"100%",height:"120px",objectFit:"cover",borderRadius:"6px",border:"1px solid #e5e7eb"},onError:m=>{m.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDE1MCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxNTAiIGhlaWdodD0iMTIwIiBmaWxsPSIjRjNGNEY2Ii8+Cjx0ZXh0IHg9Ijc1IiB5PSI2MCIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSIjOUM5Q0ExIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBkeT0iLjNlbSI+SW1hZ2VuPC90ZXh0Pgo8L3N2Zz4K",m.target.alt="Imagen no disponible"}}),e.jsx("button",{onClick:()=>M(d.id),style:{position:"absolute",top:"8px",right:"8px",backgroundColor:"#dc2626",color:"white",borderRadius:"50%",border:"none",width:"24px",height:"24px",cursor:"pointer",fontSize:"12px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Eliminar imagen","aria-label":`Eliminar imagen ${N+1}`,type:"button",children:"✕"}),N===0&&e.jsx("div",{style:{position:"absolute",bottom:"8px",left:"8px",backgroundColor:"#2563eb",color:"white",fontSize:"10px",padding:"2px 6px",borderRadius:"4px"},children:"Principal"}),e.jsxs("div",{style:{position:"absolute",bottom:"4px",right:"4px",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",fontSize:"10px",padding:"2px 4px",borderRadius:"2px"},children:["#",N+1]})]},d.id||N))})]}),e.jsx("div",{style:{backgroundColor:"#f9fafb",border:"1px solid #e5e7eb",borderRadius:"6px",padding:"16px",marginTop:"16px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px"},children:[e.jsx("div",{style:{fontSize:"20px",color:"#9ca3af"},children:"💡"}),e.jsxs("div",{style:{fontSize:"14px",color:"#6b7280"},children:[e.jsx("p",{style:{fontWeight:"600",margin:"0 0 8px 0"},children:"Tips para mejores imágenes:"}),e.jsxs("ul",{style:{margin:"0",paddingLeft:"16px"},children:[e.jsx("li",{children:"La primera imagen será la imagen principal"}),e.jsx("li",{children:"Usa buena iluminación natural cuando sea posible"}),e.jsx("li",{children:"Muestra diferentes ángulos y espacios"}),e.jsxs("li",{children:["Máximo ",u," imágenes por propiedad"]})]})]})]})}),e.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]})};function Eg({value:c,onChange:o,label:f="Video",required:u=!1,className:b=""}){const[g,h]=p.useState(c||""),[A,D]=p.useState(!1),[k,M]=p.useState(""),E=p.useRef(null),C=()=>{var z;(z=E.current)==null||z.click()},L=async z=>{const v=z.target.files[0];if(v){D(!0),M("📤 Procesando video...");try{if(!v.type.startsWith("video/")){M("❌ Debe seleccionar un archivo de video válido (MP4, WebM, AVI, etc.)"),D(!1);return}const d=10*1024*1024;if(v.size>d){const m=(v.size/1048576).toFixed(2);M(`❌ El video es muy grande (${m}MB). Máximo permitido: 10MB. Intenta comprimir el video.`),D(!1);return}M(`📊 Procesando video (${(v.size/(1024*1024)).toFixed(2)}MB)...`);const N=new FileReader;N.onload=m=>{try{const B=m.target.result;if(B.length>15*1024*1024){M("❌ El video procesado es muy grande. Intenta con un archivo más pequeño o comprímelo."),D(!1);return}h(B),o(B),M("✅ Video cargado correctamente! El video aparecerá en la página del departamento."),console.log("📹 VIDEO UPLOAD: Video procesado exitosamente:",{originalName:v.name,size:`${(v.size/(1024*1024)).toFixed(2)}MB`,type:v.type,base64Length:`${(B.length/(1024*1024)).toFixed(2)}MB (base64)`})}catch(B){console.error("Error procesando video:",B),M("❌ Error al procesar el video")}finally{D(!1),setTimeout(()=>{M("")},3e3)}},N.onerror=()=>{M("❌ Error al leer el archivo de video"),D(!1)},N.readAsDataURL(v)}catch(d){console.error("Error al procesar video:",d),M("❌ Error al procesar el video")}finally{D(!1),setTimeout(()=>{M("")},3e3)}}},P=z=>{const v=z.target.value;h(v),o(v)},x=()=>{h(""),o(""),E.current&&(E.current.value="")};return e.jsxs("div",{className:`video-uploader ${b}`,children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-video"}),f," ",u&&"*"]}),e.jsx("input",{type:"file",ref:E,onChange:L,accept:"video/*",style:{display:"none"}}),e.jsxs("div",{className:"upload-controls",children:[e.jsxs("div",{className:"upload-buttons",children:[e.jsxs("button",{type:"button",onClick:C,className:"btn btn-primary btn-upload",disabled:A,children:[e.jsx("i",{className:"fas fa-upload"}),A?"Procesando...":"Subir Video desde Dispositivo"]}),g&&e.jsxs("button",{type:"button",onClick:x,className:"btn btn-danger btn-clear",disabled:A,children:[e.jsx("i",{className:"fas fa-trash"}),"Limpiar"]})]}),e.jsxs("div",{className:"manual-url",children:[e.jsx("small",{className:"text-muted",children:"O ingresa una URL manualmente:"}),e.jsx("input",{type:"text",className:"form-control form-control-sm",value:c||"",onChange:P,placeholder:"/video/video-ejemplo.mp4",disabled:A})]})]}),k&&e.jsx("div",{className:`upload-message ${k.includes("❌")?"error":"success"}`,children:k}),g&&e.jsxs("div",{className:"video-preview",children:[e.jsx("h5",{children:"Vista Previa:"}),e.jsx("video",{src:g,controls:!0,preload:"metadata",className:"preview-video",onError:z=>{console.error("Error loading video preview:",z)},children:"Tu navegador no soporta la reproducción de video."}),e.jsx("div",{className:"video-info",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),g.startsWith("data:")?"Video subido desde dispositivo":`Archivo: ${g.split("/").pop()}`]})})]}),e.jsx("div",{className:"upload-tips",children:e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-lightbulb me-1"}),e.jsx("strong",{children:"Tips:"}),e.jsxs("ul",{className:"tips-list",children:[e.jsx("li",{children:"Máximo 10MB por video"}),e.jsx("li",{children:"Formatos soportados: MP4, WebM, AVI"}),e.jsx("li",{children:"Para videos grandes, usa herramientas como HandBrake para comprimir"}),e.jsx("li",{children:"Videos más pequeños cargan más rápido en la web"})]})]})})]})}function Bm({propertyId:c,onBack:o}){const{getProperty:f,updateProperty:u,loadPropertiesFromBackend:b}=Xe(),g=f(c),[h,A]=p.useState({title:"",address:"",prices:{monthly:"",weekly:"",daily:""},description:{es:"",en:"",pt:""},coverImage:"",heroVideo:"",galleryImages:[]}),[D,k]=p.useState("general"),[M,E]=p.useState(!1),[C,L]=p.useState("");p.useEffect(()=>{var d,N,m;if(g){const B={...g,description:{es:((d=g.description)==null?void 0:d.es)||"Descripción en español",en:((N=g.description)==null?void 0:N.en)||"Description in English",pt:((m=g.description)==null?void 0:m.pt)||"Descrição em português"}};A(B),console.log("🔄 PropertyEditor: Propiedad actualizada desde contexto:",B)}},[g]);const P=(d,N)=>{A(m=>({...m,[d]:N}))},x=(d,N,m)=>{A(B=>({...B,[d]:{...B[d],[N]:m}}))},z=d=>{console.log("🖼️ GALLERY: Cambiando imágenes:",d),A(N=>{const m={...N,galleryImages:d};return console.log("🖼️ GALLERY: Estado actualizado:",m.galleryImages),m})},v=async()=>{var B,q,T,w,R,U,F,G,ae;if(E(!0),console.log("💾 GUARDANDO:",c,h),!h.title||!h.address){L("✗ Error: Título y dirección son obligatorios"),setTimeout(()=>L(""),5e3),E(!1);return}if(!h.prices.daily||!h.prices.weekly||!h.prices.monthly){L("✗ Error: Todos los precios son obligatorios"),setTimeout(()=>L(""),5e3),E(!1);return}if(!h.description.es||!h.description.en||!h.description.pt){L("✗ Error: Descripciones en todos los idiomas son obligatorias"),setTimeout(()=>L(""),5e3),E(!1);return}const N={"moldes-1680":"moldes-1680","santa-fe-3770":"santa-fe-3770","dorrego-1548":"dorrego-1548","convencion-1994":"convencion-1994","ugarteche-2824":"ugarteche-2824"}[c]||c;console.log("🔄 Mapeando ID:",c,"→",N);const m={...h};if((!m.description||!m.description.es||!m.description.en||!m.description.pt)&&(console.log("🔄 PropertyEditor: Completando descripciones faltantes..."),m.description={es:((B=m.description)==null?void 0:B.es)||((q=h.description)==null?void 0:q.es)||((T=g==null?void 0:g.description)==null?void 0:T.es)||"Descripción en español",en:((w=m.description)==null?void 0:w.en)||((R=h.description)==null?void 0:R.en)||((U=g==null?void 0:g.description)==null?void 0:U.en)||"Description in English",pt:((F=m.description)==null?void 0:F.pt)||((G=h.description)==null?void 0:G.pt)||((ae=g==null?void 0:g.description)==null?void 0:ae.pt)||"Descrição em português"}),console.log(`🔒 Estado de bloqueo: ${m.isBlocked?"BLOQUEADO":"DISPONIBLE"}`),m.blockReason&&console.log(`🔒 Razón de bloqueo: ${m.blockReason}`),m.prices){const Y=O=>{if(typeof O=="string"){const S=O.match(/\d+/);return S?parseInt(S[0]):0}return typeof O=="number"?O:0};m.prices={...m.prices,daily:Y(m.prices.daily),weekly:Y(m.prices.weekly),monthly:Y(m.prices.monthly)}}h.galleryImages&&h.galleryImages.length>0&&(m.galleryImages=h.galleryImages.map(Y=>Y.url||Y),m.coverImage=m.coverImage||h.galleryImages[0].url||h.galleryImages[0],console.log("🖼️ BACKEND: Imágenes agregadas al payload:",m.galleryImages)),m.location||(m.location={}),m.location.coordinates||(m.location.coordinates={}),(!m.location.coordinates.lat||!m.location.coordinates.lng)&&(m.location.coordinates.lat=-34.6037,m.location.coordinates.lng=-58.3816,console.log("📍 COORDS: Agregando coordenadas por defecto (Buenos Aires)")),m.location.address=m.address||m.location.address||"Dirección no especificada",m.location.neighborhood=m.location.neighborhood||"Sin especificar",m.location.city=m.location.city||"Buenos Aires",m.location.country=m.location.country||"Argentina",console.log("🔄 Datos transformados para backend:",m);try{const Y=localStorage.getItem("baconfort_admin_session"),O=Y?JSON.parse(Y):null,S=(O==null?void 0:O.token)||"BACONFORT_ADMIN_2025_7D3F9K2L";console.log("🔑 Usando token para guardar:",S);let $="https://baconfort-production-084d.up.railway.app/api";$.endsWith("/api")&&($=$.substring(0,$.length-4)),window.location.hostname.includes("web.app")||window.location.hostname.includes("firebaseapp.com")?($="https://baconfort-production-084d.up.railway.app",console.log("🔥 Detectado Firebase Hosting - usando Railway API:",$)):console.log("🌐 URL base para guardar:",$);const W=`${$}/api/properties/${N}`;console.log("📡 Endpoint API:",W);const y=await fetch(W,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify(m)});if(y.ok){await u(c,h),console.log("🔄 Forzando recarga desde backend..."),await b();const X=h.prices;L(X?"✓ Guardado exitoso - Precios actualizados y sincronizados con el frontend":"✓ Guardado exitoso - Datos sincronizados"),console.log("🔄 Disparando evento de actualización de precios..."),console.log("🔍 PropertyId:",c),console.log("🔍 FormData prices:",h.prices),console.log("🔍 Backend data prices:",m.prices);const ne=new CustomEvent("baconfort-prices-updated",{detail:{propertyId:c,prices:h.prices||m.prices,backendId:N,timestamp:Date.now()}});window.dispatchEvent(ne),window.localStorage&&localStorage.setItem("baconfort-last-price-update",JSON.stringify({propertyId:c,backendId:N,prices:h.prices||m.prices,timestamp:Date.now()})),setTimeout(()=>{console.log("🔄 Recargando para sincronización completa..."),window.location.reload()},3e3)}else{const X=await y.text();throw console.error("❌ Error del servidor:",X),new Error(`Error ${y.status}: ${X}`)}}catch(Y){console.error("❌ Error completo:",Y),L(`✗ Error: ${Y.message}`),setTimeout(()=>L(""),5e3)}E(!1)};return g?e.jsxs("div",{className:"property-editor",children:[e.jsxs("div",{className:"editor-header",children:[e.jsxs("div",{className:"editor-title",children:[e.jsx("button",{className:"btn-back",onClick:o,children:e.jsx("i",{className:"fas fa-arrow-left"})}),e.jsxs("div",{children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-edit"}),"Editar Propiedad"]}),e.jsx("p",{children:h.title})]})]}),e.jsxs("div",{className:"editor-actions",children:[C&&e.jsxs("div",{className:"save-message-container",children:[e.jsx("span",{className:`save-message ${C.includes("✓")?"success":"error"}`,children:C}),C.includes("Recarga la página")&&e.jsxs("button",{className:"btn btn-info btn-sm ms-2",onClick:()=>window.location.reload(),children:[e.jsx("i",{className:"fas fa-refresh"}),"Recargar Página"]})]}),!g&&e.jsxs("button",{className:"btn btn-success me-2",onClick:()=>{A({title:"Nueva Propiedad",address:"",prices:{daily:"",weekly:"",monthly:""},description:{es:"",en:"",pt:""},coverImage:"",heroVideo:"",galleryImages:[]}),L("✓ Formulario preparado para nueva propiedad. Completa todos los campos obligatorios.")},children:[e.jsx("i",{className:"fas fa-plus"}),"Nueva Propiedad"]}),e.jsx("button",{className:"btn btn-primary",onClick:v,disabled:M,children:M?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"}),"Guardar Cambios"]})}),e.jsx("button",{className:"btn btn-success ms-2",onClick:async()=>{await v(),setTimeout(()=>{window.location.reload()},1e3)},disabled:M,children:M?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"}),e.jsx("i",{className:"fas fa-refresh ms-1"}),"Guardar y Recargar"]})})]})]}),e.jsxs("div",{className:"editor-tabs",children:[e.jsxs("button",{className:`tab ${D==="general"?"active":""}`,onClick:()=>k("general"),children:[e.jsx("i",{className:"fas fa-info-circle"}),"Información General"]}),e.jsxs("button",{className:`tab ${D==="prices"?"active":""}`,onClick:()=>k("prices"),children:[e.jsx("i",{className:"fas fa-dollar-sign"}),"Precios"]}),e.jsxs("button",{className:`tab ${D==="descriptions"?"active":""}`,onClick:()=>k("descriptions"),children:[e.jsx("i",{className:"fas fa-language"}),"Descripciones"]}),e.jsxs("button",{className:`tab ${D==="video"?"active":""}`,onClick:()=>k("video"),children:[e.jsx("i",{className:"fas fa-video"}),"Video"]}),e.jsxs("button",{className:`tab ${D==="images"?"active":""}`,onClick:()=>k("images"),children:[e.jsx("i",{className:"fas fa-images"}),"Imágenes"]})]}),e.jsxs("div",{className:"editor-content",children:[D==="general"&&e.jsxs("div",{className:"editor-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"Información General"]}),e.jsx("div",{className:"property-creation-help",children:e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-lightbulb me-2"}),e.jsx("strong",{children:"Creando una nueva propiedad:"})," Completa toda la información básica, precios y descripciones. Asegúrate de agregar imágenes de calidad y un video atractivo."]})}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-building"}),"Título de la Propiedad *"]}),e.jsx("input",{type:"text",className:"form-control",value:h.title,onChange:d=>P("title",d.target.value),placeholder:"Ej: Moldes 1680 - Departamento Moderno en Palermo",required:!0}),e.jsx("small",{className:"text-muted",children:"Usa un título descriptivo que incluya la dirección y características principales"})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-map-marker-alt"}),"Dirección Completa *"]}),e.jsx("input",{type:"text",className:"form-control",value:h.address,onChange:d=>P("address",d.target.value),placeholder:"Ej: Moldes 1680, Palermo, Buenos Aires, Argentina",required:!0}),e.jsx("small",{className:"text-muted",children:"Incluye calle, número, barrio y ciudad para mejor ubicación"})]}),e.jsx("div",{className:"property-id-section",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-tag"}),"ID de la Propiedad (Auto-generado)"]}),e.jsx("input",{type:"text",className:"form-control",value:c||"Se genera automáticamente al guardar",disabled:!0,style:{backgroundColor:"#f8f9fa",color:"#6c757d"}}),e.jsx("small",{className:"text-muted",children:"El ID se genera automáticamente basado en la dirección"})]})}),e.jsx("div",{className:"property-block-section mt-4",children:e.jsxs("div",{className:"form-group",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center",children:[e.jsxs("label",{className:"form-label d-flex align-items-center mb-0",children:[e.jsx("i",{className:`fas fa-${h.isBlocked?"lock text-danger":"unlock text-success"} me-2`}),e.jsx("span",{children:"Estado de la Propiedad:"})]}),e.jsxs("div",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:"blockToggle",checked:!h.isBlocked,onChange:()=>P("isBlocked",!h.isBlocked),style:{width:"3rem",height:"1.5rem",cursor:"pointer"}}),e.jsx("label",{className:"form-check-label",htmlFor:"blockToggle",style:{cursor:"pointer"},children:e.jsx("span",{className:h.isBlocked?"text-danger fw-bold":"text-success fw-bold",children:h.isBlocked?"BLOQUEADO":"DISPONIBLE"})})]})]}),e.jsx("div",{className:`alert ${h.isBlocked?"alert-danger":"alert-success"} mt-2 py-2`,children:h.isBlocked?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-exclamation-circle me-2"}),"Esta propiedad está ",e.jsx("strong",{children:"BLOQUEADA"})," y no aparecerá en el sitio web."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check-circle me-2"}),"Esta propiedad está ",e.jsx("strong",{children:"DISPONIBLE"})," y aparecerá en el sitio web."]})}),h.isBlocked&&e.jsxs("div",{className:"form-group mt-2",children:[e.jsx("label",{children:"Razón del bloqueo (opcional)"}),e.jsx("input",{type:"text",className:"form-control",value:h.blockReason||"",onChange:d=>P("blockReason",d.target.value),placeholder:"Ej: Renovación en curso, No disponible temporalmente..."})]})]})}),e.jsx(Sg,{value:h.coverImage,onChange:d=>P("coverImage",d),label:"Imagen de Portada Principal *",required:!0}),e.jsxs("div",{className:"image-requirements mt-2",children:[e.jsxs("h6",{children:[e.jsx("i",{className:"fas fa-camera text-primary me-2"}),"Requerimientos de imagen:"]}),e.jsxs("ul",{className:"list-unstyled small",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check text-success me-2"}),"Formato: JPG, PNG o WebP"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check text-success me-2"}),"Tamaño recomendado: 1920x1080 o 16:9"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check text-success me-2"}),"Máximo 5MB de tamaño"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check text-success me-2"}),"Imagen que represente mejor el departamento"]})]})]})]}),D==="prices"&&e.jsxs("div",{className:"editor-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-dollar-sign me-2"}),"Gestión de Precios"]}),e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-info-circle"}),e.jsx("strong",{children:"Configuración de precios:"})," Define los precios para diferentes períodos de estadía. Los precios se mostrarán automáticamente según la duración de la reserva."]}),e.jsxs("div",{className:"pricing-strategy mb-3",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-chart-line text-success me-2"}),"Estrategia de Precios Recomendada"]}),e.jsxs("div",{className:"pricing-tips",children:[e.jsxs("div",{className:"tip-item",children:[e.jsx("i",{className:"fas fa-calendar-day text-primary me-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Precio Diario:"})," Para estadías de 1-6 días (precio más alto por día)"]})]}),e.jsxs("div",{className:"tip-item",children:[e.jsx("i",{className:"fas fa-calendar-week text-info me-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Precio Semanal:"})," Para estadías de 7-29 días (descuento por volumen)"]})]}),e.jsxs("div",{className:"tip-item",children:[e.jsx("i",{className:"fas fa-calendar text-success me-2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Precio Mensual:"})," Para estadías de 30+ días (máximo descuento)"]})]})]})]}),e.jsxs("div",{className:"prices-grid",children:[e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-calendar"}),"Precio Mensual (30+ días) *"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"USD"}),e.jsx("input",{type:"number",className:"form-control",value:h.prices.monthly?String(h.prices.monthly).replace(/[^\d]/g,""):"",onChange:d=>x("prices","monthly",`USD ${d.target.value}`),placeholder:"1200",required:!0})]}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Precio competitivo para estadías largas. Recomendado: 20-30% menos que precio diario × 30"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-calendar-week"}),"Precio Semanal (7-29 días) *"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"USD"}),e.jsx("input",{type:"number",className:"form-control",value:h.prices.weekly?String(h.prices.weekly).replace(/[^\d]/g,""):"",onChange:d=>x("prices","weekly",`USD ${d.target.value}`),placeholder:"350",required:!0})]}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Precio por semana completa. Recomendado: 10-15% menos que precio diario × 7"]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-calendar-day"}),"Precio Diario (1-6 días) *"]}),e.jsxs("div",{className:"input-group",children:[e.jsx("span",{className:"input-group-text",children:"USD"}),e.jsx("input",{type:"number",className:"form-control",value:h.prices.daily?String(h.prices.daily).replace(/[^\d]/g,""):"",onChange:d=>x("prices","daily",`USD ${d.target.value}`),placeholder:"90",required:!0})]}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Precio base por día. Este será el precio más alto por día"]})]})]}),e.jsxs("div",{className:"price-calculator mt-4",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-calculator text-warning me-2"}),"Calculadora de Rentabilidad"]}),e.jsxs("div",{className:"calculator-grid",children:[e.jsxs("div",{className:"calc-item",children:[e.jsx("span",{className:"calc-label",children:"Precio diario:"}),e.jsx("span",{className:"calc-value",children:h.prices.daily||"N/A"})]}),e.jsxs("div",{className:"calc-item",children:[e.jsx("span",{className:"calc-label",children:"Ingresos por semana:"}),e.jsx("span",{className:"calc-value",children:h.prices.weekly||(h.prices.daily?`USD ${parseInt(h.prices.daily.replace(/[^\d]/g,""))*7}`:"N/A")})]}),e.jsxs("div",{className:"calc-item",children:[e.jsx("span",{className:"calc-label",children:"Ingresos por mes:"}),e.jsx("span",{className:"calc-value",children:h.prices.monthly||(h.prices.daily?`USD ${parseInt(h.prices.daily.replace(/[^\d]/g,""))*30}`:"N/A")})]})]})]}),e.jsxs("div",{className:"price-preview mt-3",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-eye text-info me-2"}),"Vista previa (como se muestra a los clientes):"]}),e.jsxs("div",{className:"price-tags",children:[e.jsxs("span",{className:"badge bg-primary",children:["Mensual: ",h.prices.monthly||"No definido"]}),e.jsxs("span",{className:"badge bg-success",children:["Semanal: ",h.prices.weekly||"No definido"]}),e.jsxs("span",{className:"badge bg-info",children:["Diario: ",h.prices.daily||"No definido"]})]})]})]}),D==="descriptions"&&e.jsxs("div",{className:"editor-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-language me-2"}),"Descripciones Multiidioma"]}),e.jsx("div",{className:"description-guidelines mb-4",children:e.jsxs("div",{className:"alert alert-info",children:[e.jsx("i",{className:"fas fa-writing me-2"}),e.jsx("strong",{children:"Guía para descripciones efectivas:"}),e.jsxs("ul",{className:"mt-2 mb-0",children:[e.jsx("li",{children:"Destaca las características únicas del departamento"}),e.jsx("li",{children:"Menciona servicios cercanos (transporte, restaurantes, atracciones)"}),e.jsx("li",{children:"Incluye información sobre amenities y comodidades"}),e.jsx("li",{children:"Especifica reglas importantes (mascotas, fumadores, etc.)"})]})]})}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-flag me-2"}),e.jsx("img",{src:"https://flagcdn.com/w20/ar.png",alt:"Español",className:"flag-icon me-2"}),"Descripción en Español *"]}),e.jsx("textarea",{className:"form-control",rows:"6",value:h.description.es,onChange:d=>x("description","es",d.target.value),placeholder:`Describe el departamento en español. Ejemplo: \r
                \r
Hermoso departamento de 2 ambientes ubicado en el corazón de Palermo. Cuenta con todas las comodidades necesarias para una estadía perfecta: WiFi de alta velocidad, aire acondicionado, cocina completamente equipada y balcón con vista a la ciudad. \r
\r
A solo 2 cuadras del Subte línea D y rodeado de los mejores restaurantes y bares de la zona. Ideal para parejas o viajeros de negocios que buscan confort y ubicación estratégica.\r
\r
• 2 ambientes con capacidad para 4 personas\r
• WiFi de alta velocidad \r
• Aire acondicionado/calefacción\r
• Cocina equipada con microondas, heladera y utensilios\r
• TV Smart con Netflix\r
• Ropa de cama y toallas incluidas`,required:!0}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Caracteres recomendados: 300-800. Actual: ",h.description.es.length]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-flag me-2"}),e.jsx("img",{src:"https://flagcdn.com/w20/us.png",alt:"English",className:"flag-icon me-2"}),"Descripción en Inglés *"]}),e.jsx("textarea",{className:"form-control",rows:"6",value:h.description.en,onChange:d=>x("description","en",d.target.value),placeholder:`Describe the apartment in English. Example:\r
\r
Beautiful 2-room apartment located in the heart of Palermo. Features all necessary amenities for a perfect stay: high-speed WiFi, air conditioning, fully equipped kitchen, and balcony with city views.\r
\r
Just 2 blocks from Subway line D and surrounded by the best restaurants and bars in the area. Perfect for couples or business travelers seeking comfort and strategic location.\r
\r
• 2 rooms with capacity for 4 people\r
• High-speed WiFi\r
• Air conditioning/heating  \r
• Equipped kitchen with microwave, fridge and utensils\r
• Smart TV with Netflix\r
• Bed linens and towels included`,required:!0}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Recommended characters: 300-800. Current: ",h.description.en.length]})]}),e.jsxs("div",{className:"form-group",children:[e.jsxs("label",{children:[e.jsx("i",{className:"fas fa-flag me-2"}),e.jsx("img",{src:"https://flagcdn.com/w20/br.png",alt:"Português",className:"flag-icon me-2"}),"Descripción en Português *"]}),e.jsx("textarea",{className:"form-control",rows:"6",value:h.description.pt,onChange:d=>x("description","pt",d.target.value),placeholder:`Descreva o apartamento em português. Exemplo:\r
\r
Lindo apartamento de 2 ambientes localizado no coração de Palermo. Possui todas as comodidades necessárias para uma estadia perfeita: WiFi de alta velocidade, ar condicionado, cozinha totalmente equipada e varanda com vista para a cidade.\r
\r
A apenas 2 quarteirões do Metrô linha D e cercado pelos melhores restaurantes e bares da região. Ideal para casais ou viajantes de negócios que buscam conforto e localização estratégica.\r
\r
• 2 ambientes com capacidade para 4 pessoas\r
• WiFi de alta velocidade\r
• Ar condicionado/aquecimento\r
• Cozinha equipada com microondas, geladeira e utensílios\r
• TV Smart com Netflix  \r
• Roupas de cama e toalhas incluídas`,required:!0}),e.jsxs("small",{className:"text-muted",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Caracteres recomendados: 300-800. Atual: ",h.description.pt.length]})]}),e.jsxs("div",{className:"description-tips mt-4",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-lightbulb text-warning me-2"}),"Consejos para descripciones exitosas:"]}),e.jsxs("div",{className:"tips-grid",children:[e.jsxs("div",{className:"tip-card",children:[e.jsx("i",{className:"fas fa-home text-primary"}),e.jsx("strong",{children:"Amenities"}),e.jsx("p",{children:"WiFi, AC, TV, Cocina, Balcón"})]}),e.jsxs("div",{className:"tip-card",children:[e.jsx("i",{className:"fas fa-map-marker-alt text-success"}),e.jsx("strong",{children:"Ubicación"}),e.jsx("p",{children:"Transporte, Restaurantes, Atracciones"})]}),e.jsxs("div",{className:"tip-card",children:[e.jsx("i",{className:"fas fa-users text-info"}),e.jsx("strong",{children:"Capacidad"}),e.jsx("p",{children:"Número de huéspedes, Camas, Baños"})]}),e.jsxs("div",{className:"tip-card",children:[e.jsx("i",{className:"fas fa-rules text-warning"}),e.jsx("strong",{children:"Reglas"}),e.jsx("p",{children:"Check-in/out, Mascotas, Fumadores"})]})]})]})]}),D==="video"&&e.jsxs("div",{className:"editor-section",children:[e.jsx("h3",{children:"Video Hero de la Propiedad"}),e.jsxs("p",{className:"text-muted mb-3",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Este video se mostrará en la sección hero de la página de la propiedad"]}),e.jsx(Eg,{value:h.heroVideo,onChange:d=>P("heroVideo",d),label:"Video Principal",required:!1}),e.jsxs("div",{className:"video-recommendations mt-3",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-lightbulb text-warning me-2"}),"Recomendaciones:"]}),e.jsxs("ul",{className:"list-unstyled",children:[e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check text-success me-2"}),"Formato: MP4 preferible"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check text-success me-2"}),"Duración: 10-60 segundos ideal"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check text-success me-2"}),"Tamaño: Máximo 50MB"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check text-success me-2"}),"Resolución: 1920x1080 (Full HD) recomendado"]}),e.jsxs("li",{children:[e.jsx("i",{className:"fas fa-check text-success me-2"}),"Contenido: Mostrar las mejores características del departamento"]})]})]})]}),D==="images"&&e.jsxs("div",{className:"editor-section",children:[e.jsx("h3",{children:"Gestión de Imágenes"}),e.jsxs("p",{className:"text-muted mb-4",children:[e.jsx("i",{className:"fas fa-info-circle me-1"}),"Arrastra imágenes aquí o haz clic para seleccionar. Máximo 20 imágenes. Desde dispositivos móviles también puedes tomar fotos directamente."]}),!c&&e.jsxs("div",{className:"alert alert-warning mb-3",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),e.jsx("strong",{children:"Advertencia:"})," ID de propiedad no disponible. Guarda la propiedad primero antes de subir imágenes."]}),e.jsx(yg,{propertyId:c,onImagesChange:z})]})]})]}):e.jsx("div",{className:"property-editor",children:e.jsxs("div",{className:"alert alert-danger",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),"Propiedad no encontrada"]})})}const wg=c=>{p.useEffect(()=>{console.log("🔧 [useManualOccupancy] Inicializado para:",c)},[c]);const{occupiedDates:o,loading:f,error:u}=Ym(c),[b,g]=p.useState([]),[h,A]=p.useState([]),[D,k]=p.useState([]),[M,E]=p.useState([]),[C,L]=p.useState({added:[],removed:[]}),P=[...o.filter(T=>!h.includes(T)),...b].filter((T,w,R)=>R.indexOf(T)===w).sort(),x=T=>{if(T&&(console.log("➕ useManualOccupancy - addOccupiedDate llamado con:",T),!o.includes(T))){if(h.includes(T)){A(w=>w.filter(R=>R!==T)),L(w=>({...w,removed:w.removed.filter(R=>R!==T)}));return}b.includes(T)||(g(w=>[...w,T]),L(w=>({...w,added:[...w.added.filter(R=>R!==T),T]})))}},z=T=>{if(T){if(console.log("➖ useManualOccupancy - removeOccupiedDate llamado con:",T),console.log("📊 Estado actual antes de remover:"),console.log("   persistedManualDates:",D),console.log("   manualOccupiedDates:",b),console.log("   pendingChanges:",C),o.includes(T)){console.log("🚫 useManualOccupancy - PROTECCIÓN ACTIVADA: No se puede remover reserva de cliente:",T);return}b.includes(T)&&(g(R=>R.filter(U=>U!==T)),D.includes(T)?(L(R=>({...R,added:R.added.filter(U=>U!==T),removed:[...R.removed.filter(U=>U!==T),T]})),console.log("↪️ Fecha manual previamente guardada marcada como removed")):(L(R=>({...R,added:R.added.filter(U=>U!==T)})),console.log("↪️ Fecha recién agregada removida de pendingChanges.added")))}},v=T=>{if(console.log("🔄 useManualOccupancy - toggleOccupiedDate llamado con:",T),console.log("📊 Estado actual combinedOccupiedDates:",P),o.includes(T)){console.log("🚫 useManualOccupancy - PROTECCIÓN: No se puede modificar reserva de cliente:",T);return}P.includes(T)?(console.log("➖ Fecha ya ocupada (manual), removiendo:",T),z(T)):(console.log("➕ Fecha libre, agregando:",T),x(T)),setTimeout(()=>{console.log("🔍 Estado después del toggle:"),console.log("📊 pendingChanges.added:",C.added),console.log("📊 pendingChanges.removed:",C.removed),console.log("📊 hasChanges():",C.added.length>0||C.removed.length>0)},100)},d=(T,w)=>{if(!T||!w)return;const R=new Date(T),U=new Date(w);for(let F=new Date(R);F<=U;F.setDate(F.getDate()+1)){const G=F.toISOString().split("T")[0];x(G)}},N=(T,w)=>{if(!T||!w)return;const R=new Date(T),U=new Date(w);for(let F=new Date(R);F<=U;F.setDate(F.getDate()+1)){const G=F.toISOString().split("T")[0];z(G)}},m=async()=>{try{console.log("💾 [useManualOccupancy] Guardando cambios..."),console.log("📊 Estado antes de guardar:"),console.log("   manualOccupiedDates:",b),console.log("   manuallyRemovedDates:",h),console.log("   pendingChanges:",C);let T=[...b],w=[...h];C.added.forEach(ae=>{T.includes(ae)||T.push(ae)}),C.removed.forEach(ae=>{T.includes(ae)&&(T=T.filter(Y=>Y!==ae)),o.includes(ae)&&!w.includes(ae)&&w.push(ae)}),console.log("📊 Estado final a guardar:"),console.log("   finalManualOccupied:",T),console.log("   finalManuallyRemoved:",w),await new Promise(ae=>setTimeout(ae,1e3));const R=`baconfort_manual_occupancy_${c}`,U={manualOccupiedDates:T,manuallyRemovedDates:w,timestamp:Date.now()};localStorage.setItem(R,JSON.stringify(U)),console.log("✅ [useManualOccupancy] Datos guardados en localStorage:",U);const F=localStorage.getItem(R);if(console.log("🔍 [useManualOccupancy] VERIFICACIÓN INMEDIATA - Datos leídos de vuelta:",F),F)try{const ae=JSON.parse(F);console.log("✅ [useManualOccupancy] VERIFICACIÓN EXITOSA - Datos parseados:",ae)}catch(ae){console.error("❌ [useManualOccupancy] ERROR EN VERIFICACIÓN - No se pudo parsear:",ae)}else{console.error("❌ [useManualOccupancy] ERROR CRÍTICO - No se encontraron datos después de guardar!");const ae=Object.keys(localStorage);console.log("🔑 [useManualOccupancy] Todas las claves en localStorage después de guardar:",ae),ae.forEach(Y=>{(Y.includes("moldes")||Y.includes("manual")||Y.includes("occupancy"))&&console.log(`   ${Y}:`,localStorage.getItem(Y))})}const G=new CustomEvent("manualOccupancyChanged",{detail:{propertyId:c,data:U}});return window.dispatchEvent(G),console.log("📡 [useManualOccupancy] Evento personalizado disparado para sincronización inmediata"),g(T),A(w),k(T),E(w),L({added:[],removed:[]}),{success:!0}}catch(T){return console.error("❌ [useManualOccupancy] Error guardando cambios:",T),{success:!1,error:T.message}}},B=()=>{const T=`baconfort_manual_occupancy_${c}`,w=localStorage.getItem(T);if(w)try{const R=JSON.parse(w);g(R.manualOccupiedDates||[]),A(R.manuallyRemovedDates||[])}catch(R){console.error("Error cargando datos guardados al descartar:",R),g([]),A([])}else g([]),A([]);L({added:[],removed:[]}),console.log("🔄 Cambios descartados, datos restaurados")},q=()=>{const T=C.added.length>0,w=C.removed.length>0,R=T||w;return console.log("🔍 hasChanges() verificando:",{hasAdded:T,hasRemoved:w,result:R,pendingChanges:C}),R};return p.useEffect(()=>{if(!c)return;const T=`baconfort_manual_occupancy_${c}`,w=localStorage.getItem(T);if(w)try{const R=JSON.parse(w);console.log(`📁 Cargando datos guardados para ${c}:`,R);const U=R.manualOccupiedDates||[],F=R.manuallyRemovedDates||[];g(U),A(F),k(U),E(F),console.log("✅ Datos cargados desde localStorage y estado persistido establecido")}catch(R){console.error("❌ Error cargando datos guardados:",R),localStorage.removeItem(T)}},[c]),{occupiedDates:P,loading:f,error:u,originalOccupiedDates:o,manualOccupiedDates:b,manuallyRemovedDates:h,addOccupiedDate:x,removeOccupiedDate:z,toggleOccupiedDate:v,addOccupiedRange:d,removeOccupiedRange:N,pendingChanges:C,hasChanges:q(),saveChanges:m,discardChanges:B}};window.debugAdminSave=function(c,o){console.log("=== DEBUG ADMIN SAVE SIMULATION ===");const f=`baconfort_manual_occupancy_${c}`;console.log("PropertyID:",c),console.log("Clave que se usará:",f),console.log("Fechas a guardar:",o),localStorage.setItem(f,JSON.stringify(o)),console.log("Datos guardados en localStorage");const u=localStorage.getItem(f);return console.log("Verificación inmediata:",u),console.log("Todas las claves después del guardado:"),Object.keys(localStorage).forEach(b=>{b.includes("manual_occupancy")&&console.log(`${b}:`,localStorage.getItem(b))}),u!==null};window.testFullFlow=function(){console.log("=== TEST FLUJO COMPLETO MOLDES ==="),localStorage.removeItem("baconfort_manual_occupancy_moldes-1680"),console.log("1. Datos de Moldes limpiados");const o=["2024-01-20","2024-01-21","2024-01-22"],f=window.debugAdminSave("moldes-1680",o);console.log("2. Guardado admin exitoso:",f);const b=localStorage.getItem("baconfort_manual_occupancy_moldes-1680");if(console.log("3. Usuario encuentra la clave:",b!==null),console.log("3. Datos que encuentra el usuario:",b),b)try{const g=JSON.parse(b),h=JSON.stringify(g)===JSON.stringify(o);console.log("4. Los datos coinciden:",h),console.log("4. Datos originales:",o),console.log("4. Datos recuperados:",g)}catch(g){console.log("4. Error al parsear datos del usuario:",g)}console.log("=== FIN TEST FLUJO COMPLETO ===")};function Dg({propertyId:c,propertyTitle:o,isVisible:f=!0}){const u=wg(c);p.useEffect(()=>{var ee,ce;console.log(`🔧 [AdminCalendar] Hook result para ${o}:`,{hookResult:u?"válido":"null/undefined",keys:u?Object.keys(u):"N/A",occupiedDates:((ee=u==null?void 0:u.occupiedDates)==null?void 0:ee.length)||0,manualOccupiedDates:((ce=u==null?void 0:u.manualOccupiedDates)==null?void 0:ce.length)||0,loading:u==null?void 0:u.loading})},[u,o]);const{occupiedDates:b=[],loading:g=!1,toggleOccupiedDate:h=()=>{},addOccupiedRange:A=()=>{},removeOccupiedRange:D=()=>{},pendingChanges:k={added:[],removed:[]},hasChanges:M=!1,saveChanges:E=()=>{},discardChanges:C=()=>{},originalOccupiedDates:L=[],manualOccupiedDates:P=[],manuallyRemovedDates:x=[]}=u||{},[z,v]=p.useState(new Date),[d,N]=p.useState(!1),[m,B]=p.useState("single"),[q,T]=p.useState({start:null,end:null}),[w,R]=p.useState(!1),[U,F]=p.useState(!1),G=new Date,Y=(()=>{try{const ee=z.getFullYear(),ce=z.getMonth(),ue=new Date(ee,ce,1),xe=new Date(ee,ce+1,0),ve=new Date(ee,ce,1),ze=ue.getDay();ve.setDate(1-ze);const Qe=[];for(let aa=0;aa<42;aa++){const Ee=new Date(ve);Ee.setDate(ve.getDate()+aa);const Ge=Ee.getFullYear(),cs=String(Ee.getMonth()+1).padStart(2,"0"),Ps=String(Ee.getDate()).padStart(2,"0"),re=`${Ge}-${cs}-${Ps}`,Sa=Ee.getMonth()===ce,lt=Ee.toDateString()===G.toDateString(),Ma=Array.isArray(b)&&b.includes(re),nt=new Date(G.getFullYear(),G.getMonth(),G.getDate()),sn=new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate())<nt;let zs="available";Ma&&(Array.isArray(L)&&L.includes(re)&&(!Array.isArray(x)||!x.includes(re))?zs="reserved":Array.isArray(P)&&P.includes(re)?zs="manual":Array.isArray(L)&&L.includes(re)&&Array.isArray(x)&&x.includes(re)&&(zs="available")),Array.isArray(P)&&P.includes(re)&&console.log(`🟡 [${o}] Fecha manual detectada: ${re} - occupationType: ${zs}`);const Si=q.start&&q.end&&Ee>=new Date(q.start)&&Ee<=new Date(q.end);Qe.push({date:new Date(Ee),dateStr:re,day:Ee.getDate(),isCurrentMonth:Sa,isToday:lt,isOccupied:Ma,occupationType:zs,isPast:sn,isInSelectedRange:Si})}return Qe}catch(ee){return console.error("Error generando días del calendario:",ee),[]}})(),O=()=>{v(new Date(z.getFullYear(),z.getMonth()-1,1))},S=()=>{v(new Date(z.getFullYear(),z.getMonth()+1,1))},_=Y.filter(ee=>ee.isCurrentMonth&&ee.occupationType==="reserved").length,$=Y.filter(ee=>ee.isCurrentMonth).length,ie=$>0?Math.round(_/$*100):0,W=ee=>{if(console.log("🏢 AdminCalendar - Fecha clickeada:",{dayNumber:ee.day,dateStr:ee.dateStr,fullDate:ee.date,selectionMode:m,isPast:ee.isPast,isOccupied:ee.isOccupied,occupationType:ee.occupationType}),ee.occupationType==="reserved"){console.log("🚫 AdminCalendar - No se puede modificar reserva de cliente:",ee.dateStr),alert(`⚠️ Esta fecha tiene una reserva confirmada por un cliente.
No se puede modificar desde el panel de administración.`);return}m==="single"?(console.log("🏢 AdminCalendar - Llamando toggleOccupiedDate con:",ee.dateStr),h(ee.dateStr)):m==="range"&&y(ee)},y=ee=>{if(ee.occupationType==="reserved"){console.log("🚫 AdminCalendar - No se puede incluir reserva de cliente en rango:",ee.dateStr),alert("⚠️ No se pueden incluir fechas con reservas de clientes en la selección de rango.");return}if(!q.start)T({start:ee.dateStr,end:null}),R(!0);else if(q.end)T({start:ee.dateStr,end:null}),R(!0);else{const ce=new Date(q.start),ue=new Date(ee.dateStr);if(ue>=ce){if(Y.some(ve=>{const ze=new Date(ve.dateStr);return ze>=ce&&ze<=ue&&ve.occupationType==="reserved"})){alert(`⚠️ El rango seleccionado contiene fechas con reservas de clientes.
Por favor, selecciona un rango diferente.`),T({start:null,end:null}),R(!1);return}T({start:q.start,end:ee.dateStr}),R(!1)}else T({start:ee.dateStr,end:null})}},X=ee=>{!q.start||!q.end||(ee==="occupy"?A(q.start,q.end):ee==="free"&&D(q.start,q.end),T({start:null,end:null}))},ne=()=>{T({start:null,end:null}),R(!1),B("single")},oe=async()=>{F(!0);const ee=await E();if(F(!1),ee.success){const ce=document.createElement("div");ce.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #4caf50;
        color: white;
        padding: 12px 20px;
        border-radius: 8px;
        z-index: 10000;
        font-weight: 500;
        box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
      `,ce.innerHTML='<i class="fas fa-check-circle"></i> Cambios guardados exitosamente',document.body.appendChild(ce),setTimeout(()=>{document.body.removeChild(ce)},3e3)}else console.error("❌ Error guardando cambios:",ee.error),alert("Error al guardar los cambios. Por favor, intenta nuevamente.")};return p.useEffect(()=>{!g&&((P==null?void 0:P.length)>0||(x==null?void 0:x.length)>0)&&console.log(`📅 [${o}] Bloqueos manuales: ${(P==null?void 0:P.length)||0} activos`)},[o,g,P,x]),f?g?e.jsx("div",{className:"admin-calendar",children:e.jsxs("div",{className:"calendar-loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando calendario..."})]})}):e.jsxs("div",{className:"admin-calendar",children:[e.jsxs("div",{className:"calendar-header",children:[e.jsxs("div",{className:"property-info",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-calendar-alt"}),o]}),e.jsxs("div",{className:"occupancy-stats",children:[e.jsxs("span",{className:"occupancy-rate",style:{color:ie>70?"#d32f2f":ie>40?"#f57c00":"#388e3c"},children:[ie,"% ocupado"]}),e.jsxs("span",{className:"month-stats",children:[_,"/",$," días"]}),M&&e.jsxs("span",{className:"changes-indicator",children:[e.jsx("i",{className:"fas fa-exclamation-circle"}),k.added.length+k.removed.length," cambios"]})]})]}),e.jsxs("div",{className:"calendar-controls",children:[g&&e.jsx("div",{className:"loading-indicator",children:e.jsx("i",{className:"fas fa-spinner fa-spin"})}),e.jsxs("button",{type:"button",className:`expand-btn ${d?"expanded":""}`,onClick:()=>N(!d),title:d?"Ocultar calendario":"Mostrar calendario",children:[e.jsx("span",{className:"expand-btn-text",children:d?"Ocultar":"Ver calendario"}),e.jsx("i",{className:`fas fa-chevron-${d?"up":"down"}`})]})]})]}),d&&e.jsxs("div",{className:"calendar-body",children:[e.jsxs("div",{className:"calendar-description",children:[e.jsxs("div",{className:"description-content",children:[e.jsx("i",{className:"fas fa-info-circle"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Gestión de Disponibilidad:"})," Bloquea días que no quieres alquilar (mantenimiento, uso personal, etc.) o libera días previamente bloqueados. Los días con reservas reales aparecen en ",e.jsx("span",{className:"reserved-color",children:"rojo"}),"."]})]}),e.jsxs("div",{className:"quick-actions",children:[e.jsxs("span",{className:"quick-action-title",children:[e.jsx("i",{className:"fas fa-lightning-bolt"}),"Acciones rápidas:"]}),e.jsx("span",{className:"quick-action-item",children:"• Click en día: Bloquear/Liberar individual"}),e.jsx("span",{className:"quick-action-item",children:"• Rango: Seleccionar múltiples días"})]})]}),e.jsxs("div",{className:"management-controls",children:[e.jsxs("div",{className:"mode-selector",children:[e.jsxs("button",{type:"button",className:`mode-btn ${m==="single"?"active":""}`,onClick:()=>{B("single"),ne()},children:[e.jsx("i",{className:"fas fa-mouse-pointer"}),"Click individual"]}),e.jsxs("button",{type:"button",className:`mode-btn ${m==="range"?"active":""}`,onClick:()=>B("range"),children:[e.jsx("i",{className:"fas fa-arrows-alt-h"}),"Seleccionar rango"]})]}),m==="range"&&q.start&&q.end&&e.jsxs("div",{className:"range-actions",children:[e.jsxs("span",{className:"selected-range",children:[new Date(q.start).toLocaleDateString("es-ES")," - ",new Date(q.end).toLocaleDateString("es-ES")]}),e.jsxs("button",{type:"button",className:"action-btn occupy",onClick:()=>X("occupy"),children:[e.jsx("i",{className:"fas fa-ban"}),"Bloquear días"]}),e.jsxs("button",{type:"button",className:"action-btn free",onClick:()=>X("free"),children:[e.jsx("i",{className:"fas fa-check-circle"}),"Liberar días"]}),e.jsxs("button",{type:"button",className:"action-btn cancel",onClick:ne,children:[e.jsx("i",{className:"fas fa-times"}),"Cancelar"]})]}),M&&e.jsxs("div",{className:"changes-actions",children:[e.jsx("button",{type:"button",className:"save-btn",onClick:oe,disabled:U,children:U?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-save"}),"Guardar (",k.added.length+k.removed.length,")"]})}),e.jsxs("button",{type:"button",className:"discard-btn",onClick:C,disabled:U,children:[e.jsx("i",{className:"fas fa-undo"}),"Descartar"]})]})]}),e.jsxs("div",{className:"month-navigation",children:[e.jsx("button",{type:"button",onClick:O,className:"nav-btn",children:e.jsx("i",{className:"fas fa-chevron-left"})}),e.jsx("span",{className:"month-year",children:z.toLocaleDateString("es-ES",{month:"long",year:"numeric"})}),e.jsx("button",{type:"button",onClick:S,className:"nav-btn",children:e.jsx("i",{className:"fas fa-chevron-right"})})]}),e.jsxs("div",{className:"calendar-grid",children:[e.jsx("div",{className:"weekdays",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px",marginBottom:"8px"},children:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"].map(ee=>e.jsx("div",{className:"weekday",children:ee},ee))}),e.jsx("div",{className:"days-grid",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"2px"},children:Y.map((ee,ce)=>e.jsxs("div",{className:`
                    admin-day
                    ${ee.isCurrentMonth?"":"other-month"}
                    ${ee.isToday?"today":""}
                    ${ee.occupationType}
                    ${ee.isPast?"past":""}
                    ${ee.occupationType!=="reserved"?"clickable":""}
                    ${ee.isInSelectedRange?"in-range":""}
                    ${q.start===ee.dateStr?"range-start":""}
                    ${q.end===ee.dateStr?"range-end":""}
                  `,title:ee.occupationType==="reserved"?`${ee.dateStr} - 🔒 RESERVADO POR CLIENTE (No se puede modificar)`:ee.occupationType==="manual"?`${ee.dateStr} - 🚫 Bloqueado por administración (click para liberar)`:ee.isPast?`${ee.dateStr} - Fecha pasada (click para bloquear)`:`${ee.dateStr} - ✅ Disponible (click para bloquear)`,onClick:()=>W(ee),children:[e.jsx("span",{className:"day-number",children:ee.day}),ee.isOccupied&&e.jsx("div",{className:"occupied-indicator",children:e.jsx("i",{className:`fas ${ee.occupationType==="reserved"?"fa-user":"fa-ban"}`})}),ee.isInSelectedRange&&e.jsx("div",{className:"range-overlay"})]},ce))})]}),e.jsxs("div",{className:"calendar-legend",children:[e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-dot available"}),e.jsx("span",{children:"✅ Disponible (click para bloquear)"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-dot reserved"}),e.jsx("span",{children:"🔒 Reservado por cliente (PROTEGIDO)"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-dot manual"}),e.jsx("span",{children:"🚫 Bloqueado por admin (click para liberar)"})]}),e.jsxs("div",{className:"legend-item",children:[e.jsx("div",{className:"legend-dot today"}),e.jsx("span",{children:"📅 Día actual"})]})]}),b.length>0&&e.jsxs("div",{className:"upcoming-reservations",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-clock"}),"Próximas ocupaciones"]}),e.jsxs("div",{className:"reservation-list",children:[b.filter(ee=>new Date(ee)>=G).slice(0,3).map((ee,ce)=>e.jsxs("div",{className:"reservation-item",children:[e.jsx("i",{className:"fas fa-calendar-day"}),e.jsx("span",{children:new Date(ee).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),e.jsx("span",{className:"reservation-type",children:L.includes(ee)?x.includes(ee)?"Removida":"Reserva":"Manual"})]},ce)),b.filter(ee=>new Date(ee)>=G).length>3&&e.jsxs("div",{className:"more-reservations",children:["+",b.filter(ee=>new Date(ee)>=G).length-3," más..."]})]})]})]})]}):null}function Cg({properties:c}){const[o,f]=p.useState([]),[u,b]=p.useState(!0),g=p.useRef(!1);if(p.useEffect(()=>{const M=async()=>{if(g.current)return;g.current=!0,b(!0);const E=await Promise.all(c.map(async C=>{try{console.log(`📊 Cargando ocupación real para ${C.id}`);let L;try{L=await bi.getByProperty(C.id)}catch{L={data:[]}}const P=L.data||L||[];P.length>0&&console.log(`📊 Reservas reales para ${C.id}: Array(${P.length})`);const x=[];Array.isArray(P)&&P.forEach(q=>{if(q.status==="confirmed"||q.status==="pending"){const T=new Date(q.checkIn),w=new Date(q.checkOut);for(let R=new Date(T);R<=w;R.setDate(R.getDate()+1))x.push(new Date(R).toISOString().split("T")[0])}});const z=new Date,v=z.getMonth(),d=z.getFullYear(),N=new Date(d,v+1,0).getDate(),m=x.filter(q=>{const T=new Date(q);return T.getMonth()===v&&T.getFullYear()===d}).length,B=Math.round(m/N*100);return{propertyId:C.id,propertyTitle:C.title,totalReservations:Array.isArray(P)?P.length:0,occupiedDates:x.length,occupiedThisMonth:m,daysInMonth:N,occupancyRate:B,isBlocked:C.isBlocked||!1}}catch(L){return console.error(`❌ Error cargando ocupación para ${C.id}:`,L),{propertyId:C.id,propertyTitle:C.title,totalReservations:0,occupiedDates:0,occupiedThisMonth:0,daysInMonth:new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),occupancyRate:0,isBlocked:C.isBlocked||!1}}}));f(E),b(!1),g.current=!1};c&&c.length>0?M():g.current=!1},[c]),u)return e.jsxs("div",{className:"occupancy-summary loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Cargando estadísticas de ocupación..."]});const h=o.length,A=h>0?Math.round(o.reduce((M,E)=>M+E.occupancyRate,0)/h):0,D=o.reduce((M,E)=>M+E.totalReservations,0),k=o.filter(M=>M.isBlocked).length;return e.jsxs("div",{className:"occupancy-summary",children:[e.jsx("div",{className:"summary-header",children:e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-chart-pie"}),"Resumen de Ocupación - ",new Date().toLocaleDateString("es-ES",{month:"long",year:"numeric"})]})}),e.jsxs("div",{className:"summary-stats",children:[e.jsxs("div",{className:"stat-card-summary",children:[e.jsx("div",{className:"stat-icon-summary occupancy",children:e.jsx("i",{className:"fas fa-percentage"})}),e.jsxs("div",{className:"stat-content-summary",children:[e.jsxs("h3",{children:[A,"%"]}),e.jsx("p",{children:"Ocupación Promedio"})]})]}),e.jsxs("div",{className:"stat-card-summary",children:[e.jsx("div",{className:"stat-icon-summary reservations",children:e.jsx("i",{className:"fas fa-calendar-check"})}),e.jsxs("div",{className:"stat-content-summary",children:[e.jsx("h3",{children:D}),e.jsx("p",{children:"Reservas Activas"})]})]}),e.jsxs("div",{className:"stat-card-summary",children:[e.jsx("div",{className:"stat-icon-summary available",children:e.jsx("i",{className:"fas fa-home"})}),e.jsxs("div",{className:"stat-content-summary",children:[e.jsx("h3",{children:h-k}),e.jsx("p",{children:"Disponibles"})]})]}),e.jsxs("div",{className:"stat-card-summary",children:[e.jsx("div",{className:"stat-icon-summary blocked",children:e.jsx("i",{className:"fas fa-lock"})}),e.jsxs("div",{className:"stat-content-summary",children:[e.jsx("h3",{children:k}),e.jsx("p",{children:"Bloqueadas"})]})]})]}),e.jsxs("div",{className:"properties-summary",children:[e.jsxs("h5",{children:[e.jsx("i",{className:"fas fa-list"}),"Estado por Propiedad"]}),e.jsx("div",{className:"properties-list",children:o.map(M=>e.jsxs("div",{className:`property-summary-item ${M.isBlocked?"blocked":""}`,children:[e.jsxs("div",{className:"property-name",children:[e.jsx("i",{className:`fas fa-${M.isBlocked?"lock":"home"}`}),M.propertyTitle]}),e.jsxs("div",{className:"property-stats",children:[e.jsxs("span",{className:`occupancy-badge ${Ag(M.occupancyRate)}`,children:[M.occupancyRate,"%"]}),e.jsxs("span",{className:"days-info",children:[M.occupiedThisMonth,"/",M.daysInMonth," días"]})]})]},M.propertyId))})]})]})}function Ag(c){return c>=70?"high":c>=40?"medium":"low"}function _m({onEditProperty:c}){const{getAllProperties:o,updateProperty:f,deleteProperty:u}=Xe(),b=o(),g=Object.values(b),[h,A]=p.useState("overview"),D=g.length,k=D>0?g.reduce((v,d)=>{var B;const N=(B=d.prices)==null?void 0:B.monthly,m=typeof N=="number"?N:parseInt(String(N||"0").replace(/[^\d]/g,""));return v+(isNaN(m)?0:m)},0)/D:0,M=D>0?g.reduce((v,d)=>{var B;const N=(B=d.prices)==null?void 0:B.daily,m=typeof N=="number"?N:parseInt(String(N||"0").replace(/[^\d]/g,""));return v+(isNaN(m)?0:m)},0)/D:0,E=new Set;g.forEach(v=>{if(v.address){const d=v.address.toLowerCase();d.includes("san telmo")||d.includes("moldes")?E.add("San Telmo"):d.includes("barracas")||d.includes("santa fe")?E.add("Barracas"):(d.includes("puerto madero")||d.includes("dorrego")||d.includes("convencion")||d.includes("ugarteche"))&&E.add("Puerto Madero")}});const C=E.size||3,L=v=>{const N={"moldes-1680":"/departamentos/moldes-1680","santa-fe-3770":"/departamentos/santa-fe-3770","dorrego-1548":"/departamentos/dorrego-1548","convencion-1994":"/departamentos/convencion-1994","ugarteche-2824":"/departamentos/ugarteche-2824"}[v];if(N){window.open(N,"_blank");return}const m=`/departamentos/${v}`;window.open(m,"_blank")},P=async v=>{const d=b[v];if(d!=null&&d.isBlocked){alert("La propiedad ya está bloqueada");return}try{console.log(`🔒 Bloqueando propiedad ${v}`),await f(v,{isBlocked:!0,blockReason:"Bloqueado desde panel admin",blockedAt:new Date().toISOString()}),console.log(`✅ Propiedad ${v} bloqueada exitosamente`)}catch(N){console.error(`❌ Error al bloquear ${v}:`,N),alert(`Error al bloquear la propiedad: ${N.message}`)}},x=async v=>{const d=b[v];if(!(d!=null&&d.isBlocked)){alert("La propiedad ya está desbloqueada");return}try{await f(v,{isBlocked:!1,blockReason:null,blockedAt:null})}catch(N){alert(`Error al desbloquear la propiedad: ${N.message}`)}},z=async v=>{const d=b[v],N=(d==null?void 0:d.title)||"esta propiedad";if(["moldes-1680","santa-fe-3770","dorrego-1548","convencion-1994","ugarteche-2824"].includes(v)){alert("⚠️ No se puede eliminar esta propiedad porque tiene archivos y página estática asociada.");return}if(window.confirm(`¿Eliminar "${N}" permanentemente?`))try{console.log("🗑️ Dashboard: Eliminando propiedad:",v),await u(v),console.log("✅ Dashboard: Propiedad eliminada exitosamente"),alert("✅ Propiedad eliminada exitosamente")}catch(q){console.error("❌ Dashboard: Error al eliminar propiedad:",q),alert(`❌ Error al eliminar la propiedad: ${q.message}`)}};return e.jsxs("div",{className:"dashboard",style:{backgroundColor:"transparent !important"},children:[e.jsxs("div",{className:"dashboard-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-chart-line"}),"Dashboard"]}),e.jsx("p",{children:"Resumen general de las propiedades de BACONFORT"}),e.jsxs("div",{className:"dashboard-nav",children:[e.jsxs("button",{className:`nav-btn ${h==="overview"?"active":""}`,onClick:()=>A("overview"),children:[e.jsx("i",{className:"fas fa-chart-line"}),"Resumen General"]}),e.jsxs("button",{className:`nav-btn ${h==="calendars"?"active":""}`,onClick:()=>A("calendars"),children:[e.jsx("i",{className:"fas fa-calendar-alt"}),"Calendarios de Ocupación"]})]})]}),e.jsx("div",{className:"new-property-tools",style:{marginBottom:"2rem"},children:e.jsxs("div",{className:"card border-primary",children:[e.jsx("div",{className:"card-header bg-primary text-white",children:e.jsxs("h5",{className:"mb-0",children:[e.jsx("i",{className:"fas fa-plus-circle me-2"}),"Herramientas para Propiedades Nuevas"]})}),e.jsx("div",{className:"card-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("div",{className:"d-grid",children:e.jsxs("button",{className:"btn btn-success btn-lg",onClick:()=>window.location.href="/admin/new-property",children:[e.jsx("i",{className:"fas fa-plus me-2"}),"Crear Nueva Propiedad"]})}),e.jsx("small",{className:"text-muted mt-2 d-block",children:"Crea propiedades completamente nuevas sin afectar las existentes"})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("div",{className:"d-grid",children:e.jsxs("button",{className:"btn btn-info btn-lg",onClick:()=>window.location.href="/admin/manage-new-properties",children:[e.jsx("i",{className:"fas fa-cogs me-2"}),"Gestionar Propiedades Nuevas"]})}),e.jsx("small",{className:"text-muted mt-2 d-block",children:"Administra solo las propiedades que creaste (no las existentes)"})]})]})})]})}),h==="overview"&&e.jsxs("div",{className:"dashboard-section",children:[e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon buildings",children:e.jsx("i",{className:"fas fa-building"})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:D}),e.jsx("p",{children:"Propiedades Totales"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon price",children:e.jsx("i",{className:"fas fa-dollar-sign"})}),e.jsxs("div",{className:"stat-content",children:[e.jsxs("h3",{children:["USD ",Math.round(k)]}),e.jsx("p",{children:"Precio Promedio Mensual"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon daily",children:e.jsx("i",{className:"fas fa-calendar-day"})}),e.jsxs("div",{className:"stat-content",children:[e.jsxs("h3",{children:["USD ",Math.round(M)]}),e.jsx("p",{children:"Precio Promedio Diario"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("div",{className:"stat-icon location",children:e.jsx("i",{className:"fas fa-map-marker-alt"})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("h3",{children:C}),e.jsx("p",{children:"Zonas Cubiertas"})]})]})]}),e.jsxs("div",{className:"properties-overview",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-list"}),"Gestión de Propiedades"]}),e.jsx("div",{className:"properties-grid",children:g.filter(v=>v&&v.id).map(v=>{var d,N;return e.jsxs("div",{className:`property-card ${v.isBlocked?"blocked":""}`,children:[e.jsxs("div",{className:"property-image",children:[e.jsx("img",{src:v.coverImage||"/img/logo.jpg",alt:v.title||"Propiedad",onError:m=>{m.target.src="/img/logo.jpg"}}),v.isBlocked&&e.jsxs("div",{className:"blocked-overlay",children:[e.jsx("i",{className:"fas fa-lock"}),e.jsx("span",{children:"BLOQUEADO"})]})]}),e.jsxs("div",{className:"property-info",children:[e.jsx("h4",{children:v.title||"Sin título"}),e.jsxs("p",{className:"property-address",children:[e.jsx("i",{className:"fas fa-map-marker-alt"}),v.address||"Sin dirección"]}),e.jsxs("div",{className:"property-prices",children:[e.jsxs("span",{className:"price-tag monthly",children:[e.jsx("i",{className:"fas fa-calendar"}),((d=v.prices)==null?void 0:d.monthly)||"N/A","/mes"]}),e.jsxs("span",{className:"price-tag daily",children:[e.jsx("i",{className:"fas fa-calendar-day"}),((N=v.prices)==null?void 0:N.daily)||"N/A","/día"]})]}),e.jsxs("div",{className:"property-actions",children:[e.jsxs("div",{className:"main-actions",children:[e.jsxs("button",{className:"btn btn-primary btn-sm",onClick:()=>c(v.id),children:[e.jsx("i",{className:"fas fa-edit"}),"Editar"]}),e.jsxs("button",{className:"btn btn-outline-secondary btn-sm",onClick:()=>L(v.id),title:`Ver página de ${v.title}`,children:[e.jsx("i",{className:"fas fa-eye"}),"Ver"]}),!["moldes-1680","santa-fe-3770","dorrego-1548","convencion-1994","ugarteche-2824"].includes(v.id)&&e.jsxs("button",{className:"btn btn-danger btn-sm",onClick:()=>z(v.id),title:`Eliminar "${v.title}" permanentemente`,children:[e.jsx("i",{className:"fas fa-trash-alt"}),"Eliminar"]})]}),e.jsxs("div",{className:"block-actions",style:{zIndex:9999,position:"relative"},children:[e.jsxs("button",{className:`btn btn-sm ${v.isBlocked?"btn-secondary":"btn-warning"}`,onClick:m=>{m.preventDefault(),m.stopPropagation(),P(v.id)},disabled:v.isBlocked,title:"Bloquear propiedad como ocupada",style:{zIndex:1e4,position:"relative",pointerEvents:v.isBlocked?"none":"auto"},children:[e.jsx("i",{className:"fas fa-lock"}),"Bloquear"]}),e.jsxs("button",{className:`btn btn-sm ${v.isBlocked?"btn-success":"btn-secondary"}`,onClick:m=>{m.preventDefault(),m.stopPropagation(),x(v.id)},disabled:!v.isBlocked,title:"Desbloquear propiedad para reservas",style:{zIndex:1e4,position:"relative",pointerEvents:v.isBlocked?"auto":"none"},children:[e.jsx("i",{className:"fas fa-unlock"}),"Desbloquear"]})]})]})]})]},v.id)})})]})]}),h==="calendars"&&e.jsxs("div",{className:"dashboard-section",children:[e.jsxs("div",{className:"calendars-dashboard-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-calendar-week"}),"Calendarios de Ocupación por Propiedad"]}),e.jsx("div",{className:"calendars-dashboard-grid",children:g.length>0?g.map(v=>e.jsxs("div",{className:"calendar-dashboard-item",children:[e.jsx("div",{className:"calendar-dashboard-title",children:v.title}),e.jsx(Dg,{propertyId:v.id,propertyTitle:v.title,isVisible:!0})]},v.id)):e.jsxs("div",{className:"no-properties-message",children:[e.jsx("i",{className:"fas fa-calendar-times"}),e.jsx("h4",{children:"No hay propiedades disponibles"}),e.jsx("p",{children:"Agrega propiedades para ver sus calendarios"})]})})]}),e.jsxs("div",{className:"summary-dashboard-section",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-chart-pie"}),"Resumen de Ocupación"]}),e.jsx(Cg,{properties:g})]})]})]})}function kg(){const{getAllProperties:c}=Xe(),[o,f]=p.useState(null),[u,b]=p.useState(!1),[g,h]=p.useState(""),[A,D]=p.useState([]),[k,M]=p.useState([]),[E,C]=p.useState(!1),[L,P]=p.useState("all"),[x,z]=p.useState({title:"",description:"",propertyId:"",propertyName:"",discountType:"percentage",discountValue:0,originalPrice:0,promotionalPrice:0,validFrom:"",validTo:"",durationType:"monthly",durationValue:1,image:"",terms:"",priority:0,isActive:!0,isFeatured:!1,maxRedemptions:null,currentRedemptions:0}),v={"moldes-1680":{monthly:1100,weekly:350,daily:65},"santafe-3770":{monthly:1300,weekly:420,daily:75},"santa-fe-3770":{monthly:1300,weekly:420,daily:75},"dorrego-1548":{monthly:1150,weekly:380,daily:70},"convencion-1994":{monthly:1200,weekly:400,daily:70},"ugarteche-2824":{monthly:1250,weekly:410,daily:72}},d=(O,S)=>{if(!O||!S)return 0;const _=v[O];return _&&_[S]||0},N=O=>{if(O.durationType==="monthly")return"monthly";if(O.durationType==="weekly")return"weekly";if(O.durationType==="daily")return"daily";const S=O.originalPrice||O.promotionalPrice||0;return S>=1e3?"monthly":S>=300?"weekly":"daily"},m=()=>L==="all"?k:k.filter(O=>N(O)===L),B=async()=>{if(k.length===0){w("⚠️ No hay promociones para sincronizar","error");return}console.log("🔄 Iniciando sincronización masiva de precios...");let O=0,S=0;for(const _ of k)try{const $=v[_.propertyId];if(!$){console.log(`⚠️ No se encontraron precios base para: ${_.propertyId}`);continue}let ie=null,W=1/0,y=null;if(Object.entries($).forEach(([oe,ee])=>{const ce=Math.abs(_.originalPrice-ee);ce<W&&(W=ce,ie=ee,y=oe)}),W>ie*.05&&ie){const ee=(_.originalPrice-_.promotionalPrice)/_.originalPrice,ce=Math.round(ie*(1-ee)),ue={originalPrice:ie,promotionalPrice:Math.max(ce,1)};console.log(`🔧 Sincronizando "${_.title}":`,{from:`USD ${_.originalPrice} → USD ${_.promotionalPrice}`,to:`USD ${ue.originalPrice} → USD ${ue.promotionalPrice}`,period:y}),await Ha.update(_._id,ue),O++}}catch($){console.error(`❌ Error al sincronizar "${_.title}":`,$),S++}O>0?(w(`✅ ${O} promoción(es) sincronizada(s) exitosamente`),await T()):w("💚 Todas las promociones ya están sincronizadas"),S>0&&w(`⚠️ ${S} error(es) durante la sincronización`,"error")},q=async()=>{var O;console.log("🔄 BOTÓN CREAR PROMOCIONES PRO PRESIONADO");try{const S=[{title:"Descuento por Estadía Prolongada",description:"Disfruta de un 15% de descuento en alquileres mensuales. Ideal para ejecutivos, estudiantes de intercambio o familias que necesitan una estadía extendida en Buenos Aires.",propertyId:"moldes-1680",propertyName:"Belgrano Family Retreat",originalPrice:1100,promotionalPrice:935,validFrom:"2025-07-07",validTo:"2025-12-31",isActive:!0,isFeatured:!0,priority:1,terms:"Válido para reservas mensuales. No acumulable con otras ofertas.",discountType:"percentage",discountValue:15},{title:"Oferta de Temporada Baja",description:"Aprovecha precios especiales durante los meses de invierno. Departamento completamente equipado con calefacción central y todas las comodidades.",propertyId:"dorrego-1548",propertyName:"Dorrego 1548",originalPrice:1150,promotionalPrice:1012,validFrom:"2025-07-07",validTo:"2025-09-30",isActive:!0,isFeatured:!0,priority:2,terms:"Válido para los meses de julio, agosto y septiembre.",discountType:"percentage",discountValue:12},{title:"Primera Reserva - Bienvenido a BACONFORT",description:"Obtén un descuento especial en tu primera reserva con nosotros. Experimenta la calidad y comodidad que nos caracteriza.",propertyId:"convencion-1994",propertyName:"Convención 1994",originalPrice:1200,promotionalPrice:1050,validFrom:"2025-07-07",validTo:"2025-12-31",isActive:!0,isFeatured:!0,priority:3,terms:"Válido solo para clientes nuevos. Aplica a cualquier tipo de estadía.",discountType:"percentage",discountValue:12.5}];console.log("🏭 Creando promociones de producción...",S),w("🔄 Creando promociones profesionales...","info");let _=0,$=[];for(const ie of S)try{console.log(`📤 Enviando promoción: "${ie.title}"`);const W=await Ha.create(ie);_++,console.log(`✅ Creada exitosamente: "${ie.title}"`,W)}catch(W){console.error(`❌ Error al crear "${ie.title}":`,W),console.error("📄 Detalles del error:",((O=W.response)==null?void 0:O.data)||W.message),$.push(`${ie.title}: ${W.message}`)}_>0&&(w(`✅ ${_} promociones de producción creadas exitosamente`),await T()),$.length>0&&(console.error("❌ Errores durante la creación:",$),w(`⚠️ ${_} creadas, ${$.length} errores. Ver consola para detalles.`,"warning")),_===0&&w("❌ No se pudo crear ninguna promoción. Ver consola para detalles.","error")}catch(S){console.error("❌ Error general en createProductionPromotions:",S),w("❌ Error al crear promociones: "+S.message,"error")}};p.useEffect(()=>{(async()=>{try{const S=c(),_=Object.entries(S).map(([$,ie])=>({id:$,...ie}));D(_)}catch(S){console.error("❌ Error al cargar propiedades:",S)}})(),T()},[c]),p.useEffect(()=>{const O=setInterval(()=>{console.log("🔄 Recargando promociones automáticamente..."),T()},3e4);return()=>clearInterval(O)},[]);const T=async()=>{try{C(!0);const O=await Ha.getAll({active:"all",_t:new Date().getTime()});console.log("🔄 Promociones cargadas:",O.data),M(O.data||[])}catch(O){console.error("❌ Error cargando promociones:",O),M([])}finally{C(!1)}},w=(O,S="success")=>{h({text:O,type:S}),setTimeout(()=>h(""),3e3)},R=async(O,S)=>{try{console.log("🔄 Actualizando promoción:",O),console.log("📝 Datos a actualizar:",S),S.hasOwnProperty("durationType")||console.log("⚠️ durationType no estaba incluido en la actualización");const _=await Ha.update(O,S);console.log("✅ Respuesta del servidor:",_),f(null),w("✅ Promoción actualizada"),S.durationType&&console.log(`🔄 Cambio de durationType detectado: ${S.durationType}`),await T(),M($=>{const ie=$.map(W=>W._id===O?{...W,...S}:W);return console.log("📊 Conteo actualizado:",{total:ie.length,monthly:ie.filter(W=>W.durationType==="monthly").length,weekly:ie.filter(W=>W.durationType==="weekly").length,daily:ie.filter(W=>W.durationType==="daily").length}),ie})}catch(_){console.error("❌ Error al actualizar promoción:",_),w("❌ Error al actualizar promoción: "+_.message,"error")}},U=async O=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta promoción?"))try{await Ha.delete(O),w("✅ Promoción eliminada"),await T()}catch(S){console.error("❌ Error al eliminar promoción:",S),w("❌ Error al eliminar promoción: "+S.message,"error")}},F=async O=>{console.log("🔄 TOGGLE STATUS: Iniciando cambio de estado para ID:",O);try{const S=await Ha.toggleStatus(O);console.log("✅ TOGGLE STATUS: Respuesta exitosa:",S),w("✅ Estado actualizado"),await T()}catch(S){console.error("❌ TOGGLE STATUS: Error completo:",S),console.error("❌ TOGGLE STATUS: Error message:",S.message),console.error("❌ TOGGLE STATUS: Error response:",S.response),w("❌ Error al cambiar estado: "+(S.message||"Error desconocido"),"error")}},G=async(O,S)=>{console.log("🔄 PRIORITY CHANGE: Iniciando cambio de prioridad:",{id:O,newPriority:S});const _=parseInt(S);if(isNaN(_)||_<0||_>10){console.warn("⚠️ PRIORITY CHANGE: Prioridad inválida:",S),w("⚠️ La prioridad debe ser un número entre 0 y 10","error");return}try{const $=await Ha.updatePriority(O,_);console.log("✅ PRIORITY CHANGE: Respuesta exitosa:",$),w("✅ Prioridad actualizada"),await T()}catch($){console.error("❌ PRIORITY CHANGE: Error completo:",$),console.error("❌ PRIORITY CHANGE: Error message:",$.message),console.error("❌ PRIORITY CHANGE: Error response:",$.response),w("❌ Error al cambiar prioridad: "+($.message||"Error desconocido"),"error")}},ae=async(O,S)=>{if(console.log(`📧 SEND TO SUBSCRIBERS: Enviando promoción "${S}" a suscriptores...`),!!confirm(`¿Enviar la promoción "${S}" a todos los suscriptores?`))try{const _=await Ha.sendToSubscribers(O);console.log("✅ SEND TO SUBSCRIBERS: Éxito:",_),w(`✅ Promoción "${S}" enviada exitosamente a todos los suscriptores`)}catch(_){console.error("❌ SEND TO SUBSCRIBERS: Error completo:",_),w(`❌ Error al enviar promoción: ${_.message}`,"error")}},Y=async()=>{console.log("🔧 AGREGANDO PROMOCIÓN:",x);try{if(!x.title||!x.description||!x.propertyId){w("❌ Por favor completa todos los campos obligatorios (título, descripción, propiedad)","error");return}if(!x.originalPrice||!x.promotionalPrice){w("❌ Por favor ingresa los precios original y promocional","error");return}if(x.promotionalPrice>=x.originalPrice){w("❌ El precio promocional debe ser menor al precio original","error");return}if(!x.validFrom||!x.validTo){w("❌ Por favor selecciona las fechas de validez","error");return}const O=new Date(x.validFrom);if(new Date(x.validTo)<=O){w("❌ La fecha de fin debe ser posterior a la fecha de inicio","error");return}console.log("📝 Creando promoción:",x);const _=await Ha.create(x);console.log("✅ Promoción creada exitosamente:",_),w("✅ Promoción creada exitosamente"),z({title:"",description:"",propertyId:"",propertyName:"",discountType:"percentage",discountValue:0,originalPrice:0,promotionalPrice:0,validFrom:"",validTo:"",durationType:"custom",durationValue:1,image:"",terms:"",priority:0,isActive:!0,isFeatured:!1,maxRedemptions:null,currentRedemptions:0}),b(!1),await T()}catch(O){console.error("❌ Error al crear promoción:",O),w("❌ Error al crear promoción: "+(O.message||"Error desconocido"),"error")}};return e.jsxs("div",{className:"promotion-manager",children:[e.jsxs("div",{className:"promotion-header",style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px",flexWrap:"wrap",gap:"10px"},children:[e.jsx("h2",{children:"🎯 Gestión de Promociones"}),e.jsxs("div",{style:{display:"flex",gap:"10px",flexWrap:"wrap"},children:[e.jsx("button",{onClick:B,style:{padding:"12px 20px",fontSize:"14px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:O=>{O.target.style.backgroundColor="#218838",O.target.style.transform="scale(1.05)"},onMouseLeave:O=>{O.target.style.backgroundColor="#28a745",O.target.style.transform="scale(1)"},children:"⚡ Sincronizar Precios"}),e.jsx("button",{onClick:O=>{console.log("🔄 CLICK EN BOTÓN CREAR PROMOCIONES PRO"),console.log("📊 Event:",O),console.log("🎯 Ejecutando createProductionPromotions..."),O.preventDefault(),O.stopPropagation(),q()},style:{padding:"12px 20px",fontSize:"14px",backgroundColor:"#6f42c1",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(111, 66, 193, 0.3)"},onMouseEnter:O=>{O.target.style.backgroundColor="#5a2d91",O.target.style.transform="scale(1.05)",O.target.style.boxShadow="0 4px 8px rgba(111, 66, 193, 0.5)"},onMouseLeave:O=>{O.target.style.backgroundColor="#6f42c1",O.target.style.transform="scale(1)",O.target.style.boxShadow="0 2px 4px rgba(111, 66, 193, 0.3)"},title:"Crear 3 promociones profesionales predefinidas",children:"🏭 Crear Promociones Pro"}),e.jsx("button",{className:"btn-add",onClick:()=>b(!0),style:{padding:"15px 30px",fontSize:"18px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"8px"},children:"➕ Agregar Nueva Promoción"})]})]}),g&&e.jsx("div",{className:`message ${g.type}`,children:g.text}),e.jsxs("div",{className:"promotions-list",style:{backgroundColor:"#f0f0f0",padding:"20px",borderRadius:"10px"},children:[e.jsxs("h3",{style:{color:"#333",fontSize:"24px",textAlign:"center",marginBottom:"20px"},children:["📋 Promociones Existentes (",m().length," de ",k.length,")"]}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"15px",marginBottom:"30px",flexWrap:"wrap"},children:[e.jsxs("button",{onClick:()=>P("all"),style:{backgroundColor:L==="all"?"#007bff":"#6c757d",color:"white",border:"none",padding:"12px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.2s"},children:["🌟 Todas (",k.length,")"]}),e.jsxs("button",{onClick:()=>P("monthly"),style:{backgroundColor:L==="monthly"?"#28a745":"#6c757d",color:"white",border:"none",padding:"12px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.2s"},children:["📅 Mensuales (",k.filter(O=>O.durationType==="monthly").length,")"]}),e.jsxs("button",{onClick:()=>P("weekly"),style:{backgroundColor:L==="weekly"?"#ffc107":"#6c757d",color:L==="weekly"?"#212529":"white",border:"none",padding:"12px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.2s"},children:["📆 Semanales (",k.filter(O=>O.durationType==="weekly").length,")"]}),e.jsxs("button",{onClick:()=>P("daily"),style:{backgroundColor:L==="daily"?"#17a2b8":"#6c757d",color:"white",border:"none",padding:"12px 20px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold",transition:"all 0.2s"},children:["🌅 Diarias (",k.filter(O=>O.durationType==="daily").length,")"]})]}),E?e.jsxs("div",{className:"loading",style:{textAlign:"center",padding:"40px"},children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Cargando promociones..."})]}):m().length===0?e.jsx("div",{className:"no-promotions",style:{textAlign:"center",padding:"40px"},children:k.length===0?e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"No hay promociones creadas aún."}),e.jsx("button",{onClick:()=>b(!0),children:"Crear Primera Promoción"})]}):e.jsx("p",{children:"No hay promociones en la categoría seleccionada."})}):e.jsx("div",{children:m().map(O=>{const S=O.durationType||"monthly",_={monthly:{label:"📅 Mensual",color:"#28a745"},weekly:{label:"📆 Semanal",color:"#ffc107"},daily:{label:"🌅 Diaria",color:"#17a2b8"},custom:{label:"🎯 Personalizada",color:"#6c757d"}};return e.jsxs("div",{style:{backgroundColor:"#ffffff",border:"4px solid #dc3545",borderRadius:"12px",margin:"20px 0",padding:"25px",boxShadow:"0 6px 12px rgba(220,53,69,0.3)"},children:[e.jsxs("div",{style:{backgroundColor:"#f8f9fa",padding:"20px",borderRadius:"10px",marginBottom:"25px",border:"2px solid #007bff",position:"relative"},children:[e.jsx("div",{style:{position:"absolute",top:"-10px",left:"10px",backgroundColor:_[S].color,color:S==="weekly"?"#212529":"white",padding:"4px 12px",borderRadius:"15px",fontSize:"12px",fontWeight:"bold",zIndex:2},children:_[S].label}),(O.title.toLowerCase().includes("test")||O.title.toLowerCase().includes("prueba")||O.title.toLowerCase().includes("demo")||O.title.includes("2 Semanas"))&&e.jsx("div",{style:{position:"absolute",top:"-10px",right:"10px",backgroundColor:"#ff4757",color:"white",padding:"4px 12px",borderRadius:"15px",fontSize:"12px",fontWeight:"bold",animation:"pulse 2s infinite"},children:"🧪 PRUEBA/TEST"}),e.jsxs("h2",{style:{color:"#dc3545",fontSize:"22px",marginBottom:"15px"},children:["🎯 ",O.title]}),e.jsxs("p",{style:{fontSize:"16px",marginBottom:"12px"},children:["🏠 ",e.jsx("strong",{children:"Propiedad:"})," ",O.propertyName]}),e.jsxs("p",{style:{fontSize:"16px",marginBottom:"12px"},children:["⏰ ",e.jsx("strong",{children:"Duración:"})," ",O.durationType==="monthly"?"📅 Mensual":O.durationType==="weekly"?"📆 Semanal":O.durationType==="daily"?"📰 Diario":"🎯 Personalizada"]}),e.jsxs("p",{style:{fontSize:"16px",marginBottom:"12px"},children:["💰 ",e.jsx("strong",{children:"Precio:"})," USD ",O.originalPrice," → USD ",O.promotionalPrice,(()=>{const ie=((O.originalPrice-O.promotionalPrice)/O.originalPrice*100).toFixed(1);return e.jsxs("span",{style:{color:"#28a745",fontWeight:"bold",marginLeft:"10px"},children:["(",ie,"% OFF)"]})})()]}),e.jsxs("p",{style:{fontSize:"16px",marginBottom:"12px"},children:["📅 ",e.jsx("strong",{children:"Válida:"})," ",new Date(O.validFrom).toLocaleDateString()," - ",new Date(O.validTo).toLocaleDateString()]}),e.jsxs("p",{style:{fontSize:"18px",fontWeight:"bold"},children:["🟢 Estado: ",e.jsx("span",{style:{color:O.isActive?"green":"red"},children:O.isActive?"ACTIVA":"INACTIVA"}),O.isFeatured&&e.jsx("span",{style:{backgroundColor:"#ffd700",color:"#333",padding:"2px 8px",borderRadius:"10px",fontSize:"12px",marginLeft:"10px"},children:"⭐ DESTACADA"})]})]}),e.jsxs("div",{style:{backgroundColor:"#fff3cd",border:"3px solid #ffc107",borderRadius:"12px",padding:"25px",textAlign:"center"},children:[e.jsx("h3",{style:{color:"#856404",fontSize:"20px",marginBottom:"20px",fontWeight:"bold"},children:"🔧 CONTROLES DE ADMINISTRACIÓN 🔧"}),e.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>{console.log("EDITANDO:",O.title),f(O)},style:{backgroundColor:"#28a745",color:"#ffffff",border:"3px solid #155724",borderRadius:"8px",padding:"15px 25px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",minWidth:"120px",minHeight:"60px",boxShadow:"0 4px 8px rgba(40,167,69,0.3)",transition:"all 0.2s"},onMouseEnter:$=>{$.target.style.transform="scale(1.05)",$.target.style.backgroundColor="#218838"},onMouseLeave:$=>{$.target.style.transform="scale(1)",$.target.style.backgroundColor="#28a745"},children:"✏️ EDITAR"}),e.jsx("button",{onClick:()=>{confirm(`¿ELIMINAR "${O.title}"?`)&&U(O._id)},style:{backgroundColor:"#dc3545",color:"#ffffff",border:"3px solid #721c24",borderRadius:"8px",padding:"15px 25px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",minWidth:"120px",minHeight:"60px",boxShadow:"0 4px 8px rgba(220,53,69,0.3)",transition:"all 0.2s"},onMouseEnter:$=>{$.target.style.transform="scale(1.05)",$.target.style.backgroundColor="#c82333"},onMouseLeave:$=>{$.target.style.transform="scale(1)",$.target.style.backgroundColor="#dc3545"},children:"🗑️ ELIMINAR"}),e.jsx("button",{onClick:$=>{console.log("🔄 BOTÓN PAUSAR/ACTIVAR PRESIONADO"),console.log("📊 Promoción:",O.title),console.log("📋 ID:",O._id),console.log("🔄 Estado actual:",O.isActive?"ACTIVA":"INACTIVA"),console.log("🎯 Nuevo estado será:",O.isActive?"INACTIVA":"ACTIVA"),$.preventDefault(),$.stopPropagation(),F(O._id)},style:{backgroundColor:O.isActive?"#ffc107":"#17a2b8",color:O.isActive?"#212529":"#ffffff",border:`3px solid ${O.isActive?"#d39e00":"#117a8b"}`,borderRadius:"8px",padding:"15px 25px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",minWidth:"120px",minHeight:"60px",boxShadow:`0 4px 8px ${O.isActive?"rgba(255,193,7,0.3)":"rgba(23,162,184,0.3)"}`,transition:"all 0.2s"},onMouseEnter:$=>{$.target.style.transform="scale(1.05)"},onMouseLeave:$=>{$.target.style.transform="scale(1)"},children:O.isActive?"⏸️ PAUSAR":"▶️ ACTIVAR"}),e.jsx("button",{onClick:$=>{console.log("📧 BOTÓN ENVIAR A SUSCRIPTORES PRESIONADO"),console.log("📊 Promoción:",O.title),console.log("📋 ID:",O._id),$.preventDefault(),$.stopPropagation(),ae(O._id,O.title)},style:{backgroundColor:"#6f42c1",color:"#ffffff",border:"3px solid #4c2a85",borderRadius:"8px",padding:"15px 25px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",minWidth:"120px",minHeight:"60px",boxShadow:"0 4px 8px rgba(111,66,193,0.3)",transition:"all 0.2s"},onMouseEnter:$=>{$.target.style.transform="scale(1.05)",$.target.style.backgroundColor="#5a2d91"},onMouseLeave:$=>{$.target.style.transform="scale(1)",$.target.style.backgroundColor="#6f42c1"},children:"📧 ENVIAR A SUSCRIPTORES"}),e.jsxs("div",{style:{backgroundColor:"#6f42c1",border:"3px solid #4c2a85",borderRadius:"8px",padding:"15px 25px",minWidth:"120px",minHeight:"60px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 8px rgba(111,66,193,0.3)"},children:[e.jsx("label",{style:{color:"#ffffff",fontSize:"14px",fontWeight:"bold",marginBottom:"8px"},children:"⭐ PRIORIDAD"}),e.jsx("input",{type:"number",defaultValue:O.priority||0,min:"0",max:"10",onBlur:$=>{const ie=$.target.value,W=O.priority||0;parseInt(ie)!==W&&(console.log("🔄 PRIORIDAD CAMBIÓ:",{promocion:O.title,anterior:W,nueva:ie}),G(O._id,ie))},onKeyPress:$=>{$.key==="Enter"&&$.target.blur()},style:{width:"60px",padding:"8px",textAlign:"center",border:"2px solid #4c2a85",borderRadius:"4px",fontSize:"14px",fontWeight:"bold"},title:"Presiona Enter o haz click fuera para guardar"})]})]})]})]},O._id)})})]}),o&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"15px",maxWidth:"600px",width:"90%",maxHeight:"80%",overflow:"auto"},children:[e.jsxs("h3",{children:["✏️ Editando: ",o.title]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Título:"}),e.jsx("input",{type:"text",value:o.title,onChange:O=>f(S=>({...S,title:O.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"}})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Descripción:"}),e.jsx("textarea",{value:o.description,onChange:O=>f(S=>({...S,description:O.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px",height:"100px"}})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Tipo de Duración:"}),e.jsxs("select",{value:o.durationType||"monthly",onChange:O=>f(S=>({...S,durationType:O.target.value})),style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"},children:[e.jsx("option",{value:"monthly",children:"📅 Mensual"}),e.jsx("option",{value:"weekly",children:"📆 Semanal"}),e.jsx("option",{value:"daily",children:"📰 Diario"}),e.jsx("option",{value:"custom",children:"🎯 Personalizada"})]})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Precio Original:"}),e.jsx("input",{type:"number",value:o.originalPrice,onChange:O=>f(S=>({...S,originalPrice:parseFloat(O.target.value)||0})),style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"}})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"5px",fontWeight:"bold"},children:"Precio Promocional:"}),e.jsx("input",{type:"number",value:o.promotionalPrice,onChange:O=>f(S=>({...S,promotionalPrice:parseFloat(O.target.value)||0})),style:{width:"100%",padding:"10px",border:"1px solid #ccc",borderRadius:"5px"}})]}),e.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"30px"},children:[e.jsx("button",{onClick:()=>R(o._id,o),style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"15px 30px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"✅ Guardar Cambios"}),e.jsx("button",{onClick:()=>f(null),style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"15px 30px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"❌ Cancelar"})]})]})}),u&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:e.jsxs("div",{style:{backgroundColor:"white",padding:"30px",borderRadius:"15px",maxWidth:"700px",width:"90%",maxHeight:"80%",overflow:"auto"},children:[e.jsx("h3",{style:{color:"#007bff",marginBottom:"25px"},children:"➕ Nueva Promoción"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"📝 Título *"}),e.jsx("input",{type:"text",value:x.title,onChange:O=>z(S=>({...S,title:O.target.value})),placeholder:"Ej: Descuento por Estadía Prolongada",style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"}})]}),e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"📄 Descripción *"}),e.jsx("textarea",{value:x.description,onChange:O=>z(S=>({...S,description:O.target.value})),placeholder:"Describe los beneficios y condiciones de la promoción...",rows:"3",style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px",resize:"vertical"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"🏠 Propiedad *"}),e.jsxs("select",{value:x.propertyId,onChange:O=>{const S=A.find($=>$.id===O.target.value),_=O.target.value;z($=>({...$,propertyId:_,propertyName:S?S.title:"",originalPrice:d(_,$.durationType)}))},style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"},children:[e.jsx("option",{value:"",children:"Seleccionar propiedad"}),A.map(O=>e.jsx("option",{value:O.id,children:O.title},O.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"⏱️ Tipo de Duración *"}),e.jsxs("select",{value:x.durationType,onChange:O=>{const S=O.target.value;z(_=>({..._,durationType:S,originalPrice:d(_.propertyId,S)}))},style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"},children:[e.jsx("option",{value:"monthly",children:"📅 Mensual"}),e.jsx("option",{value:"weekly",children:"📆 Semanal"}),e.jsx("option",{value:"daily",children:"🗓️ Diaria"})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"⭐ Prioridad"}),e.jsx("input",{type:"number",min:"0",max:"10",value:x.priority,onChange:O=>z(S=>({...S,priority:parseInt(O.target.value)||0})),style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"💰 Precio Original *"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:x.originalPrice,onChange:O=>z(S=>({...S,originalPrice:parseFloat(O.target.value)||0})),style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"🏷️ Precio Promocional *"}),e.jsx("input",{type:"number",min:"0",step:"0.01",value:x.promotionalPrice,onChange:O=>z(S=>({...S,promotionalPrice:parseFloat(O.target.value)||0})),style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"📅 Fecha de Inicio *"}),e.jsx("input",{type:"date",value:x.validFrom,onChange:O=>z(S=>({...S,validFrom:O.target.value})),style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"📅 Fecha de Fin *"}),e.jsx("input",{type:"date",value:x.validTo,onChange:O=>z(S=>({...S,validTo:O.target.value})),style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px"}})]}),e.jsxs("div",{style:{gridColumn:"1 / -1"},children:[e.jsx("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px"},children:"📋 Términos y Condiciones"}),e.jsx("textarea",{value:x.terms,onChange:O=>z(S=>({...S,terms:O.target.value})),placeholder:"Condiciones específicas de la promoción...",rows:"2",style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"16px",resize:"vertical"}})]}),e.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"20px",flexWrap:"wrap"},children:[e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",checked:x.isActive,onChange:O=>z(S=>({...S,isActive:O.target.checked}))}),"✅ Activar inmediatamente"]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("input",{type:"checkbox",checked:x.isFeatured,onChange:O=>z(S=>({...S,isFeatured:O.target.checked}))}),"⭐ Promoción destacada"]})]}),x.originalPrice>0&&x.promotionalPrice>0&&e.jsxs("div",{style:{gridColumn:"1 / -1",backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"8px"},children:[e.jsx("strong",{children:"📊 Descuento: "}),e.jsxs("span",{style:{color:"#28a745",fontSize:"18px",fontWeight:"bold"},children:[Math.round((x.originalPrice-x.promotionalPrice)/x.originalPrice*100),"%"]}),e.jsxs("span",{style:{marginLeft:"15px",color:"#666"},children:["Ahorro: $",(x.originalPrice-x.promotionalPrice).toFixed(2)]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"15px",marginTop:"30px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:Y,style:{backgroundColor:"#28a745",color:"white",border:"none",padding:"15px 30px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"✅ Crear Promoción"}),e.jsx("button",{onClick:()=>b(!1),style:{backgroundColor:"#6c757d",color:"white",border:"none",padding:"15px 30px",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"❌ Cancelar"})]})]})}),e.jsx("style",{jsx:!0,children:`
        @keyframes pulse {
          0% { opacity: 1; transform: scale(1); }
          50% { opacity: 0.7; transform: scale(1.05); }
          100% { opacity: 1; transform: scale(1); }
        }
        
        .test-promotion-badge {
          animation: pulse 2s infinite;
        }
        
        .production-indicator {
          background: linear-gradient(45deg, #28a745, #20c997);
          color: white;
          padding: 4px 12px;
          border-radius: 15px;
          font-size: 12px;
          font-weight: bold;
        }
        
        @media (max-width: 768px) {
          .promotion-header {
            flex-direction: column;
            align-items: stretch;
          }
          .promotion-header > div {
            justify-content: center;
          }
        }
      `})]})}function Tg(){var R;const{data:c}=Xe(),[o,f]=p.useState({}),[u,b]=p.useState(""),[g,h]=p.useState("departamento"),[A,D]=p.useState({text:"",icon:"fas fa-star"}),[k,M]=p.useState(null),[E,C]=p.useState(null),[L,P]=p.useState(""),[x,z]=p.useState(!1);p.useEffect(()=>{console.log("🚀 AMENITIES SIMPLE: Cargando propiedades desde AdminContext..."),f(c.properties),console.log("✅ AMENITIES SIMPLE: Propiedades cargadas:",Object.keys(c.properties))},[c.properties]);const v={departamento:"Departamento",servicios:"Servicios",amenitiesEdificio:"Amenities del Edificio"},d=async(U,F)=>{console.log("🔄 AMENITIES SIMPLE: Actualizando amenities (solo localStorage)..."),console.log("  Property:",U),console.log("  New amenities:",F);try{const G={...o,[U]:{...o[U],amenities:F,lastAmenitiesUpdate:new Date().toISOString()}};return localStorage.setItem("baconfort_admin_properties",JSON.stringify(G)),f(G),console.log("✅ AMENITIES SIMPLE: Amenities actualizadas exitosamente"),!0}catch(G){throw console.error("❌ AMENITIES SIMPLE: Error actualizando amenities:",G),G}},N={departamento:[{icon:"fas fa-tv",text:'Smart TV 55"'},{icon:"fas fa-wifi",text:"WiFi Gratis de Alta Velocidad"},{icon:"fas fa-snowflake",text:"Aire Acondicionado Frío/Calor"},{icon:"fas fa-utensils",text:"Cocina Completamente Equipada"},{icon:"fas fa-bed",text:"Ropa de Cama Premium"},{icon:"fas fa-bath",text:"Baño Privado con Ducha"},{icon:"fas fa-tshirt",text:"Lavarropas"},{icon:"fas fa-coffee",text:"Cafetera y Menaje Completo"},{icon:"fas fa-blender",text:"Microondas y Electrodomésticos"},{icon:"fas fa-couch",text:"Living Amueblado"},{icon:"fas fa-door-closed",text:"Balcón Privado"},{icon:"fas fa-lock",text:"Caja Fuerte"},{icon:"fas fa-broom",text:"Kit de Limpieza"},{icon:"fas fa-laptop",text:"Zona de Trabajo/Escritorio"}],servicios:[{icon:"fas fa-concierge-bell",text:"Recepción 24hs"},{icon:"fas fa-shield-alt",text:"Seguridad Privada"},{icon:"fas fa-broom",text:"Servicio de Limpieza"},{icon:"fas fa-car",text:"Servicio de Traslados"},{icon:"fas fa-suitcase",text:"Guardaequipaje"},{icon:"fas fa-info-circle",text:"Información Turística"},{icon:"fas fa-phone",text:"Asistencia 24/7"}],amenitiesEdificio:[{icon:"fas fa-elevator",text:"Ascensor"},{icon:"fas fa-car",text:"Cochera/Estacionamiento"},{icon:"fas fa-dumbbell",text:"Gimnasio"},{icon:"fas fa-swimming-pool",text:"Piscina"},{icon:"fas fa-sun",text:"Solarium/Terraza"},{icon:"fas fa-users",text:"SUM/Salón de Usos Múltiples"},{icon:"fas fa-spa",text:"Spa/Jacuzzi"},{icon:"fas fa-tree",text:"Jardín/Espacios Verdes"},{icon:"fas fa-building",text:"Edificio Moderno"},{icon:"fas fa-shield-alt",text:"Portería/Seguridad 24hs"}]},m=async()=>{z(!0),console.log("🚀 AMENITIES SIMPLE: Aplicando amenities por defecto a todas las propiedades...");let U=0,F=0;const G=Object.values(o);for(const ae of G)try{console.log(`📦 AMENITIES SIMPLE: Procesando ${ae.title} (${ae.id})...`),await d(ae.id,N),U++,console.log(`✅ AMENITIES SIMPLE: ${ae.title} actualizada exitosamente`)}catch(Y){console.error(`❌ AMENITIES SIMPLE: Error actualizando ${ae.title}:`,Y),F++}console.log(`🎉 AMENITIES SIMPLE: Proceso completado. Éxitos: ${U}, Errores: ${F}`),z(!1),U>0&&alert(`✅ ¡Amenities aplicadas exitosamente!

${U} propiedades actualizadas
${F} errores

Sistema simplificado (solo localStorage) funcionando perfectamente.`)},B=async()=>{if(!u||!A.text.trim())return;console.log("➕ AMENITIES SIMPLE: Agregando nueva comodidad...");const F=o[u].amenities||{departamento:[],servicios:[],amenitiesEdificio:[]},G={...F,[g]:[...F[g]||[],{icon:A.icon,text:A.text.trim()}]};try{await d(u,G),D({text:"",icon:"fas fa-star"}),console.log("✅ AMENITIES SIMPLE: Comodidad agregada exitosamente")}catch(ae){console.error("❌ AMENITIES SIMPLE: Error agregando comodidad:",ae),alert("Error agregando comodidad: "+ae.message)}},q=async()=>{if(!u||!k||!k.text.trim())return;console.log("💾 AMENITIES SIMPLE: Guardando edición...");const G={...o[u].amenities||{departamento:[],servicios:[],amenitiesEdificio:[]}};G[k.categoryKey]||(G[k.categoryKey]=[]),G[k.categoryKey][k.index]={icon:k.icon,text:k.text.trim()};try{await d(u,G),M(null),console.log("✅ AMENITIES SIMPLE: Edición guardada exitosamente")}catch(ae){console.error("❌ AMENITIES SIMPLE: Error guardando edición:",ae),alert("Error guardando edición: "+ae.message)}},T=async()=>{if(!u||!E)return;console.log("🗑️ AMENITIES SIMPLE: Eliminando comodidad...");const G={...o[u].amenities||{departamento:[],servicios:[],amenitiesEdificio:[]}};G[E.categoryKey]&&(G[E.categoryKey]=G[E.categoryKey].filter((ae,Y)=>Y!==E.index));try{await d(u,G),C(null),console.log("✅ AMENITIES SIMPLE: Comodidad eliminada exitosamente")}catch(ae){console.error("❌ AMENITIES SIMPLE: Error eliminando comodidad:",ae),alert("Error eliminando comodidad: "+ae.message)}},w=u?o[u]:null;return e.jsxs("div",{className:"amenities-manager",children:[e.jsxs("div",{className:"amenities-manager-header",children:[e.jsxs("h2",{className:"section-title",children:[e.jsx("i",{className:"fas fa-star"}),"Gestión de Comodidades (Versión Simplificada)",x&&e.jsx("span",{className:"loading-indicator",children:"Cargando..."})]}),e.jsx("div",{className:"header-actions",children:e.jsxs("button",{onClick:m,className:"btn-apply-all",disabled:x||Object.keys(o).length===0,title:"Aplica amenities completas a todos los departamentos (solo localStorage)",children:[e.jsx("i",{className:"fas fa-magic"}),"Aplicar Amenities Completas (Solo LocalStorage)"]})})]}),e.jsxs("div",{className:"info-section",style:{background:"#d4edda",border:"1px solid #c3e6cb",borderRadius:"8px",padding:"1rem",margin:"1rem 0"},children:[e.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#155724"},children:"⚡ Versión Simplificada Activa"}),e.jsx("p",{style:{margin:0,color:"#155724"},children:"Esta versión NO usa backend, solo localStorage. Las actualizaciones son instantáneas y sin problemas de sincronización."})]}),e.jsx("div",{className:"controls-section",children:e.jsxs("div",{className:"selectors-container",children:[e.jsxs("div",{className:"selector-group",children:[e.jsxs("label",{htmlFor:"property-select",className:"selector-label",children:[e.jsx("i",{className:"fas fa-building"}),"Propiedad:"]}),e.jsxs("select",{id:"property-select",value:u,onChange:U=>b(U.target.value),className:"selector-input",children:[e.jsx("option",{value:"",children:"Seleccionar propiedad..."}),Object.values(o).map(U=>e.jsx("option",{value:U.id,children:U.title},U.id))]})]}),u&&e.jsxs("div",{className:"selector-group",children:[e.jsxs("label",{htmlFor:"category-select",className:"selector-label",children:[e.jsx("i",{className:"fas fa-layer-group"}),"Categoría:"]}),e.jsx("select",{id:"category-select",value:g,onChange:U=>h(U.target.value),className:"selector-input",children:Object.entries(v).map(([U,F])=>e.jsx("option",{value:U,children:F},U))})]})]})}),u&&e.jsxs("div",{className:"debug-section",style:{background:"#f0f8ff",border:"1px solid #d1ecf1",borderRadius:"8px",padding:"1rem",margin:"1rem 0",fontSize:"0.9rem"},children:[e.jsxs("h4",{style:{margin:"0 0 0.5rem 0",color:"#0c5460"},children:["🔍 Estado Actual - ",(w==null?void 0:w.title)||u]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"0.5rem"},children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Última actualización:"})," ",(w==null?void 0:w.lastAmenitiesUpdate)||"N/A"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Sistema:"})," Solo LocalStorage (Sin Backend)"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Total amenities:"})," ",w!=null&&w.amenities?Object.values(w.amenities).reduce((U,F)=>U+((F==null?void 0:F.length)||0),0):0]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Tiene amenities:"})," ",w!=null&&w.amenities?"Sí":"No"]})]})]}),u&&e.jsxs("div",{className:"add-amenity-section",children:[e.jsxs("h3",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-plus"})," Agregar Nueva Comodidad - ",v[g]]}),e.jsx("div",{className:"add-amenity-form",children:e.jsxs("div",{className:"form-row",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Icono:"}),e.jsx("input",{type:"text",value:A.icon,onChange:U=>D({...A,icon:U.target.value}),placeholder:"fas fa-star",className:"form-control"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Texto:"}),e.jsx("input",{type:"text",value:A.text,onChange:U=>D({...A,text:U.target.value}),placeholder:"Descripción de la comodidad",className:"form-control"})]}),e.jsx("div",{className:"form-group",children:e.jsxs("button",{onClick:B,className:"btn btn-primary",disabled:!A.text.trim(),children:[e.jsx("i",{className:"fas fa-plus"})," Agregar"]})})]})})]}),u&&(w==null?void 0:w.amenities)&&e.jsxs("div",{className:"current-amenities-section",children:[e.jsxs("h3",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-list"})," Comodidades Actuales - ",v[g]]}),e.jsx("div",{className:"amenities-list-container",children:((R=w.amenities[g])==null?void 0:R.map((U,F)=>e.jsx("div",{className:"amenity-item",children:k&&k.categoryKey===g&&k.index===F?e.jsxs("div",{className:"amenity-edit-mode",children:[e.jsx("input",{type:"text",value:k.icon,onChange:G=>M({...k,icon:G.target.value}),className:"form-control icon-input"}),e.jsx("input",{type:"text",value:k.text,onChange:G=>M({...k,text:G.target.value}),className:"form-control text-input"}),e.jsxs("div",{className:"edit-actions",children:[e.jsx("button",{onClick:q,className:"btn btn-success btn-sm",children:e.jsx("i",{className:"fas fa-save"})}),e.jsx("button",{onClick:()=>M(null),className:"btn btn-secondary btn-sm",children:e.jsx("i",{className:"fas fa-times"})})]})]}):e.jsxs("div",{className:"amenity-display-mode",children:[e.jsx("span",{className:"amenity-icon",children:e.jsx("i",{className:U.icon})}),e.jsx("span",{className:"amenity-text",children:U.text}),e.jsxs("div",{className:"amenity-actions",children:[e.jsx("button",{onClick:()=>M({categoryKey:g,index:F,icon:U.icon,text:U.text}),className:"btn btn-outline-primary btn-sm",title:"Editar",children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{onClick:()=>C({categoryKey:g,index:F,text:U.text}),className:"btn btn-outline-danger btn-sm",title:"Eliminar",children:e.jsx("i",{className:"fas fa-trash"})})]})]})},`${g}-${F}`)))||e.jsx("p",{className:"text-muted",children:"No hay comodidades en esta categoría"})})]}),E&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h4",{children:"Confirmar Eliminación"}),e.jsx("p",{children:"¿Está seguro de que desea eliminar esta comodidad?"}),e.jsx("p",{children:e.jsxs("strong",{children:['"',E.text,'"']})}),e.jsxs("div",{className:"modal-actions",children:[e.jsxs("button",{onClick:T,className:"btn btn-danger",children:[e.jsx("i",{className:"fas fa-trash"})," Eliminar"]}),e.jsx("button",{onClick:()=>C(null),className:"btn btn-secondary",children:"Cancelar"})]})]})}),u&&(w==null?void 0:w.amenities)&&e.jsxs("div",{className:"amenities-preview-section",children:[e.jsxs("h3",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-eye"})," Vista Previa - Como se ve en la página"]}),e.jsx("div",{className:"preview-container",children:e.jsxs("div",{className:"row",children:[w.amenities.departamento&&w.amenities.departamento.length>0&&e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-home"})," Departamento"]}),e.jsx("ul",{className:"list-unstyled",children:w.amenities.departamento.map((U,F)=>e.jsxs("li",{children:[e.jsx("i",{className:U.icon})," ",U.text]},`prev-dept-${F}`))})]}),w.amenities.servicios&&w.amenities.servicios.length>0&&e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-concierge-bell"})," Servicios"]}),e.jsx("ul",{className:"list-unstyled",children:w.amenities.servicios.map((U,F)=>e.jsxs("li",{children:[e.jsx("i",{className:U.icon})," ",U.text]},`prev-serv-${F}`))})]}),w.amenities.amenitiesEdificio&&w.amenities.amenitiesEdificio.length>0&&e.jsxs("div",{className:"col-md-4",children:[e.jsxs("h4",{className:"h6 mb-3",children:[e.jsx("i",{className:"fas fa-building"})," Amenities del Edificio"]}),e.jsx("ul",{className:"list-unstyled",children:w.amenities.amenitiesEdificio.map((U,F)=>e.jsxs("li",{children:[e.jsx("i",{className:U.icon})," ",U.text]},`prev-amenities-${F}`))})]})]})})]})]})}function Og(){const[c,o]=p.useState([]),[f,u]=p.useState(!0),[b,g]=p.useState("pending"),[h,A]=p.useState(null),[D,k]=p.useState(null);p.useEffect(()=>{M()},[b]);const M=async()=>{var v;try{u(!0);let d;b==="pending"?d=await et.getAllReviews({status:"pending"}):d=await et.getAllReviews({status:b}),d.success&&(o(d.data||[]),console.log(`✅ REVIEWS ADMIN: Cargadas ${((v=d.data)==null?void 0:v.length)||0} reseñas ${b}`))}catch(d){console.error("❌ REVIEWS ADMIN: Error cargando reseñas:",d),o([])}finally{u(!1)}},E=async(v,d,N="")=>{try{k(v),console.log(`🔍 REVIEWS ADMIN: Moderando reseña ${v} con acción ${d}`),(await et.moderateReview(v,d,N)).success&&(console.log(`✅ REVIEWS ADMIN: Reseña ${d==="approve"?"aprobada":"rechazada"}`),await M(),A(null))}catch(m){console.error("❌ REVIEWS ADMIN: Error moderando reseña:",m),alert(`Error al ${d==="approve"?"aprobar":"rechazar"} la reseña: ${m.message}`)}finally{k(null)}},C=async(v,d)=>{try{console.log(`⭐ REVIEWS ADMIN: ${d?"Destacando":"Quitando destaque"} reseña ${v}`),(await et.toggleHighlight(v,d)).success&&(console.log(`✅ REVIEWS ADMIN: Reseña ${d?"destacada":"sin destacar"}`),await M())}catch(N){console.error("❌ REVIEWS ADMIN: Error cambiando destaque:",N),alert(`Error al ${d?"destacar":"quitar destaque"}: ${N.message}`)}},L=async v=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta reseña?"))try{console.log(`🗑️ REVIEWS ADMIN: Eliminando reseña ${v}`),(await et.deleteReview(v)).success&&(console.log("✅ REVIEWS ADMIN: Reseña eliminada"),await M(),A(null))}catch(d){console.error("❌ REVIEWS ADMIN: Error eliminando reseña:",d),alert(`Error al eliminar la reseña: ${d.message}`)}},P=v=>e.jsx("div",{className:"review-stars",children:[1,2,3,4,5].map(d=>e.jsx("i",{className:`fas fa-star ${d<=v?"filled":"empty"}`},d))}),x=v=>new Date(v).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=v=>v.isApproved?e.jsx("span",{className:"badge badge-success",children:"Aprobada"}):v.isRejected?e.jsx("span",{className:"badge badge-danger",children:"Rechazada"}):e.jsx("span",{className:"badge badge-warning",children:"Pendiente"});return e.jsxs("div",{className:"reviews-admin",children:[e.jsxs("div",{className:"reviews-admin-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-star"})," Gestión de Reseñas"]}),e.jsx("p",{children:"Modera las reseñas enviadas por los huéspedes"})]}),e.jsxs("div",{className:"reviews-tabs",children:[e.jsxs("button",{className:`tab ${b==="pending"?"active":""}`,onClick:()=>g("pending"),children:[e.jsx("i",{className:"fas fa-clock"})," Pendientes (",c.filter(v=>!v.isApproved&&!v.isRejected).length,")"]}),e.jsxs("button",{className:`tab ${b==="approved"?"active":""}`,onClick:()=>g("approved"),children:[e.jsx("i",{className:"fas fa-check"})," Aprobadas"]}),e.jsxs("button",{className:`tab ${b==="rejected"?"active":""}`,onClick:()=>g("rejected"),children:[e.jsx("i",{className:"fas fa-times"})," Rechazadas"]}),e.jsxs("button",{className:`tab ${b==="all"?"active":""}`,onClick:()=>g("all"),children:[e.jsx("i",{className:"fas fa-list"})," Todas"]})]}),f?e.jsxs("div",{className:"reviews-loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando reseñas..."})]}):c.length===0?e.jsxs("div",{className:"reviews-empty",children:[e.jsx("i",{className:"fas fa-comment-slash"}),e.jsxs("h3",{children:["No hay reseñas ",b==="all"?"":b]}),e.jsx("p",{children:b==="pending"?"No hay reseñas pendientes de moderación.":`No hay reseñas ${b}.`})]}):e.jsx("div",{className:"reviews-list",children:c.map(v=>e.jsxs("div",{className:"review-card",children:[e.jsxs("div",{className:"review-header",children:[e.jsxs("div",{className:"review-property",children:[e.jsx("i",{className:"fas fa-home"}),e.jsx("strong",{children:v.propertyId})]}),e.jsxs("div",{className:"review-status",children:[z(v),v.isHighlight&&e.jsxs("span",{className:"badge badge-star",children:[e.jsx("i",{className:"fas fa-star"})," Destacada"]})]})]}),e.jsxs("div",{className:"review-content",children:[e.jsxs("div",{className:"review-meta",children:[e.jsxs("div",{className:"guest-info",children:[e.jsx("i",{className:"fas fa-user"}),e.jsx("strong",{children:v.guestName}),v.user&&e.jsxs("span",{className:"user-badge",children:[e.jsx("i",{className:"fas fa-user-check"})," Usuario registrado"]})]}),e.jsxs("div",{className:"review-rating",children:[P(v.rating),e.jsxs("span",{children:["(",v.rating,"/5)"]})]})]}),e.jsx("div",{className:"review-text",children:e.jsxs("p",{children:['"',v.comment,'"']})}),e.jsxs("div",{className:"review-footer",children:[e.jsxs("div",{className:"review-date",children:[e.jsx("i",{className:"fas fa-calendar"}),x(v.createdAt)]}),e.jsxs("div",{className:"review-actions",children:[!v.isApproved&&!v.isRejected&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-success btn-sm",onClick:()=>E(v._id,"approve"),disabled:D===v._id,children:[D===v._id?e.jsx("i",{className:"fas fa-spinner fa-spin"}):e.jsx("i",{className:"fas fa-check"}),"Aprobar"]}),e.jsxs("button",{className:"btn btn-danger btn-sm",onClick:()=>E(v._id,"reject"),disabled:D===v._id,children:[D===v._id?e.jsx("i",{className:"fas fa-spinner fa-spin"}):e.jsx("i",{className:"fas fa-times"}),"Rechazar"]})]}),v.isApproved&&e.jsxs("button",{className:`btn btn-sm ${v.isHighlight?"btn-warning":"btn-outline-warning"}`,onClick:()=>C(v._id,!v.isHighlight),children:[e.jsx("i",{className:"fas fa-star"}),v.isHighlight?"Quitar destaque":"Destacar"]}),e.jsxs("button",{className:"btn btn-outline-danger btn-sm",onClick:()=>L(v._id),children:[e.jsx("i",{className:"fas fa-trash"}),"Eliminar"]})]})]})]})]},v._id))})]})}function Rg(){const[c,o]=p.useState([]),[f,u]=p.useState([]),[b,g]=p.useState(!0),[h,A]=p.useState(null),[D,k]=p.useState(""),[M,E]=p.useState("all"),[C,L]=p.useState(null),[P,x]=p.useState(null),[z,v]=p.useState(!1),[d,N]=p.useState({name:"",email:"",password:"",role:"guest"});p.useEffect(()=>{B()},[]),p.useEffect(()=>{m()},[c,D,M]);const m=()=>{let Y=[...c];D&&(Y=Y.filter(O=>O.name.toLowerCase().includes(D.toLowerCase())||O.email.toLowerCase().includes(D.toLowerCase()))),M!=="all"&&(Y=Y.filter(O=>O.role===M)),u(Y)},B=async()=>{g(!0),A(null);try{const Y=await ji.getAll();Y.success?o(Y.data):A(Y.error||"Error desconocido")}catch(Y){console.error("❌ SimpleUserManager: Error cargando usuarios:",Y),A(Y.message||"Error al cargar usuarios")}finally{g(!1)}},q=Y=>{const O=c.find(S=>S._id===Y);O&&L({...O})},T=async()=>{if(!C.name.trim()||!C.email.trim()){alert("Nombre y email son obligatorios");return}if(c.find(O=>O._id!==C._id&&O.email.toLowerCase()===C.email.toLowerCase())){alert("Este email ya está en uso por otro usuario");return}try{const O=await ji.update(C._id,C);O.success?(L(null),B(),alert("Usuario actualizado exitosamente")):alert(`Error: ${O.error}`)}catch(O){alert(`Error: ${O.message}`)}},w=async Y=>{try{const O=await ji.delete(Y);O.success?(x(null),B(),alert("Usuario eliminado exitosamente")):alert(`Error: ${O.error}`)}catch(O){alert(`Error: ${O.message}`)}},R=async(Y,O)=>{const S=c.find(_=>_._id===Y);if(S)try{const _={...S,role:O},$=await ji.update(Y,_);$.success?(B(),alert("Rol actualizado exitosamente")):alert(`Error: ${$.error}`)}catch(_){alert(`Error: ${_.message}`)}},U=async()=>{if(!d.name.trim()||!d.email.trim()||!d.password.trim()){alert("Todos los campos son obligatorios");return}if(c.find(O=>O.email.toLowerCase()===d.email.toLowerCase())){alert("Este email ya está en uso");return}try{const _=await(await fetch("https://baconfort-production-084d.up.railway.app/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:d.name.trim(),email:d.email.trim(),password:d.password,role:d.role})})).json();_.success?(v(!1),N({name:"",email:"",password:"",role:"guest"}),B(),alert(`Usuario creado exitosamente. Se ha enviado un email de bienvenida a ${d.email}.`)):alert(`Error: ${_.error}`)}catch(O){alert(`Error: ${O.message}`)}};if(b)return e.jsx("div",{className:"user-manager",children:e.jsxs("div",{className:"loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Cargando usuarios..."]})});if(h)return e.jsx("div",{className:"user-manager",children:e.jsxs("div",{className:"error",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),"Error: ",h,e.jsxs("button",{onClick:B,className:"btn-retry",children:[e.jsx("i",{className:"fas fa-redo"}),"Reintentar"]})]})});const F=c.length,G=c.filter(Y=>Y.role==="admin").length,ae=c.filter(Y=>Y.role==="guest").length;return e.jsxs("div",{className:"user-manager",children:[e.jsx("div",{className:"user-manager-header",children:e.jsxs("h2",{className:"section-title",children:[e.jsx("i",{className:"fas fa-users"}),"Gestión de Usuarios"]})}),e.jsx("div",{className:"stats-section",children:e.jsxs("div",{className:"stats-grid",children:[e.jsxs("div",{className:"stat-card total",children:[e.jsx("div",{className:"stat-icon",children:e.jsx("i",{className:"fas fa-users"})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("span",{className:"stat-number",children:F}),e.jsx("span",{className:"stat-label",children:"Total de Usuarios"})]})]}),e.jsxs("div",{className:"stat-card admins",children:[e.jsx("div",{className:"stat-icon",children:e.jsx("i",{className:"fas fa-crown"})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("span",{className:"stat-number",children:G}),e.jsx("span",{className:"stat-label",children:"Administradores"})]})]}),e.jsxs("div",{className:"stat-card users",children:[e.jsx("div",{className:"stat-icon",children:e.jsx("i",{className:"fas fa-user"})}),e.jsxs("div",{className:"stat-content",children:[e.jsx("span",{className:"stat-number",children:ae}),e.jsx("span",{className:"stat-label",children:"Usuarios Regulares"})]})]})]})}),e.jsxs("div",{className:"controls-section",children:[e.jsx("div",{className:"search-container",children:e.jsxs("div",{className:"search-input-wrapper",children:[e.jsx("i",{className:"fas fa-search search-icon"}),e.jsx("input",{type:"text",className:"search-input",placeholder:"Buscar por nombre o email...",value:D,onChange:Y=>k(Y.target.value),id:"user-search",name:"user-search"})]})}),e.jsxs("div",{className:"filters-container",children:[e.jsxs("div",{className:"filter-group",children:[e.jsx("label",{htmlFor:"role-filter",className:"filter-label",children:"Filtrar por rol:"}),e.jsxs("select",{id:"role-filter",name:"role-filter",className:"filter-select",value:M,onChange:Y=>E(Y.target.value),children:[e.jsx("option",{value:"all",children:"Todos los roles"}),e.jsx("option",{value:"admin",children:"Administradores"}),e.jsx("option",{value:"guest",children:"Usuarios"})]})]}),e.jsxs("button",{onClick:()=>v(!0),className:"create-user-btn",title:"Crear nuevo usuario",children:[e.jsx("i",{className:"fas fa-plus"}),"Crear Usuario"]}),e.jsxs("button",{onClick:B,className:"refresh-btn",children:[e.jsx("i",{className:"fas fa-sync-alt"}),"Actualizar"]})]})]}),e.jsx("div",{className:"table-section",children:e.jsxs("div",{className:"table-container",children:[e.jsxs("table",{className:"users-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"th-user",children:"Usuario"}),e.jsx("th",{className:"th-email",children:"Email"}),e.jsx("th",{className:"th-role",children:"Rol"}),e.jsx("th",{className:"th-date",children:"Fecha de Registro"}),e.jsx("th",{className:"th-actions",children:"Acciones"})]})}),e.jsx("tbody",{children:f.map(Y=>e.jsxs("tr",{className:"table-row",children:[e.jsx("td",{className:"td-user",children:e.jsxs("div",{className:"user-cell",children:[e.jsx("div",{className:"user-avatar",children:Y.avatar?e.jsx("img",{src:Y.avatar,alt:Y.name,className:"avatar-image"}):e.jsx("div",{className:"avatar-placeholder",children:e.jsx("i",{className:"fas fa-user"})})}),e.jsxs("div",{className:"user-info",children:[e.jsx("div",{className:"user-name",children:Y.name}),e.jsx("div",{className:"user-status",children:e.jsxs("span",{className:`status-indicator ${Y.isActive!==!1?"active":"inactive"}`,children:[e.jsx("i",{className:`fas fa-circle ${Y.isActive!==!1?"text-success":"text-danger"}`}),Y.isActive!==!1?"Activo":"Inactivo"]})})]})]})}),e.jsx("td",{className:"td-email",children:e.jsx("span",{className:"email-text",children:Y.email})}),e.jsx("td",{className:"td-role",children:e.jsxs("select",{value:Y.role,onChange:O=>R(Y._id,O.target.value),className:`role-select role-${Y.role}`,title:`Cambiar rol de ${Y.name}`,children:[e.jsx("option",{value:"guest",children:"Usuario"}),e.jsx("option",{value:"admin",children:"Administrador"})]})}),e.jsx("td",{className:"td-date",children:e.jsx("span",{className:"date-text",children:Y.createdAt?new Date(Y.createdAt).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A"})}),e.jsx("td",{className:"td-actions",children:e.jsxs("div",{className:"actions-group",children:[e.jsx("button",{onClick:()=>q(Y._id),className:"action-btn edit-btn",title:"Editar usuario","aria-label":`Editar usuario ${Y.name}`,children:e.jsx("i",{className:"fas fa-edit"})}),e.jsx("button",{onClick:()=>x(Y._id),className:"action-btn delete-btn",title:"Eliminar usuario","aria-label":`Eliminar usuario ${Y.name}`,children:e.jsx("i",{className:"fas fa-trash"})})]})})]},Y._id))})]}),f.length===0&&e.jsxs("div",{className:"empty-state",children:[e.jsx("div",{className:"empty-icon",children:e.jsx("i",{className:"fas fa-users"})}),e.jsx("h3",{children:"No se encontraron usuarios"}),e.jsx("p",{children:"No hay usuarios que coincidan con los filtros aplicados"})]})]})}),C&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Editar Usuario"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"edit-name",children:"Nombre:"}),e.jsx("input",{id:"edit-name",name:"edit-name",type:"text",value:C.name,onChange:Y=>L({...C,name:Y.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"edit-email",children:"Email:"}),e.jsx("input",{id:"edit-email",name:"edit-email",type:"email",value:C.email,onChange:Y=>L({...C,email:Y.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"edit-role",children:"Rol:"}),e.jsxs("select",{id:"edit-role",name:"edit-role",value:C.role,onChange:Y=>L({...C,role:Y.target.value}),children:[e.jsx("option",{value:"guest",children:"Usuario"}),e.jsx("option",{value:"admin",children:"Administrador"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsxs("button",{onClick:T,className:"btn-save",children:[e.jsx("i",{className:"fas fa-save"})," Guardar"]}),e.jsxs("button",{onClick:()=>L(null),className:"btn-cancel",children:[e.jsx("i",{className:"fas fa-times"})," Cancelar"]})]})]})}),P&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Confirmar Eliminación"}),e.jsx("p",{children:"¿Estás seguro de que quieres eliminar este usuario?"}),e.jsxs("div",{className:"modal-actions",children:[e.jsxs("button",{onClick:()=>w(P),className:"btn-delete",children:[e.jsx("i",{className:"fas fa-trash"})," Eliminar"]}),e.jsxs("button",{onClick:()=>x(null),className:"btn-cancel",children:[e.jsx("i",{className:"fas fa-times"})," Cancelar"]})]})]})}),z&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("h3",{children:"Crear Nuevo Usuario"}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"new-name",children:"Nombre:"}),e.jsx("input",{id:"new-name",name:"new-name",type:"text",value:d.name,onChange:Y=>N({...d,name:Y.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"new-email",children:"Email:"}),e.jsx("input",{id:"new-email",name:"new-email",type:"email",value:d.email,onChange:Y=>N({...d,email:Y.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"new-password",children:"Contraseña:"}),e.jsx("input",{id:"new-password",name:"new-password",type:"password",value:d.password,onChange:Y=>N({...d,password:Y.target.value})})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"new-role",children:"Rol:"}),e.jsxs("select",{id:"new-role",name:"new-role",value:d.role,onChange:Y=>N({...d,role:Y.target.value}),children:[e.jsx("option",{value:"guest",children:"Usuario"}),e.jsx("option",{value:"admin",children:"Administrador"})]})]}),e.jsxs("div",{className:"modal-actions",children:[e.jsxs("button",{onClick:U,className:"btn-create",children:[e.jsx("i",{className:"fas fa-plus"})," Crear Usuario"]}),e.jsxs("button",{onClick:()=>v(!1),className:"btn-cancel",children:[e.jsx("i",{className:"fas fa-times"})," Cancelar"]})]})]})})]})}function Mg(){const[c,o]=p.useState([]),[f,u]=p.useState(!0),[b,g]=p.useState(null),[h,A]=p.useState("all"),[D,k]=p.useState(null),[M,E]=p.useState(!1),[C,L]=p.useState(null),[P,x]=p.useState(!1),[z,v]=p.useState({}),{properties:d}=Xe();p.useEffect(()=>{m(),N()},[]);const N=async()=>{try{if(console.log("💰 PRICES: Cargando precios de propiedades..."),d&&Object.keys(d).length>0){console.log("💰 PRICES: Usando propiedades del contexto:",Object.keys(d));const y={};Object.values(d).forEach(X=>{X.pricing&&(y[X.name]=X.pricing,y[X.id]=X.pricing,console.log(`💰 PRICES: ${X.name} (${X.id}):`,X.pricing))}),v(y)}else{console.log("💰 PRICES: No hay propiedades en el contexto, cargando directamente...");const y=await fetch(`${at}/properties`);if(y.ok){const X=await y.json(),ne=X.data||X,oe={};ne.forEach(ee=>{ee.prices&&(oe[ee.title]=ee.prices,oe[ee.id]=ee.prices,console.log(`💰 PRICES: ${ee.title} (${ee.id}):`,ee.prices))}),v(oe),console.log("💰 PRICES: Precios cargados desde API:",oe)}}}catch(y){console.error("❌ PRICES: Error cargando precios:",y)}},m=async()=>{try{console.log("🔄 RESERVAS: Cargando reservas desde backend...");const y=localStorage.getItem("baconfort_admin_session"),X=y?JSON.parse(y):null,ne=(X==null?void 0:X.token)||"BACONFORT_ADMIN_2025_7D3F9K2L";console.log("🔑 RESERVAS: Usando token:",ne);const oe=await fetch(`${at}/reservations/admin/all`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ne}`}});if(oe.ok){const ee=await oe.json();console.log("✅ RESERVAS: Respuesta completa:",ee);const ce=ee.data||ee;console.log("✅ RESERVAS: Datos cargados:",ce.length,"reservas"),o(ce),g(null)}else{const ee=await oe.json();console.error("❌ RESERVAS: Error del servidor:",ee),g(ee.message||"Error cargando reservas")}}catch(y){console.error("❌ RESERVAS: Error de conexión:",y),g("Error de conexión al servidor")}finally{u(!1)}},B=async(y,X)=>{console.log("🔄 Cambiando estado:",{reservationId:y,newStatus:X});try{const ne=localStorage.getItem("baconfort_admin_session"),oe=ne?JSON.parse(ne):null,ee=(oe==null?void 0:oe.token)||"BACONFORT_ADMIN_2025_7D3F9K2L",ce=await fetch(`${at}/reservations/admin/${y}/status`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ee}`},body:JSON.stringify({status:X})});if(ce.ok)o(ue=>ue.map(xe=>xe._id===y?{...xe,status:X,updatedAt:new Date().toISOString()}:xe)),alert(`✅ Estado cambiado a: ${X}`),console.log("✅ Estado actualizado exitosamente");else{const ue=await ce.json();alert(ue.message||"Error al cambiar estado"),console.error("❌ Error del servidor:",ue)}}catch(ne){console.error("❌ Error changing reservation status:",ne),alert("Error de conexión al cambiar estado")}},q=y=>{try{let X=z[y.propertyName]||z[y.propertyId]||z["Moldes 1680"];if(!X)return console.log("💰 CALC: No hay precios para:",y.propertyName,"o ID:",y.propertyId),console.log("💰 CALC: Precios disponibles:",Object.keys(z)),y.priceInfo&&y.priceInfo.totalAmount>0?(console.log("💰 CALC: Usando priceInfo como fallback:",y.priceInfo),{totalAmount:y.priceInfo.totalAmount,currency:y.priceInfo.currency||"USD",nights:y.priceInfo.nights||0,pricePerNight:y.priceInfo.pricePerNight||0,period:y.priceInfo.period||"daily",source:"stored"}):null;const ne=new Date(y.checkIn),ee=new Date(y.checkOut).getTime()-ne.getTime(),ce=Math.ceil(ee/(1e3*3600*24));if(ce<=0)return null;const ue=Ge=>{if(typeof Ge=="number")return Ge;if(typeof Ge=="string"){const cs=Ge.match(/[\d,]+/);return cs?parseFloat(cs[0].replace(/,/g,"")):0}return 0},xe=ue(X.daily)||0,ve=ue(X.weekly)||0,ze=ue(X.monthly)||0;let Qe=0,aa="daily",Ee=xe;return ce>=30&&ze>0?(aa="monthly",Ee=ze/30,Qe=Math.ceil(ce/30)*ze+ce%30*Ee):ce>=7&&ve>0?(aa="weekly",Ee=ve/7,Qe=Math.ceil(ce/7)*ve+ce%7*xe):(aa="daily",Ee=xe,Qe=ce*xe),console.log(`💰 CALC: Precio calculado para ${y.propertyName}:`,{nights:ce,period:aa,finalPrice:Qe,pricePerNight:Ee,dailyPrice:xe,weeklyPrice:ve,monthlyPrice:ze}),{totalAmount:Math.round(Qe),currency:X.currency||"USD",nights:ce,pricePerNight:Math.round(Ee),period:aa,source:"calculated"}}catch(X){return console.error("❌ CALC: Error calculando precio:",X),null}},T=async(y,X)=>{if(window.confirm(`¿Estás seguro de que deseas eliminar permanentemente la reserva para "${X}"?

Esta acción no se puede deshacer.`)){console.log("🗑️ Eliminando reserva:",y);try{const oe=localStorage.getItem("baconfort_admin_session"),ee=oe?JSON.parse(oe):null,ce=(ee==null?void 0:ee.token)||"BACONFORT_ADMIN_2025_7D3F9K2L",ue=await fetch(`${at}/reservations/admin/${y}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ce}`}});if(ue.ok)o(xe=>xe.filter(ve=>ve._id!==y)),alert("✅ Reserva eliminada exitosamente"),console.log("✅ Reserva eliminada exitosamente");else{const xe=await ue.json();alert(xe.message||"Error al eliminar la reserva"),console.error("❌ Error del servidor:",xe)}}catch(oe){console.error("❌ Error eliminando reserva:",oe),alert("Error de conexión al eliminar la reserva")}}},w=y=>{const ne={pending:{text:"Pendiente",class:"status-pending"},confirmed:{text:"Confirmada",class:"status-confirmed"},cancelled:{text:"Cancelada",class:"status-cancelled"},completed:{text:"Completada",class:"status-completed"}}[y]||{text:y,class:"status-unknown"};return e.jsx("span",{className:`status-badge ${ne.class}`,children:ne.text})},R=y=>({pending:"Pendiente",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada"})[y]||y,U=y=>{k({message:y.message||"Sin mensaje",propertyName:y.propertyName,userName:y.fullName||y.userName,userEmail:y.email||y.userEmail,phone:y.phone,createdAt:y.createdAt}),E(!0)},F=()=>{E(!1),k(null)},G=y=>{console.log("🔍 Ver detalles de reserva (admin):",y._id),L(y),x(!0)},ae=()=>{x(!1),L(null)},Y=(y,X=50)=>y?y.length>X?y.substring(0,X)+"...":y:"Sin mensaje",O=y=>{if(!y)return"Fecha no disponible";const X=new Date(y);return isNaN(X.getTime())||X.getTime()<=0?"Fecha no disponible":X.toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"})},S=y=>{if(!y)return"Fecha no disponible";const X=new Date(y);return isNaN(X.getTime())||X.getTime()<=0?"Fecha no disponible":X.toLocaleString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},_=(y,X)=>{const ne=new Date(y),oe=new Date(X),ee=Math.abs(oe-ne);return Math.ceil(ee/(1e3*60*60*24))},$=c.filter(y=>h==="all"?!0:y.status===h),ie=()=>({all:c.length,pending:c.filter(y=>y.status==="pending").length,confirmed:c.filter(y=>y.status==="confirmed").length,cancelled:c.filter(y=>y.status==="cancelled").length,completed:c.filter(y=>y.status==="completed").length});if(f)return e.jsx("div",{className:"admin-reservations-container",children:e.jsxs("div",{className:"loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando reservas..."})]})});if(b)return e.jsx("div",{className:"admin-reservations-container",children:e.jsxs("div",{className:"error",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("h3",{children:"Error cargando reservas"}),e.jsx("p",{children:b}),e.jsx("button",{onClick:m,className:"retry-btn",children:"Intentar nuevamente"})]})});const W=ie();return e.jsxs("div",{className:"admin-reservations-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-calendar-check"}),"Gestión de Reservas"]}),e.jsx("p",{children:"Administra todas las reservas del sistema"})]}),e.jsxs("div",{className:"stats-cards",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsxs("div",{children:[e.jsx("h3",{children:W.all}),e.jsx("p",{children:"Total Reservas"})]})]}),e.jsxs("div",{className:"stat-card pending",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsxs("div",{children:[e.jsx("h3",{children:W.pending}),e.jsx("p",{children:"Pendientes"})]})]}),e.jsxs("div",{className:"stat-card confirmed",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsxs("div",{children:[e.jsx("h3",{children:W.confirmed}),e.jsx("p",{children:"Confirmadas"})]})]}),e.jsxs("div",{className:"stat-card cancelled",children:[e.jsx("i",{className:"fas fa-times-circle"}),e.jsxs("div",{children:[e.jsx("h3",{children:W.cancelled}),e.jsx("p",{children:"Canceladas"})]})]}),e.jsxs("div",{className:"stat-card completed",children:[e.jsx("i",{className:"fas fa-flag-checkered"}),e.jsxs("div",{children:[e.jsx("h3",{children:W.completed}),e.jsx("p",{children:"Completadas"})]})]})]}),e.jsxs("div",{className:"filters",children:[e.jsxs("button",{className:h==="all"?"active":"",onClick:()=>A("all"),children:["Todas (",W.all,")"]}),e.jsxs("button",{className:h==="pending"?"active":"",onClick:()=>A("pending"),children:["Pendientes (",W.pending,")"]}),e.jsxs("button",{className:h==="confirmed"?"active":"",onClick:()=>A("confirmed"),children:["Confirmadas (",W.confirmed,")"]}),e.jsxs("button",{className:h==="cancelled"?"active":"",onClick:()=>A("cancelled"),children:["Canceladas (",W.cancelled,")"]}),e.jsxs("button",{className:h==="completed"?"active":"",onClick:()=>A("completed"),children:["Completadas (",W.completed,")"]})]}),$.length===0?e.jsxs("div",{className:"no-reservations",children:[e.jsx("i",{className:"fas fa-calendar-times"}),e.jsx("h3",{children:"No hay reservas"}),e.jsx("p",{children:"No se encontraron reservas para el filtro seleccionado."})]}):e.jsx("div",{className:"reservations-cards-container",children:$.map(y=>e.jsxs("div",{className:"reservation-card",children:[e.jsxs("div",{className:"reservation-header",children:[e.jsxs("div",{className:"reservation-title",children:[e.jsx("i",{className:"fas fa-home"}),y.propertyName]}),w(y.status)]}),e.jsxs("div",{className:"reservation-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Usuario:"}),e.jsxs("span",{className:"detail-value",children:[y.userName||y.fullName,e.jsx("br",{}),e.jsx("small",{children:y.userEmail||y.email})]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Fechas:"}),e.jsxs("span",{className:"detail-value",children:[O(y.checkIn)," - ",O(y.checkOut),e.jsx("br",{}),e.jsxs("small",{children:[_(y.checkIn,y.checkOut)," noches"]})]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Huéspedes:"}),e.jsx("span",{className:"detail-value",children:y.guests})]}),(()=>{const X=q(y);return X?e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"💰 Precio:"}),e.jsx("span",{className:"detail-value",children:e.jsxs("div",{className:"price-info",children:[e.jsxs("div",{className:"price-total",children:[e.jsxs("strong",{style:{color:"#2d8659",fontSize:"1.1em"},children:[X.currency==="USD"?"US$":"$",X.totalAmount.toLocaleString()]}),e.jsxs("small",{style:{color:"#666",marginLeft:"8px"},children:["(",X.nights," noches)"]})]}),e.jsxs("div",{className:"price-details",style:{fontSize:"0.85em",color:"#666",marginTop:"4px"},children:[e.jsxs("div",{children:["📊 Tarifa ",X.period==="monthly"?"mensual":X.period==="weekly"?"semanal":"diaria"]}),e.jsxs("div",{children:["💵 ",X.currency==="USD"?"US$":"$",X.pricePerNight.toLocaleString(),"/noche"]}),e.jsxs("div",{style:{color:"#e67e22",fontWeight:"bold"},children:["🔒 Seña: ",X.currency==="USD"?"US$":"$",Math.round(X.totalAmount*.3).toLocaleString()," (30%)"]}),X.source==="calculated"&&e.jsx("div",{style:{color:"#3498db",fontSize:"0.8em"},children:"📈 Calculado dinámicamente"}),X.breakdown&&e.jsx("div",{style:{color:"#9b59b6",fontSize:"0.8em"},children:X.breakdown.description})]})]})})]}):null})(),y.paymentInfo&&e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Pago:"}),e.jsx("span",{className:"detail-value",children:e.jsxs("div",{className:"payment-info",children:[e.jsxs("div",{className:"payment-provider",children:[e.jsx("i",{className:`fas ${y.paymentInfo.provider==="mercadopago"?"fa-credit-card":"fa-money-bill-wave"}`}),y.paymentInfo.provider==="mercadopago"?"MercadoPago":y.paymentInfo.provider==="efectivo"?"Pago en Efectivo":y.paymentInfo.paymentStatus==="pending"?"Pendiente de pago":"No especificado"]}),y.paymentInfo.amount&&e.jsxs("div",{className:"payment-amount",children:[y.paymentInfo.currency," $",y.paymentInfo.amount]}),y.paymentInfo.paidAt&&new Date(y.paymentInfo.paidAt).getTime()>0?e.jsx("div",{className:"payment-date",children:e.jsxs("small",{children:["Pagado: ",O(y.paymentInfo.paidAt)]})}):e.jsx("div",{className:"payment-date",children:e.jsxs("small",{style:{color:"#f39c12"},children:["Estado: ",y.paymentInfo.paymentStatus==="pending"?"Pendiente de pago":y.paymentInfo.paymentStatus==="completed"?"Pago completado":"Pendiente de confirmación"]})}),y.paymentInfo.paymentId&&e.jsx("div",{className:"payment-id",children:e.jsxs("small",{children:["ID: ",y.paymentInfo.paymentId]})})]})})]}),!y.paymentInfo&&["confirmed","completed"].includes(y.status)&&e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"🚨 Estado Pago:"}),e.jsx("span",{className:"detail-value",children:e.jsx("span",{className:"no-payment-info",style:{color:"#e74c3c",fontWeight:"bold"},children:"⚠️ Reserva confirmada sin registro de pago"})})]}),!y.paymentInfo&&y.status==="pending"&&e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"⏳ Estado Pago:"}),e.jsx("span",{className:"detail-value",children:e.jsx("span",{style:{color:"#f39c12"},children:"🔄 Pendiente - Esperando confirmación de pago"})})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Contacto:"}),e.jsxs("span",{className:"detail-value",children:[y.fullName,e.jsx("br",{}),e.jsx("small",{children:y.email}),y.phone&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("small",{children:y.phone})]})]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Mensaje:"}),e.jsxs("span",{className:"detail-value",children:[e.jsx("div",{className:"message-preview-card",title:y.message||"Sin mensaje",children:Y(y.message,100)}),e.jsx("button",{className:"view-message-btn-card",onClick:()=>U(y),title:"Ver mensaje completo",children:"Ver completo"})]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"Creada:"}),e.jsx("span",{className:"detail-value",children:e.jsx("small",{children:S(y.createdAt)})})]})]}),e.jsxs("div",{className:"card-actions",children:[e.jsxs("button",{className:"details-btn",onClick:()=>G(y),title:"Ver detalles completos",children:[e.jsx("i",{className:"fas fa-eye"}),"Ver Detalles"]}),e.jsx("button",{className:"view-btn",onClick:()=>U(y),title:"Ver mensaje completo",children:"💬 Ver Mensaje"}),y.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"confirm-btn",onClick:()=>B(y._id,"confirmed"),title:"Confirmar reserva",children:"✅ OK"}),e.jsx("button",{className:"cancel-btn",onClick:()=>B(y._id,"cancelled"),title:"Cancelar reserva",children:"❌ No"})]}),y.status==="confirmed"&&e.jsx("button",{className:"complete-btn",onClick:()=>B(y._id,"completed"),title:"Marcar como completada",children:"🏁 Done"}),e.jsx("button",{className:"delete-btn",onClick:()=>T(y._id,y.propertyName),title:"Eliminar reserva permanentemente",children:"🗑️ Eliminar"}),e.jsxs("select",{className:"status-selector",value:y.status,onChange:X=>B(y._id,X.target.value),title:"Cambiar estado",children:[e.jsx("option",{value:"pending",children:"Pendiente"}),e.jsx("option",{value:"confirmed",children:"Confirmada"}),e.jsx("option",{value:"cancelled",children:"Cancelada"}),e.jsx("option",{value:"completed",children:"Completada"})]})]})]},y._id))}),M&&D&&e.jsx("div",{className:"message-modal-overlay",onClick:F,children:e.jsxs("div",{className:"message-modal",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"message-modal-header",children:[e.jsx("h3",{children:"Mensaje de Reserva"}),e.jsx("button",{className:"close-modal-btn",onClick:F,children:"✕"})]}),e.jsxs("div",{className:"message-modal-body",children:[e.jsxs("div",{className:"reservation-info",children:[e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Propiedad:"})," ",D.propertyName]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Cliente:"})," ",D.userName]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Email:"})," ",D.userEmail]}),D.phone&&e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Teléfono:"})," ",D.phone]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Fecha:"})," ",S(D.createdAt)]})]}),e.jsxs("div",{className:"message-content",children:[e.jsx("h4",{children:"Mensaje:"}),e.jsx("div",{className:"message-text",children:D.message})]})]}),e.jsx("div",{className:"message-modal-footer",children:e.jsx("button",{className:"btn-primary",onClick:F,children:"Cerrar"})})]})}),P&&C&&e.jsx("div",{className:"details-modal-overlay",onClick:ae,children:e.jsxs("div",{className:"details-modal",onClick:y=>y.stopPropagation(),children:[e.jsxs("div",{className:"details-modal-header",children:[e.jsx("h3",{children:"Detalles de la Reserva"}),e.jsx("button",{className:"close-modal-btn",onClick:ae,children:"✕"})]}),e.jsx("div",{className:"details-modal-body",children:e.jsxs("div",{className:"reservation-info",children:[e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Propiedad:"})," ",C.propertyName]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Cliente:"})," ",C.userName]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Email:"})," ",C.userEmail]}),C.phone&&e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Teléfono:"})," ",C.phone]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Fechas:"})," ",O(C.checkIn)," - ",O(C.checkOut)]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Noches:"})," ",_(C.checkIn,C.checkOut)]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Huéspedes:"})," ",C.guests]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Estado:"})," ",w(C.status)]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Creada:"})," ",S(C.createdAt)]}),e.jsxs("div",{className:"info-row",children:[e.jsx("strong",{children:"Mensaje:"}),e.jsx("div",{className:"message-text",children:C.message||"Sin mensaje"})]})]})}),e.jsx("div",{className:"details-modal-footer",children:e.jsx("button",{className:"btn-primary",onClick:ae,children:"Cerrar"})})]})}),P&&C&&e.jsx("div",{className:"details-modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("span",{className:"close",onClick:ae,children:"×"}),e.jsx("h3",{children:"Detalles de la Reserva"}),e.jsxs("div",{className:"reservation-details-modal",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"PROPIEDAD:"}),e.jsx("span",{children:C.propertyName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"ID DE PROPIEDAD:"}),e.jsx("span",{children:C.propertyId})]}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("div",{className:"detail-icon",children:e.jsx("i",{className:"fas fa-moon"})}),e.jsxs("div",{className:"detail-content",children:[e.jsx("strong",{children:"NOCHES"}),e.jsx("span",{children:_(C.checkIn,C.checkOut)})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("div",{className:"detail-icon",children:e.jsx("i",{className:"fas fa-users"})}),e.jsxs("div",{className:"detail-content",children:[e.jsx("strong",{children:"HUÉSPEDES"}),e.jsx("span",{children:C.guests})]})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"CHECK-IN:"}),e.jsx("span",{children:O(C.checkIn)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"CHECK-OUT:"}),e.jsx("span",{children:O(C.checkOut)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"CLIENTE:"}),e.jsx("span",{children:C.fullName||C.userName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"EMAIL:"}),e.jsx("span",{children:C.email||C.userEmail})]}),C.dni&&e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"DNI:"}),e.jsx("span",{children:C.dni})]}),C.phone&&e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"TELÉFONO:"}),e.jsx("span",{children:C.phone})]}),C.message&&e.jsxs("div",{className:"detail-item special-requests",children:[e.jsx("strong",{children:"MENSAJE DEL CLIENTE:"}),e.jsx("span",{children:C.message})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"ESTADO:"}),e.jsx("span",{className:`status ${C.status.toLowerCase()}`,children:R(C.status)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"RESERVA CREADA EL:"}),e.jsx("span",{children:S(C.createdAt)})]})]})]})})]})}function Pg(){const[c,o]=p.useState([]),[f,u]=p.useState(!0),[b,g]=p.useState(null),[h,A]=p.useState("pending"),[D,k]=p.useState(null),[M,E]=p.useState(!1),[C,L]=p.useState(""),[P,x]=p.useState(!1);p.useEffect(()=>{z()},[h]);const z=async()=>{try{u(!0),console.log("🔄 CONSULTAS: Cargando consultas con filtro:",h);const T=await Ap({status:h==="all"?void 0:h,limit:50,_t:new Date().getTime()});if(console.log("✅ CONSULTAS: Datos recibidos:",T),T.success)o(T.data||[]),g(null);else{const w=T.message||"Error cargando consultas";console.warn("⚠️ CONSULTAS: Error controlado:",w),window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"?(console.log("🛠️ MODO DESARROLLO: Cargando datos de prueba"),o([]),g(null)):(g(w),o([]))}}catch(T){console.error("❌ CONSULTAS: Error inesperado:",T),g("Error inesperado cargando consultas. Por favor, intenta de nuevo más tarde."),o([])}finally{u(!1)}},v=async(T,w)=>{try{x(!0),console.log(`🔄 CONSULTAS: Actualizando consulta ${T} a ${w}`);const R=await kp(T,w,C);R.success?(console.log("✅ CONSULTAS: Estado actualizado exitosamente"),await z(),E(!1),k(null),L(""),alert(`Consulta ${w==="approved"?"aprobada":"rechazada"} exitosamente. Se ha enviado un email al cliente.`)):alert("Error actualizando consulta: "+R.message)}catch(R){console.error("❌ CONSULTAS: Error actualizando:",R),alert("Error actualizando consulta")}finally{x(!1)}},d=async T=>{if(window.confirm("¿Estás seguro de que quieres eliminar esta consulta? Esta acción no se puede deshacer."))try{x(!0),console.log(`🗑️ CONSULTAS: Eliminando consulta ${T}`);const w=await Mp(T);w.success?(console.log("✅ CONSULTAS: Consulta eliminada exitosamente"),await z(),E(!1),k(null),alert("Consulta eliminada exitosamente.")):alert("Error eliminando consulta: "+w.message)}catch(w){console.error("❌ CONSULTAS: Error eliminando:",w),alert("Error eliminando consulta")}finally{x(!1)}},N=T=>{k(T),L(""),E(!0)},m=T=>{const R={pending:{label:"Pendiente",className:"status-pending"},approved:{label:"Aprobada",className:"status-approved"},rejected:{label:"Rechazada",className:"status-rejected"}}[T]||{label:T,className:"status-unknown"};return e.jsx("span",{className:`status-badge ${R.className}`,children:R.label})},B=T=>new Date(T).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),q=T=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(T);return f?e.jsx("div",{className:"admin-inquiries",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Cargando consultas..."})]})}):e.jsxs("div",{className:"admin-inquiries",children:[e.jsxs("div",{className:"inquiries-header",children:[e.jsx("h2",{children:"📋 Gestión de Consultas"}),e.jsxs("div",{className:"inquiries-filters",children:[e.jsxs("button",{className:h==="pending"?"filter-active":"filter-button",onClick:()=>A("pending"),children:["Pendientes (",c.filter(T=>T.status==="pending").length,")"]}),e.jsx("button",{className:h==="approved"?"filter-active":"filter-button",onClick:()=>A("approved"),children:"Aprobadas"}),e.jsx("button",{className:h==="rejected"?"filter-active":"filter-button",onClick:()=>A("rejected"),children:"Rechazadas"}),e.jsx("button",{className:h==="all"?"filter-active":"filter-button",onClick:()=>A("all"),children:"Todas"})]})]}),b&&b!=="No tienes permisos para ver estas consultas. Por favor, verifica tu sesión."&&e.jsxs("div",{className:"error-message alert alert-danger",children:[e.jsx("i",{className:"fas fa-exclamation-triangle me-2"}),e.jsx("strong",{children:"Error:"})," ",b,e.jsx("div",{className:"mt-2",children:e.jsxs("button",{className:"btn btn-sm btn-outline-primary",onClick:()=>window.location.reload(),children:[e.jsx("i",{className:"fas fa-sync-alt me-1"})," Recargar página"]})})]}),e.jsx("div",{className:"inquiries-list",children:c.length===0?e.jsxs("div",{className:"no-inquiries",children:[e.jsxs("p",{children:["📝 No hay consultas ",h!=="all"?`con estado "${h}"`:""]}),(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1")&&e.jsxs("button",{className:"btn btn-sm btn-outline-info mt-3",onClick:()=>{o([{_id:"demo-inquiry-1",createdAt:new Date().toISOString(),guestName:"Juan Pérez",guestEmail:"juan@ejemplo.com",guestPhone:"+54 11 1234-5678",guestDni:"30123456",propertyTitle:"Santa Fe 3770",checkIn:new Date().toISOString(),checkOut:new Date(Date.now()+7*24*60*60*1e3).toISOString(),guests:2,totalPrice:1500,status:"pending",message:"Me interesa alquilar el departamento para la próxima semana"},{_id:"demo-inquiry-2",createdAt:new Date(Date.now()-3*24*60*60*1e3).toISOString(),guestName:"María González",guestEmail:"maria@ejemplo.com",guestPhone:"+54 11 8765-4321",propertyTitle:"Moldes 1680",checkIn:new Date(Date.now()+14*24*60*60*1e3).toISOString(),checkOut:new Date(Date.now()+21*24*60*60*1e3).toISOString(),guests:3,totalPrice:2200,status:"approved",message:"Necesito información sobre disponibilidad"}])},children:[e.jsx("i",{className:"fas fa-database me-1"})," Cargar datos de prueba"]})]}):e.jsxs("div",{className:"inquiries-table",children:[e.jsxs("div",{className:"table-header",children:[e.jsx("div",{children:"Fecha"}),e.jsx("div",{children:"Cliente"}),e.jsx("div",{children:"Propiedad"}),e.jsx("div",{children:"Check-in/out"}),e.jsx("div",{children:"Pax"}),e.jsx("div",{children:"Precio"}),e.jsx("div",{children:"Estado"}),e.jsx("div",{children:"Acciones"})]}),c.map(T=>e.jsxs("div",{className:"table-row",children:[e.jsx("div",{children:new Date(T.createdAt).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})}),e.jsxs("div",{children:[e.jsx("strong",{children:T.guestName}),e.jsx("br",{}),e.jsxs("small",{children:["📧 ",T.guestEmail]}),T.guestPhone&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsxs("small",{children:["📞 ",T.guestPhone]})]}),T.guestDni&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsxs("small",{children:["🆔 DNI: ",T.guestDni]})]})]}),e.jsx("div",{children:T.propertyTitle}),e.jsxs("div",{children:[e.jsxs("small",{children:["In: ",new Date(T.checkIn).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})]}),e.jsx("br",{}),e.jsxs("small",{children:["Out: ",new Date(T.checkOut).toLocaleDateString("es-ES",{day:"2-digit",month:"2-digit"})]})]}),e.jsx("div",{children:T.guests}),e.jsx("div",{children:q(T.totalPrice)}),e.jsx("div",{children:m(T.status)}),e.jsxs("div",{children:[e.jsx("button",{className:"details-button",onClick:()=>N(T),children:"Ver Detalles"}),e.jsx("button",{className:"delete-button",onClick:()=>d(T._id),title:"Eliminar consulta",children:"🗑️"})]})]},T._id))]})}),M&&D&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"📋 Detalles de la Consulta"}),e.jsx("button",{className:"close-button",onClick:()=>E(!1),children:"✕"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"inquiry-details",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"👤 Información del Cliente"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Nombre:"})," ",D.guestName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",D.guestEmail]}),D.guestPhone&&e.jsxs("p",{children:[e.jsx("strong",{children:"Teléfono:"})," ",D.guestPhone]}),D.guestDni&&e.jsxs("p",{children:[e.jsx("strong",{children:"DNI:"})," ",D.guestDni]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"🏠 Información de la Reserva"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Propiedad:"})," ",D.propertyTitle]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Check-in:"})," ",B(D.checkIn)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Check-out:"})," ",B(D.checkOut)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Huéspedes:"})," ",D.guests]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Precio Total:"})," ",q(D.totalPrice)]})]}),D.customMessage&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"💬 Mensaje del Cliente"}),e.jsx("p",{className:"custom-message",children:D.customMessage})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"ℹ️ Estado de la Consulta"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Estado Actual:"})," ",m(D.status)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Creada:"})," ",B(D.createdAt)]}),D.updatedAt!==D.createdAt&&e.jsxs("p",{children:[e.jsx("strong",{children:"Actualizada:"})," ",B(D.updatedAt)]})]}),D.status==="pending"&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"✍️ Respuesta del Administrador"}),e.jsx("textarea",{value:C,onChange:T=>L(T.target.value),placeholder:"Escribe una respuesta personalizada para el cliente (opcional)...",rows:"4",className:"admin-response-textarea"})]})]})}),D.status==="pending"&&e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"approve-button",onClick:()=>v(D._id,"approved"),disabled:P,children:P?"⏳ Procesando...":"✅ Aprobar Consulta"}),e.jsx("button",{className:"reject-button",onClick:()=>v(D._id,"rejected"),disabled:P,children:P?"⏳ Procesando...":"❌ Rechazar Consulta"}),e.jsx("button",{className:"delete-button-modal",onClick:()=>d(D._id),disabled:P,children:P?"⏳ Procesando...":"🗑️ Eliminar Consulta"}),e.jsx("button",{className:"cancel-button",onClick:()=>E(!1),disabled:P,children:"Cancelar"})]}),D.status!=="pending"&&e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{className:"delete-button-modal",onClick:()=>d(D._id),disabled:P,children:P?"⏳ Procesando...":"🗑️ Eliminar Consulta"}),e.jsx("button",{className:"cancel-button",onClick:()=>E(!1),disabled:P,children:"Cerrar"})]})]})})]})}function zg(){const[c,o]=p.useState([]),[f,u]=p.useState(!0),[b,g]=p.useState([]),[h,A]=p.useState(""),[D,k]=p.useState(""),[M,E]=p.useState(!1),[C,L]=p.useState(!1);p.useEffect(()=>{P()},[]);const P=async()=>{try{const B=await fetch("https://baconfort-production-084d.up.railway.app/api/subscribers");if(B.ok){const q=await B.json();console.log("📧 Subscribers API response:",q),Array.isArray(q)?o(q):q.success&&Array.isArray(q.data)||q.data&&Array.isArray(q.data)?o(q.data):(console.error("❌ Formato de datos inesperado:",q),o([]))}else console.error("Error al cargar suscriptores"),o([])}catch(m){console.error("Error al cargar suscriptores:",m),o([])}finally{u(!1)}},x=async m=>{if(confirm("¿Estás seguro de eliminar este suscriptor?"))try{(await fetch(`https://baconfort-production-084d.up.railway.app/api/subscribers/${m}`,{method:"DELETE"})).ok?(Array.isArray(c)&&o(c.filter(T=>T._id!==m)),alert("Suscriptor eliminado correctamente")):alert("Error al eliminar suscriptor")}catch(B){console.error("Error al eliminar suscriptor:",B),alert("Error al eliminar suscriptor")}},z=m=>{g(B=>B.includes(m)?B.filter(q=>q!==m):[...B,m])},v=()=>{Array.isArray(c)&&(b.length===c.length?g([]):g(c.map(m=>m._id)))},d=async()=>{if(!h.trim()||!D.trim()){alert("Por favor completa el asunto y mensaje del email");return}if(b.length===0){alert("Por favor selecciona al menos un suscriptor");return}L(!0);try{(await fetch("https://baconfort-production-084d.up.railway.app/api/subscribers/send-bulk-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({subscriberIds:b,subject:h,message:D})})).ok?(alert("Emails enviados correctamente"),E(!1),A(""),k(""),g([])):alert("Error al enviar emails")}catch(m){console.error("Error al enviar emails:",m),alert("Error al enviar emails")}finally{L(!1)}},N=()=>{if(!Array.isArray(c)){alert("No hay datos de suscriptores para exportar");return}const m=[["Email","Fecha de Suscripción","Estado"],...c.map(w=>[w.email,new Date(w.createdAt).toLocaleDateString(),w.active?"Activo":"Inactivo"])].map(w=>w.join(",")).join(`
`),B=new Blob([m],{type:"text/csv"}),q=window.URL.createObjectURL(B),T=document.createElement("a");T.href=q,T.download="suscriptores.csv",T.click(),window.URL.revokeObjectURL(q)};return f?e.jsxs("div",{className:"admin-subscribers-loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando suscriptores..."})]}):e.jsxs("div",{className:"admin-subscribers",children:[e.jsxs("div",{className:"subscribers-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-envelope"}),"Gestión de Suscriptores"]}),e.jsxs("div",{className:"subscribers-actions",children:[e.jsxs("button",{className:"btn btn-success",onClick:N,disabled:!Array.isArray(c)||c.length===0,children:[e.jsx("i",{className:"fas fa-download"}),"Exportar CSV"]}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>E(!0),disabled:b.length===0,children:[e.jsx("i",{className:"fas fa-paper-plane"}),"Enviar Email (",b.length,")"]})]})]}),e.jsxs("div",{className:"subscribers-stats",children:[e.jsxs("div",{className:"stat-card",children:[e.jsx("i",{className:"fas fa-users"}),e.jsxs("div",{children:[e.jsx("h3",{children:Array.isArray(c)?c.length:0}),e.jsx("p",{children:"Total Suscriptores"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("i",{className:"fas fa-user-check"}),e.jsxs("div",{children:[e.jsx("h3",{children:Array.isArray(c)?c.filter(m=>m.active).length:0}),e.jsx("p",{children:"Activos"})]})]}),e.jsxs("div",{className:"stat-card",children:[e.jsx("i",{className:"fas fa-calendar-day"}),e.jsxs("div",{children:[e.jsx("h3",{children:Array.isArray(c)?c.filter(m=>new Date(m.createdAt)>new Date(Date.now()-7*24*60*60*1e3)).length:0}),e.jsx("p",{children:"Esta Semana"})]})]})]}),e.jsxs("div",{className:"subscribers-table-container",children:[e.jsx("div",{className:"table-controls",children:e.jsxs("button",{className:"btn btn-outline-primary",onClick:v,children:[e.jsx("i",{className:"fas fa-check-square"}),Array.isArray(c)&&b.length===c.length?"Deseleccionar Todo":"Seleccionar Todo"]})}),e.jsxs("table",{className:"subscribers-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:e.jsx("input",{type:"checkbox",checked:Array.isArray(c)&&b.length===c.length&&c.length>0,onChange:v})}),e.jsx("th",{children:"Email"}),e.jsx("th",{children:"Fecha de Suscripción"}),e.jsx("th",{children:"Estado"}),e.jsx("th",{children:"Acciones"})]})}),e.jsx("tbody",{children:!Array.isArray(c)||c.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",className:"no-subscribers",children:[e.jsx("i",{className:"fas fa-inbox"}),e.jsx("p",{children:Array.isArray(c)?"No hay suscriptores registrados":"Error cargando suscriptores"})]})}):c.map(m=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("input",{type:"checkbox",checked:b.includes(m._id),onChange:()=>z(m._id)})}),e.jsx("td",{children:m.email}),e.jsx("td",{children:new Date(m.createdAt).toLocaleDateString()}),e.jsx("td",{children:e.jsx("span",{className:`status-badge ${m.active?"active":"inactive"}`,children:m.active?"Activo":"Inactivo"})}),e.jsx("td",{children:e.jsx("button",{className:"btn btn-sm btn-danger",onClick:()=>x(m._id),title:"Eliminar suscriptor",children:e.jsx("i",{className:"fas fa-trash"})})})]},m._id))})]})]}),M&&e.jsx("div",{className:"email-modal-overlay",children:e.jsxs("div",{className:"email-modal",children:[e.jsxs("div",{className:"email-modal-header",children:[e.jsxs("h3",{children:[e.jsx("i",{className:"fas fa-paper-plane"}),"Enviar Email a ",b.length," suscriptores"]}),e.jsx("button",{className:"close-modal",onClick:()=>E(!1),children:e.jsx("i",{className:"fas fa-times"})})]}),e.jsxs("div",{className:"email-modal-body",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Asunto:"}),e.jsx("input",{type:"text",value:h,onChange:m=>A(m.target.value),placeholder:"Asunto del email",className:"form-control"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{children:"Mensaje:"}),e.jsx("textarea",{value:D,onChange:m=>k(m.target.value),placeholder:"Escribe tu mensaje aquí...",className:"form-control",rows:"6"})]})]}),e.jsxs("div",{className:"email-modal-footer",children:[e.jsx("button",{className:"btn btn-secondary",onClick:()=>E(!1),children:"Cancelar"}),e.jsx("button",{className:"btn btn-primary",onClick:d,disabled:C,children:C?e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),"Enviando..."]}):e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-paper-plane"}),"Enviar Email"]})})]})]})})]})}const Ug=()=>{const{adminUser:c,sessionId:o,logout:f}=Xe();if(!c)return null;const u=b=>new Date(b).toLocaleString("es-AR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit"});return e.jsxs("div",{className:"admin-session-info",children:[e.jsxs("div",{className:"session-details",children:[e.jsx("div",{className:"admin-avatar",children:e.jsx("i",{className:"fas fa-user-shield"})}),e.jsxs("div",{className:"admin-info",children:[e.jsx("span",{className:"admin-name",children:c.name}),e.jsx("span",{className:"admin-email",children:c.email}),e.jsxs("span",{className:"session-time",children:["Conectado: ",u(c.loginTime)]})]})]}),e.jsx("button",{className:"logout-btn",onClick:f,title:"Cerrar sesión",children:e.jsx("i",{className:"fas fa-sign-out-alt"})})]})};function Lg(){const{logout:c,getAllProperties:o,debugStoredProperties:f,addProperty:u}=Xe(),[b,g]=p.useState("dashboard"),[h,A]=p.useState(null),D=()=>{console.log("AdminPanel: Ejecutando handleLogout - Cerrando sesión directamente"),localStorage.removeItem("baconfort-token"),localStorage.removeItem("baconfort-admin-token"),localStorage.removeItem("baconfort_admin_session"),localStorage.removeItem("baconfort-user"),window.location.href="/"},k=o(),M=C=>{A(C),g("edit")},E=()=>{switch(b){case"dashboard":return e.jsx(_m,{onEditProperty:M});case"reservations":return e.jsx(Mg,{});case"inquiries":return e.jsx(Pg,{});case"subscribers":return e.jsx(zg,{});case"reviews":return e.jsx(Og,{});case"users":return e.jsx(Rg,{});case"promotions":return e.jsx(kg,{});case"amenities":return e.jsx(Tg,{});case"add-property":return e.jsx(Bm,{propertyId:null,onBack:()=>g("dashboard")});case"edit":return h?e.jsx(Bm,{propertyId:h,onBack:()=>g("dashboard")}):e.jsxs("div",{className:"alert alert-warning",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),"Selecciona una propiedad para editar"]});default:return e.jsx(_m,{onEditProperty:M})}};return e.jsxs("div",{className:"admin-panel",children:[e.jsx("header",{className:"admin-header",children:e.jsxs("div",{className:"admin-header-content",children:[e.jsxs("div",{className:"admin-brand",children:[e.jsx("i",{className:"fas fa-shield-alt"}),e.jsx("h1",{children:"Panel de Administración - BACONFORT"})]}),e.jsxs("button",{className:"btn btn-outline-light",onClick:D,children:[e.jsx("i",{className:"fas fa-sign-out-alt"}),"Cerrar Sesión"]})]})}),e.jsxs("div",{className:"admin-content",children:[e.jsx(Ug,{}),e.jsx("aside",{className:"admin-sidebar",children:e.jsxs("nav",{className:"admin-nav",children:[e.jsxs("button",{className:`admin-nav-item ${b==="dashboard"?"active":""}`,onClick:()=>g("dashboard"),children:[e.jsx("i",{className:"fas fa-chart-line"}),"Dashboard"]}),e.jsxs("button",{className:`admin-nav-item ${b==="reservations"?"active":""}`,onClick:()=>g("reservations"),children:[e.jsx("i",{className:"fas fa-calendar-check"}),"Gestión Reservas"]}),e.jsxs("button",{className:`admin-nav-item ${b==="inquiries"?"active":""}`,onClick:()=>g("inquiries"),children:[e.jsx("i",{className:"fas fa-envelope"}),"Consultas"]}),e.jsxs("button",{className:`admin-nav-item ${b==="subscribers"?"active":""}`,onClick:()=>g("subscribers"),children:[e.jsx("i",{className:"fas fa-envelope-open"}),"Suscriptores"]}),e.jsxs("button",{className:`admin-nav-item ${b==="reviews"?"active":""}`,onClick:()=>g("reviews"),children:[e.jsx("i",{className:"fas fa-star"}),"Reseñas"]}),e.jsxs("button",{className:`admin-nav-item ${b==="users"?"active":""}`,onClick:()=>g("users"),children:[e.jsx("i",{className:"fas fa-users"}),"Usuarios"]}),e.jsxs("button",{className:`admin-nav-item ${b==="promotions"?"active":""}`,onClick:()=>g("promotions"),children:[e.jsx("i",{className:"fas fa-percent"}),"Promociones"]}),e.jsxs("button",{className:`admin-nav-item ${b==="amenities"?"active":""}`,onClick:()=>g("amenities"),children:[e.jsx("i",{className:"fas fa-cog"}),"Comodidades"]}),e.jsxs("div",{className:"admin-nav-section",children:[e.jsxs("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[e.jsx("h4",{children:"Propiedades"}),e.jsx("button",{className:"btn btn-sm btn-success",onClick:()=>g("add-property"),title:"Agregar nueva propiedad",children:e.jsx("i",{className:"fas fa-plus"})})]}),e.jsxs("button",{className:`admin-nav-item ${b==="add-property"?"active":""}`,onClick:()=>g("add-property"),children:[e.jsx("i",{className:"fas fa-plus-circle"}),"Agregar Propiedad"]}),Object.values(k).map(C=>e.jsxs("button",{className:`admin-nav-item property-item ${h===C.id&&b==="edit"?"active":""}`,onClick:()=>M(C.id),children:[e.jsx("i",{className:"fas fa-building"}),C.title]},C.id))]})]})}),e.jsx("main",{className:"admin-main",children:E()})]})]})}function Ig(){const{isAuthenticated:c}=Xe(),{isAuthorized:o,isChecking:f}=Up();return f?e.jsxs("div",{className:"admin-page",children:[e.jsx(Ms,{}),e.jsx("div",{style:{textAlign:"center",marginTop:"20px",color:"#666"},children:"Verificando acceso autorizado..."})]}):o?e.jsx("div",{className:"admin-page",children:c?e.jsx(Lg,{}):e.jsx(bg,{})}):null}function Bg(){const{user:c,isAuthenticated:o}=is(),[f,u]=p.useState([]),[b,g]=p.useState(!0),[h,A]=p.useState(null);p.useEffect(()=>{o()&&D()},[o]);const D=async()=>{try{const L=localStorage.getItem("baconfort-token");if(!L){A("Debes iniciar sesión para ver tus reservas");return}const P=await fetch(`${at}/reservations/my`,{headers:{Authorization:`Bearer ${L}`,"Content-Type":"application/json"}});if(P.ok){const x=await P.json();console.log("✅ MY RESERVATIONS: Respuesta completa:",x);const z=x.data||x;console.log("✅ MY RESERVATIONS: Reservas cargadas:",z.length),u(z),A(null)}else{const x=await P.json();A(x.message||"Error cargando reservas")}}catch(L){console.error("Error fetching reservations:",L),A("Error de conexión")}finally{g(!1)}},k=async L=>{if(window.confirm("¿Estás seguro de que quieres cancelar esta reserva?"))try{const P=localStorage.getItem("baconfort-token");if(!P){alert("Debes iniciar sesión para cancelar reservas");return}const x=await fetch(`${at}/reservations/${L}/cancel`,{method:"PUT",headers:{Authorization:`Bearer ${P}`,"Content-Type":"application/json"}});if(x.ok)D(),alert("Reserva cancelada exitosamente");else{const z=await x.json();alert(z.message||"Error cancelando reserva")}}catch(P){console.error("Error cancelling reservation:",P),alert("Error de conexión")}},M=L=>{const x={pending:{text:"Pendiente",class:"status-pending"},confirmed:{text:"Confirmada",class:"status-confirmed"},cancelled:{text:"Cancelada",class:"status-cancelled"},completed:{text:"Completada",class:"status-completed"}}[L]||{text:L,class:"status-unknown"};return e.jsx("span",{className:`status-badge ${x.class}`,children:x.text})},E=L=>new Date(L).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}),C=(L,P)=>{const x=new Date(L),z=new Date(P),v=Math.abs(z-x);return Math.ceil(v/(1e3*60*60*24))};return o()?b?e.jsx("div",{className:"my-reservations-container",children:e.jsxs("div",{className:"loading",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("p",{children:"Cargando tus reservas..."})]})}):h?e.jsx("div",{className:"my-reservations-container",children:e.jsxs("div",{className:"error",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("h3",{children:"Error cargando reservas"}),e.jsx("p",{children:h}),e.jsx("button",{onClick:D,className:"retry-btn",children:"Intentar nuevamente"})]})}):e.jsxs("div",{className:"my-reservations-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("h1",{children:[e.jsx("i",{className:"fas fa-calendar-check"}),"Mis Reservas"]}),e.jsx("p",{children:"Gestiona y revisa todas tus reservas en BACONFORT"})]}),f.length===0?e.jsxs("div",{className:"no-reservations",children:[e.jsx("i",{className:"fas fa-calendar-times"}),e.jsx("h3",{children:"No tienes reservas aún"}),e.jsx("p",{children:"Cuando hagas tu primera reserva, aparecerá aquí."}),e.jsxs("a",{href:"/",className:"browse-btn",children:[e.jsx("i",{className:"fas fa-search"}),"Explorar Propiedades"]})]}):e.jsx("div",{className:"reservations-grid",children:f.map(L=>e.jsxs("div",{className:"reservation-card",children:[e.jsxs("div",{className:"reservation-header",children:[e.jsx("h3",{children:L.propertyName}),M(L.status)]}),e.jsxs("div",{className:"reservation-dates",children:[e.jsxs("div",{className:"date-info",children:[e.jsx("i",{className:"fas fa-calendar-alt"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Check-in:"})," ",E(L.checkIn),e.jsx("br",{}),e.jsx("strong",{children:"Check-out:"})," ",E(L.checkOut)]})]}),e.jsxs("div",{className:"nights-info",children:[e.jsx("i",{className:"fas fa-moon"}),e.jsxs("span",{children:[C(L.checkIn,L.checkOut)," noches"]})]})]}),e.jsxs("div",{className:"reservation-details",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-users"}),e.jsxs("span",{children:[L.guests," huéspedes"]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-user"}),e.jsx("span",{children:L.fullName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-envelope"}),e.jsx("span",{children:L.email})]}),L.phone&&e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-phone"}),e.jsx("span",{children:L.phone})]})]}),L.message&&e.jsxs("div",{className:"reservation-message",children:[e.jsxs("h4",{children:[e.jsx("i",{className:"fas fa-comment"})," Mensaje:"]}),e.jsx("p",{children:L.message})]}),e.jsxs("div",{className:"reservation-footer",children:[e.jsxs("div",{className:"reservation-date",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsxs("span",{children:["Creada: ",E(L.createdAt)]})]}),(L.status==="pending"||L.status==="confirmed")&&e.jsxs("button",{onClick:()=>k(L._id),className:"cancel-btn",children:[e.jsx("i",{className:"fas fa-times"}),"Cancelar"]})]})]},L._id))})]}):e.jsx("div",{className:"my-reservations-container",children:e.jsxs("div",{className:"auth-required",children:[e.jsx("i",{className:"fas fa-user-lock"}),e.jsx("h3",{children:"Inicia sesión para ver tus reservas"}),e.jsx("p",{children:"Necesitas estar autenticado para acceder a tu historial de reservas."})]})})}var Xl={},qm;function _g(){if(qm)return Xl;qm=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.loadMercadoPago=void 0;const c="https://sdk.mercadopago.com/js/v2",o=/^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/,f="MercadoPago has already been initialized in your window, please remove the duplicate import",u="MercadoPago.js not available",b="Failed to load MercadoPago.js",g=()=>{for(var k=document.querySelectorAll(`script[src^="${c}"`),M=0;M<k.length;M++){var E=k[M];if(o.test(E.src))return E}return null},h=()=>{const k=document.createElement("script");k.src=c;const M=document.head||document.body;if(!M)throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");return M.appendChild(k),k};let A=null;const D=()=>(A!==null||(A=new Promise((k,M)=>{if(typeof window>"u"){k(null);return}if(window.MercadoPago){console.warn(f),k(window.MercadoPago);return}try{let E=g();E?console.warn(f):E||(E=h()),E.addEventListener("load",()=>{window.MercadoPago?k(window.MercadoPago):M(new Error(u))}),E.addEventListener("error",()=>{M(new Error(b))})}catch(E){M(E);return}})),A);return Xl.loadMercadoPago=D,Xl}_g();const qg=()=>{const[c,o]=p.useState([]),[f,u]=p.useState(!0),[b,g]=p.useState(""),[h,A]=p.useState("active"),[D,k]=p.useState(null),[M,E]=p.useState(!1);p.useEffect(()=>{console.log("🔄 UserReservations: useEffect triggered"),C();const w=setInterval(()=>{console.log("🔄 UserReservations: Auto-refresh triggered"),C()},3e4);return()=>clearInterval(w)},[]);const C=async()=>{console.log("📥 UserReservations: iniciando carga de reservas...");try{u(!0),g("");const w=localStorage.getItem("baconfort-token");if(console.log("🔑 UserReservations: Token encontrado:",w?`${w.substring(0,20)}...`:"NO EXISTE"),!w){g("No hay sesión activa. Por favor inicia sesión nuevamente."),u(!1);return}if(w.startsWith("eyJ"))try{const U=JSON.parse(atob(w.split(".")[1])),F=Date.now()/1e3;if(U.exp&&U.exp<F){console.log("⏰ Token expirado, intentando renovar...");const G=JSON.parse(localStorage.getItem("baconfort-user")||"{}");if(G.email){const Y=await fetch("https://baconfort-production-084d.up.railway.app/api/auth/refresh-token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:G.email})});if(Y.ok){const O=await Y.json();localStorage.setItem("baconfort-token",O.token),localStorage.setItem("baconfort-user",JSON.stringify(O.user)),console.log("✅ Token renovado exitosamente")}}}}catch(U){console.log("⚠️ No se pudo verificar expiración del token:",U.message)}console.log("🌐 UserReservations: Haciendo llamada a API usando getUserReservations...");const R=await wp();console.log("📡 UserReservations: Resultado de getUserReservations:",R),Array.isArray(R)?(o(R),console.log("✅ UserReservations: Reservas cargadas exitosamente (array directo):",R.length),R.forEach((U,F)=>{console.log(`📋 Reserva ${F+1}: ID=${U._id}, Estado=${U.status}, Propiedad=${U.propertyTitle}`)})):R.success&&R.reservations?(o(R.reservations),console.log("✅ UserReservations: Reservas cargadas exitosamente (objeto):",R.reservations.length),R.reservations.forEach((U,F)=>{console.log(`📋 Reserva ${F+1}: ID=${U._id}, Estado=${U.status}, Propiedad=${U.propertyTitle}`)})):(console.log("❌ UserReservations: No se pudieron cargar las reservas:",(R==null?void 0:R.error)||"Estructura de respuesta inesperada"),g((R==null?void 0:R.error)||"Error al cargar las reservas"),o([]))}catch(w){console.error("Error al cargar reservas:",w),w.message.includes("Token inválido")||w.message.includes("Token expirado")?(g("Tu sesión ha expirado. Por favor inicia sesión nuevamente."),localStorage.removeItem("baconfort-token"),localStorage.removeItem("baconfort-user"),setTimeout(()=>{window.location.pathname.includes("/login")||(window.location.href="/login?reason=session_expired")},3e3)):w.message.includes("Failed to fetch")||w.message.includes("Network")?g("Error de conexión. Verifica que el servidor esté ejecutándose en http://localhost:3002"):g(`Error al cargar reservas: ${w.message}`),o([])}finally{u(!1)}},L=async w=>{if(window.confirm("¿Estás seguro de que quieres cancelar esta reserva?"))try{await Dp(w,"cancelled"),o(R=>R.map(U=>U._id===w?{...U,status:"cancelled"}:U))}catch(R){console.error("Error al cancelar reserva:",R),g("Error al cancelar la reserva")}},P=w=>{console.log("🔍 Ver detalles de reserva:",w._id),k(w),E(!0)},x=()=>{E(!1),k(null)},z=w=>{const R=new Date;switch(w){case"active":return c.filter(U=>["pending","confirmed"].includes(U.status)&&new Date(U.checkOut)>=R);case"completed":return c.filter(U=>U.status==="completed"||U.status==="confirmed"&&new Date(U.checkOut)<R);case"cancelled":return c.filter(U=>U.status==="cancelled");default:return c}},v=w=>{window.location.href=`/pending-payments?reservation=${w._id}`},d=(w,R)=>{const U={pending:"Pendiente de aprobación",approved:"Aprobada",payment_pending:"💳 Pendiente de pago",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada",rejected:"Rechazada"};return w==="confirmed"&&(!R.paymentInfo||!R.paymentInfo.provider||!R.paymentInfo.amount)?"✅ Seña pagada - Lista para estadía":w==="confirmed"&&R.paymentInfo&&(R.paymentInfo.provider==="cash"||R.paymentInfo.provider==="efectivo")&&new Date(R.checkOut)>=new Date?"💳 Pago pendiente":U[w]||w},N=(w,R)=>{switch(w){case"pending":return"status-pending";case"approved":case"payment_pending":return"status-ready-pay";case"confirmed":return!R.paymentInfo||!R.paymentInfo.provider||!R.paymentInfo.amount||R.paymentInfo&&(R.paymentInfo.provider==="cash"||R.paymentInfo.provider==="efectivo")&&new Date(R.checkOut)>=new Date?"status-ready-pay":"status-confirmed";case"cancelled":case"rejected":return"status-cancelled";case"completed":return"status-completed";default:return"status-default"}},m=w=>{const F=new Date(w.checkIn)-new Date,G=Math.ceil(F/(1e3*60*60*24));return["pending","confirmed"].includes(w.status)&&G>1},B=w=>new Date(w).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),q=(w,R)=>{const U=new Date(w),F=new Date(R),G=Math.abs(F-U);return Math.ceil(G/(1e3*60*60*24))},T=z(h);return f?e.jsx("div",{className:"user-reservations-container",children:e.jsxs("div",{className:"loading-state",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("h3",{children:"Cargando reservas..."}),e.jsx("p",{children:"Por favor espera un momento"})]})}):b?e.jsx("div",{className:"user-reservations-container",children:e.jsxs("div",{className:"error-state",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("h3",{children:"Error al cargar reservas"}),e.jsx("p",{className:"error-message",children:b}),e.jsxs("div",{className:"error-actions",children:[e.jsxs("button",{className:"retry-btn",onClick:()=>{g(""),C()},children:[e.jsx("i",{className:"fas fa-retry"}),"Reintentar"]}),b.includes("sesión")&&e.jsxs("a",{href:"/login",className:"login-btn",children:[e.jsx("i",{className:"fas fa-sign-in-alt"}),"Iniciar Sesión"]}),b.includes("servidor")&&e.jsxs("div",{className:"server-help",children:[e.jsx("p",{children:e.jsx("strong",{children:"Para desarrolladores:"})}),e.jsx("p",{children:"1. Verifica que el backend esté ejecutándose"}),e.jsxs("p",{children:["2. Ejecuta: ",e.jsx("code",{children:"cd baconfort-backend && npm start"})]}),e.jsxs("p",{children:["3. El servidor debe estar en: ",e.jsx("code",{children:"http://localhost:3002"})]})]})]})]})}):b?e.jsx("div",{className:"user-reservations-container",children:e.jsxs("div",{className:"error-state",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("h3",{children:"Error al cargar reservas"}),e.jsx("p",{children:b}),e.jsx("div",{className:"error-actions",children:e.jsxs("button",{className:"btn btn-primary",onClick:C,children:[e.jsx("i",{className:"fas fa-redo"}),"Reintentar"]})})]})}):e.jsxs("div",{className:"user-reservations-container",children:[e.jsxs("div",{className:"page-header",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-calendar-alt"}),"Mis Reservas"]}),e.jsx("p",{children:"Gestiona y revisa el historial de tus reservas"}),e.jsxs("button",{className:"refresh-btn",onClick:()=>{console.log("🔄 Manual refresh triggered"),C()},disabled:f,children:[e.jsx("i",{className:`fas fa-sync-alt ${f?"fa-spin":""}`}),f?"Actualizando...":"Actualizar"]})]}),e.jsxs("div",{className:"stats-cards",children:[e.jsxs("div",{className:"stat-card active",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsxs("div",{children:[e.jsx("h3",{children:z("active").length}),e.jsx("p",{children:"Reservas Activas"})]})]}),e.jsxs("div",{className:"stat-card completed",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsxs("div",{children:[e.jsx("h3",{children:z("completed").length}),e.jsx("p",{children:"Completadas"})]})]}),e.jsxs("div",{className:"stat-card cancelled",children:[e.jsx("i",{className:"fas fa-times-circle"}),e.jsxs("div",{children:[e.jsx("h3",{children:z("cancelled").length}),e.jsx("p",{children:"Canceladas"})]})]})]}),e.jsxs("div",{className:"tab-filters",children:[e.jsxs("button",{className:`tab-btn ${h==="active"?"active":""}`,onClick:()=>A("active"),children:[e.jsx("i",{className:"fas fa-clock"}),"Activas (",z("active").length,")"]}),e.jsxs("button",{className:`tab-btn ${h==="completed"?"active":""}`,onClick:()=>A("completed"),children:[e.jsx("i",{className:"fas fa-check-circle"}),"Completadas (",z("completed").length,")"]}),e.jsxs("button",{className:`tab-btn ${h==="cancelled"?"active":""}`,onClick:()=>A("cancelled"),children:[e.jsx("i",{className:"fas fa-times-circle"}),"Canceladas (",z("cancelled").length,")"]})]}),e.jsx("div",{className:"reservations-list",children:T.length===0?e.jsxs("div",{className:"no-reservations",children:[e.jsx("i",{className:"fas fa-calendar-times"}),e.jsx("h3",{children:"No hay reservas en esta categoría"}),e.jsxs("p",{children:[h==="active"&&"No tienes reservas activas en este momento.",h==="completed"&&"No tienes reservas completadas.",h==="cancelled"&&"No tienes reservas canceladas."]}),c.length===0&&e.jsxs("div",{className:"empty-state-actions",children:[e.jsx("p",{children:"¿Es la primera vez que visitas? ¡Haz tu primera reserva!"}),e.jsxs("button",{className:"btn btn-primary",onClick:()=>window.location.href="/",children:[e.jsx("i",{className:"fas fa-plus"}),"Hacer una Reserva"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:C,children:[e.jsx("i",{className:"fas fa-redo"}),"Actualizar"]})]})]}):T.map(w=>e.jsxs("div",{className:"reservation-card",children:[e.jsxs("div",{className:"reservation-header",children:[e.jsxs("div",{className:"property-info",children:[e.jsx("h4",{children:w.propertyName}),e.jsxs("span",{className:"property-id",children:["ID: ",w.propertyId]})]}),e.jsx("div",{className:N(w.status,w),children:d(w.status,w)})]}),e.jsxs("div",{className:"reservation-details",children:[e.jsxs("div",{className:"detail-group",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-calendar-check"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Check-in"}),e.jsx("span",{children:B(w.checkIn)})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-calendar-times"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Check-out"}),e.jsx("span",{children:B(w.checkOut)})]})]})]}),e.jsxs("div",{className:"detail-group",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-moon"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Noches"}),e.jsx("span",{children:q(w.checkIn,w.checkOut)})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-users"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Huéspedes"}),e.jsx("span",{children:w.guests})]})]})]}),w.paymentInfo&&w.paymentInfo.provider&&w.paymentInfo.amount&&e.jsx("div",{className:"payment-info-section",children:e.jsxs("div",{className:"detail-item payment-detail",children:[e.jsx("i",{className:"fas fa-credit-card"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Información de Pago"}),e.jsxs("div",{className:"payment-details",children:[e.jsxs("span",{className:"payment-provider",children:[console.log(`🔍 [PaymentInfo] Renderizando provider para ${w._id}: ${w.paymentInfo.provider}`),w.paymentInfo.provider==="mercadopago"?"Mercado Pago":w.paymentInfo.provider==="payoneer"?"Payoneer":w.paymentInfo.provider==="efectivo"||w.paymentInfo.provider==="cash"?"Pago en Efectivo":"Método desconocido"]}),w.paymentInfo.amount&&e.jsxs("span",{className:"payment-amount",children:[w.paymentInfo.currency||"USD"," $",w.paymentInfo.amount]}),w.paymentInfo.paidAt&&e.jsx("span",{className:"payment-date",children:(w.paymentInfo.provider==="efectivo"||w.paymentInfo.provider==="cash")&&w.status!=="completed"?"Pago pendiente (al llegar)":w.paymentInfo.paymentStatus==="approved"?`Pagado: ${B(w.paymentInfo.paidAt)}`:`Pagado: ${B(w.paymentInfo.paidAt)}`}),w.paymentInfo.paymentId&&e.jsxs("span",{className:"payment-id",children:["ID: ",w.paymentInfo.paymentId]})]})]})]})}),e.jsxs("div",{className:"reservation-status-message",children:[w.status==="pending"&&e.jsxs("div",{className:"status-message pending",children:[e.jsx("i",{className:"fas fa-clock"}),e.jsx("span",{children:"Tu reserva está siendo revisada por nuestro equipo. Te notificaremos cuando esté lista."})]}),w.status==="payment_pending"&&e.jsxs("div",{className:"status-message payment-ready",children:[e.jsx("i",{className:"fas fa-credit-card"}),e.jsx("span",{children:"¡Tu reserva ha sido aprobada! Puedes proceder con el pago."})]}),w.status==="confirmed"&&w.paymentInfo&&w.paymentInfo.provider&&w.paymentInfo.amount&&e.jsxs("div",{className:"status-message confirmed",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("span",{children:w.paymentInfo.provider==="efectivo"||w.paymentInfo.provider==="cash"?"¡Reserva confirmada! Te esperamos en las fechas indicadas.":"¡Reserva confirmada y pagada! Te esperamos en las fechas indicadas."})]}),w.status==="confirmed"&&(!w.paymentInfo||!w.paymentInfo.provider||!w.paymentInfo.amount)&&e.jsxs("div",{className:"status-message payment-ready",children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("span",{children:"¡Seña del 30% pagada! Ya puedes prepararte para tu estadía. El 70% restante lo pagas al llegar."})]}),w.status==="rejected"&&w.rejectedReason&&e.jsxs("div",{className:"status-message rejected",children:[e.jsx("i",{className:"fas fa-times-circle"}),e.jsxs("span",{children:["Reserva rechazada: ",w.rejectedReason]})]}),w.status==="completed"&&e.jsxs("div",{className:"status-message completed",children:[e.jsx("i",{className:"fas fa-flag-checkered"}),e.jsx("span",{children:"¡Estadía completada! Esperamos que hayas disfrutado tu experiencia."})]})]}),w.adminNotes&&e.jsx("div",{className:"admin-notes-section",children:e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-sticky-note"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Nota del administrador:"}),e.jsx("span",{className:"admin-note",children:w.adminNotes})]})]})}),e.jsx("div",{className:"reservation-dates",children:e.jsxs("small",{children:["Reserva creada el ",B(w.createdAt)]})})]}),e.jsxs("div",{className:"reservation-actions",children:[m(w)&&e.jsxs("button",{className:"btn btn-danger",onClick:()=>L(w._id),children:[e.jsx("i",{className:"fas fa-times"}),"Cancelar Reserva"]}),e.jsxs("button",{className:"btn btn-info",onClick:()=>P(w),children:[e.jsx("i",{className:"fas fa-eye"}),"Ver Detalles"]}),["approved","payment_pending"].includes(w.status)&&e.jsxs("button",{className:"btn btn-primary btn-pay",onClick:()=>v(w),children:[e.jsx("i",{className:"fas fa-credit-card"}),"💳 Realizar Pago"]})]})]},w._id))}),M&&e.jsx("div",{className:"details-modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("span",{className:"close",onClick:x,children:"×"}),e.jsx("h3",{children:"Detalles de la Reserva"}),D&&e.jsxs("div",{className:"reservation-details-modal",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"PROPIEDAD:"}),e.jsx("span",{children:D.propertyName})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"ID DE PROPIEDAD:"}),e.jsx("span",{children:D.propertyId})]}),e.jsxs("div",{className:"detail-grid",children:[e.jsxs("div",{className:"detail-item",children:[e.jsx("div",{className:"detail-icon",children:e.jsx("i",{className:"fas fa-moon"})}),e.jsxs("div",{className:"detail-content",children:[e.jsx("strong",{children:"NOCHES"}),e.jsx("span",{children:q(D.checkIn,D.checkOut)})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("div",{className:"detail-icon",children:e.jsx("i",{className:"fas fa-users"})}),e.jsxs("div",{className:"detail-content",children:[e.jsx("strong",{children:"HUÉSPEDES"}),e.jsx("span",{children:D.guests})]})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"CHECK-IN:"}),e.jsx("span",{children:B(D.checkIn)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"CHECK-OUT:"}),e.jsx("span",{children:B(D.checkOut)})]}),D.specialRequests&&e.jsxs("div",{className:"detail-item special-requests",children:[e.jsx("strong",{children:"SOLICITUDES ESPECIALES:"}),e.jsx("span",{children:D.specialRequests})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"ESTADO:"}),e.jsx("span",{className:`status ${D.status.toLowerCase()}`,children:d(D.status,D)})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("strong",{children:"RESERVA CREADA EL:"}),e.jsx("span",{children:B(D.createdAt)})]})]})]})})]})};function Hg(){const c=ns(),[o,f]=p.useState([]),[u,b]=p.useState(!0),[g,h]=p.useState(null),[A,D]=p.useState(null),[k,M]=p.useState(!1);p.useEffect(()=>{E()},[]);const E=async()=>{try{b(!0),console.log("🔄 USER INQUIRIES: Cargando mis consultas...");const v=await Tp();console.log("✅ USER INQUIRIES: Respuesta:",v),v.success?(f(v.inquiries||[]),h(null)):h(v.message||"Error cargando consultas")}catch(v){console.error("❌ USER INQUIRIES: Error:",v),h("Error cargando consultas")}finally{b(!1)}},C=v=>{D(v),M(!0)},L=v=>{const N={pending:{label:"Pendiente",className:"status-pending",icon:"⏳"},approved:{label:"Aprobada",className:"status-approved",icon:"✅"},rejected:{label:"Rechazada",className:"status-rejected",icon:"❌"}}[v]||{label:v,className:"status-unknown",icon:"❓"};return e.jsxs("span",{className:`status-badge ${N.className}`,children:[N.icon," ",N.label]})},P=v=>new Date(v).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),x=v=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"USD"}).format(v),z=v=>{if(v.propertyId){const d=new URLSearchParams({checkIn:v.checkIn.split("T")[0],checkOut:v.checkOut.split("T")[0],guests:v.guests.toString()});c(`/departamentos/${v.propertyId}?${d.toString()}`)}else{console.warn("No se encontró propertyId, buscando por título...");const d=v.propertyTitle.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"");c(`/departamentos/${d}`)}};return u?e.jsx("div",{className:"user-inquiries",children:e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Cargando tus consultas..."})]})}):e.jsxs("div",{className:"user-inquiries",children:[e.jsxs("div",{className:"inquiries-header",children:[e.jsx("h3",{children:"📋 Mis Consultas de Disponibilidad"}),e.jsx("p",{className:"inquiries-description",children:"Aquí puedes ver todas las consultas de disponibilidad que has enviado y su estado actual."})]}),g&&e.jsx("div",{className:"error-message",children:e.jsxs("p",{children:["❌ ",g]})}),o.length===0?e.jsxs("div",{className:"no-inquiries",children:[e.jsx("div",{className:"no-inquiries-icon",children:"📝"}),e.jsx("h4",{children:"No tienes consultas aún"}),e.jsx("p",{children:"Cuando envíes una consulta de disponibilidad desde una propiedad, aparecerá aquí."})]}):e.jsx("div",{className:"inquiries-grid",children:o.map(v=>e.jsxs("div",{className:"inquiry-card",children:[e.jsxs("div",{className:"inquiry-header",children:[e.jsxs("div",{className:"inquiry-property",children:[e.jsx("h4",{children:v.propertyTitle}),e.jsx("span",{className:"inquiry-date",children:P(v.createdAt)})]}),L(v.status)]}),e.jsxs("div",{className:"inquiry-details",children:[e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"📅 Check-in:"}),e.jsx("span",{className:"detail-value",children:new Date(v.checkIn).toLocaleDateString("es-ES")})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"📅 Check-out:"}),e.jsx("span",{className:"detail-value",children:new Date(v.checkOut).toLocaleDateString("es-ES")})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"👥 Huéspedes:"}),e.jsx("span",{className:"detail-value",children:v.guests})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{className:"detail-label",children:"💰 Precio:"}),e.jsx("span",{className:"detail-value",children:x(v.totalPrice)})]})]}),v.customMessage&&e.jsxs("div",{className:"inquiry-message",children:[e.jsx("p",{children:e.jsx("strong",{children:"Tu mensaje:"})}),e.jsxs("p",{className:"message-text",children:['"',v.customMessage,'"']})]}),v.adminResponse&&e.jsxs("div",{className:"admin-response",children:[e.jsx("p",{children:e.jsx("strong",{children:"Respuesta del administrador:"})}),e.jsxs("p",{className:"response-text",children:['"',v.adminResponse,'"']})]}),e.jsxs("div",{className:"inquiry-actions",children:[e.jsx("button",{className:"details-button",onClick:()=>C(v),children:"Ver Detalles"}),v.status==="approved"&&e.jsx("button",{className:"proceed-button",onClick:()=>z(v),children:"✅ ¡Proceder con la Reserva!"})]})]},v._id))}),k&&A&&e.jsx("div",{className:"modal-overlay",onClick:()=>M(!1),children:e.jsxs("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:"📋 Detalles de la Consulta"}),e.jsx("button",{className:"close-button",onClick:()=>M(!1),children:"✕"})]}),e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"inquiry-full-details",children:[e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"🏠 Información de la Reserva"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Propiedad:"})," ",A.propertyTitle]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Check-in:"})," ",P(A.checkIn)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Check-out:"})," ",P(A.checkOut)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Huéspedes:"})," ",A.guests]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Precio Total:"})," ",x(A.totalPrice)]})]}),e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"ℹ️ Estado de la Consulta"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Estado:"})," ",L(A.status)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Enviada:"})," ",P(A.createdAt)]}),A.updatedAt!==A.createdAt&&e.jsxs("p",{children:[e.jsx("strong",{children:"Última actualización:"})," ",P(A.updatedAt)]})]}),A.customMessage&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"💬 Tu Mensaje"}),e.jsx("p",{className:"custom-message",children:A.customMessage})]}),A.adminResponse&&e.jsxs("div",{className:"detail-section",children:[e.jsx("h4",{children:"📧 Respuesta del Administrador"}),e.jsx("p",{className:"admin-response-text",children:A.adminResponse})]}),A.status==="pending"&&e.jsxs("div",{className:"detail-section pending-info",children:[e.jsx("h4",{children:"⏳ Información"}),e.jsx("p",{children:"Tu consulta está pendiente de revisión. Te notificaremos por email cuando tengamos una respuesta."})]}),A.status==="approved"&&e.jsxs("div",{className:"detail-section approved-info",children:[e.jsx("h4",{children:"✅ ¡Consulta Aprobada!"}),e.jsx("p",{children:"Tu consulta ha sido aprobada. Puedes proceder con la reserva haciendo clic en el botón de abajo."})]}),A.status==="rejected"&&e.jsxs("div",{className:"detail-section rejected-info",children:[e.jsx("h4",{children:"❌ Consulta Rechazada"}),e.jsx("p",{children:"Lamentablemente, esta consulta no pudo ser aprobada. Puedes intentar con otras fechas."})]})]})}),e.jsxs("div",{className:"modal-footer",children:[A.status==="approved"&&e.jsx("button",{className:"proceed-button",onClick:()=>{z(A),M(!1)},children:"✅ ¡Proceder con la Reserva!"}),e.jsx("button",{className:"close-modal-button",onClick:()=>M(!1),children:"Cerrar"})]})]})})]})}const $g=()=>{const[c,o]=p.useState("profile"),[f,u]=p.useState(null),[b,g]=p.useState(!0),[h,A]=p.useState(""),[D,k]=p.useState(!1),[M,E]=p.useState(!1),[C,L]=p.useState(!1),[P,x]=p.useState(!1),[z,v]=p.useState(!1),[d,N]=p.useState(!1),[m,B]=p.useState(""),[q,T]=p.useState("synced"),[w,R]=p.useState({hasLocalData:!1,lastSync:null,isOnline:navigator.onLine}),[U,F]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[G,ae]=p.useState({name:"",email:"",phone:""});p.useEffect(()=>{f&&ae({name:f.name||"",email:f.email||"",phone:f.phone||""})},[f]),p.useEffect(()=>{(()=>{try{const ze=localStorage.getItem("baconfort-user");if(ze){const Qe=JSON.parse(ze);new Date(Qe.createdAt)<new Date("2025-01-01")&&(console.log("🧹 Limpiando datos antiguos del localStorage"),localStorage.removeItem("baconfort-user"))}}catch(ze){console.warn("⚠️ Error limpiando datos antiguos:",ze),localStorage.removeItem("baconfort-user")}})(),Y();const ue=setInterval(()=>{q!=="syncing"&&O()},3e4),xe=()=>{O()},ve=()=>{R(ze=>({...ze,isOnline:navigator.onLine}))};return window.addEventListener("beforeunload",xe),window.addEventListener("online",ve),window.addEventListener("offline",ve),()=>{clearInterval(ue),window.removeEventListener("beforeunload",xe),window.removeEventListener("online",ve),window.removeEventListener("offline",ve)}},[q]);const Y=async()=>{try{g(!0),A(""),console.log("🔄 Cargando perfil de usuario...");try{const ce=await Gt.profile();console.log("✅ Perfil cargado desde API:",ce);const ue=ce.user;u(ue);const xe={...ue,lastSync:new Date().toISOString()};localStorage.setItem("baconfort-user",JSON.stringify(xe)),R({hasLocalData:!0,lastSync:new Date().toISOString(),isOnline:navigator.onLine}),T("synced")}catch(ce){console.warn("⚠️ Error API, usando localStorage:",ce.message);const ue=JSON.parse(localStorage.getItem("baconfort-user")||"{}");if(ue.email)u(ue),R({hasLocalData:!0,lastSync:ue.lastSync||null,isOnline:navigator.onLine}),T("error"),console.log("📱 Usando datos de localStorage");else throw new Error("No hay datos de usuario disponibles")}}catch(ce){console.error("❌ Error al cargar perfil:",ce),A("Error al cargar el perfil. Por favor, inicia sesión nuevamente.")}finally{g(!1)}},O=async()=>{try{T("syncing"),console.log("🔄 Sincronización automática...");const ue=(await Gt.profile()).user,xe=JSON.parse(localStorage.getItem("baconfort-user")||"{}");if(JSON.stringify(ue)!==JSON.stringify(xe)){console.log("📡 Datos actualizados desde servidor"),u(ue);const ve={...ue,lastSync:new Date().toISOString()};localStorage.setItem("baconfort-user",JSON.stringify(ve)),R({hasLocalData:!0,lastSync:new Date().toISOString(),isOnline:navigator.onLine})}T("synced")}catch(ce){console.warn("⚠️ Error de sincronización:",ce.message),T("error"),setTimeout(()=>T("synced"),5e3)}},S=async ce=>{try{g(!0),A(""),console.log("💾 Actualizando perfil:",ce);const ue=await Gt.updateProfile(ce);console.log("✅ Perfil actualizado en API:",ue);const xe=ue.user;u(xe);const ve={...xe,lastSync:new Date().toISOString()};return localStorage.setItem("baconfort-user",JSON.stringify(ve)),R({hasLocalData:!0,lastSync:new Date().toISOString(),isOnline:navigator.onLine}),T("synced"),{success:!0,user:xe}}catch(ue){console.error("❌ Error al actualizar perfil:",ue);const xe={...f,...ce,updatedAt:new Date().toISOString()};u(xe);const ve={...xe,lastSync:new Date().toISOString(),pendingSync:!0};return localStorage.setItem("baconfort-user",JSON.stringify(ve)),R({hasLocalData:!0,lastSync:new Date().toISOString(),isOnline:navigator.onLine}),T("error"),A(`Error al sincronizar: ${ue.message}`),console.warn("⚠️ Cambios guardados localmente, reintentando..."),setTimeout(()=>O(),5e3),{success:!1,user:xe,error:ue.message,savedLocally:!0}}finally{g(!1)}},_=async()=>{console.log("🔄 Sincronización manual forzada"),await O()},$=ce=>{const{name:ue,value:xe}=ce.target;ae(ve=>({...ve,[ue]:xe}))},ie=async ce=>{ce.preventDefault();const ue=await S(G);ue.success?(k(!1),alert("✅ Perfil actualizado exitosamente")):ue.savedLocally?(k(!1),alert("⚠️ Cambios guardados temporalmente. Los datos se sincronizarán automáticamente cuando se restablezca la conexión.")):alert(`❌ Error al guardar: ${ue.error}`)},W=async ce=>{if(ce.preventDefault(),U.newPassword!==U.confirmPassword){B("Las contraseñas no coinciden");return}if(U.newPassword.length<6){B("La nueva contraseña debe tener al menos 6 caracteres");return}try{N(!0),B(""),console.log("🔐 Cambiando contraseña..."),await Gt.changePassword(U.currentPassword,U.newPassword),console.log("✅ Contraseña cambiada exitosamente"),alert("✅ Contraseña actualizada exitosamente"),E(!1),F({currentPassword:"",newPassword:"",confirmPassword:""}),B("")}catch(ue){console.error("❌ Error al cambiar contraseña:",ue),B(`Error al cambiar la contraseña: ${ue.message}`)}finally{N(!1)}},y=()=>{L(!0)},X=()=>{x(!0)},ne=async()=>{if(window.confirm("¿Estás ABSOLUTAMENTE SEGURO de que quieres eliminar tu cuenta? Esta acción NO se puede deshacer."))try{alert("Cuenta eliminada. Serás redirigido al inicio."),localStorage.removeItem("baconfort-token"),localStorage.removeItem("baconfort-user"),window.location.href="/"}catch{A("Error al eliminar la cuenta")}x(!1)},oe=ce=>{const{name:ue,value:xe}=ce.target;F(ve=>({...ve,[ue]:xe}))},ee=()=>e.jsxs("div",{className:"profile-section",children:[e.jsxs("div",{className:"profile-header",children:[e.jsx("div",{className:"profile-avatar",children:e.jsx("i",{className:"fas fa-user-circle"})}),e.jsxs("div",{className:"profile-info",children:[e.jsx("h3",{children:(f==null?void 0:f.name)||"Usuario"}),e.jsx("p",{children:f==null?void 0:f.email}),e.jsxs("span",{className:"member-since",children:["Miembro desde ",new Date((f==null?void 0:f.createdAt)||Date.now()).getFullYear()]}),e.jsxs("div",{className:`sync-status sync-${q}`,children:[q==="synced"&&e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-check-circle"}),e.jsx("span",{children:"Datos sincronizados"})]}),q==="syncing"&&e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-sync-alt fa-spin"}),e.jsx("span",{children:"Sincronizando..."})]}),q==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),e.jsx("span",{children:"Error de sincronización"})]})]}),w&&e.jsx("div",{className:"persistence-info",children:e.jsxs("small",{children:[w.hasLocalData&&e.jsxs("span",{className:"local-backup",children:[e.jsx("i",{className:"fas fa-mobile-alt"}),"Backup local disponible"]}),w.lastSync&&e.jsxs("span",{className:"last-sync",children:[e.jsx("i",{className:"fas fa-clock"}),"Última sincronización: ",new Date(w.lastSync).toLocaleTimeString()]}),!w.isOnline&&e.jsxs("span",{className:"offline-warning",children:[e.jsx("i",{className:"fas fa-wifi"}),"Sin conexión - usando datos locales"]})]})})]}),e.jsxs("div",{className:"profile-actions",children:[e.jsxs("button",{className:"btn btn-primary",onClick:()=>k(!D),children:[e.jsx("i",{className:`fas fa-${D?"times":"edit"}`}),D?"Cancelar":"Editar Perfil"]}),(q==="error"||(w==null?void 0:w.hasLocalData))&&e.jsxs("button",{className:"btn btn-outline-secondary",onClick:_,disabled:q==="syncing",title:"Sincronizar datos con el servidor",children:[e.jsx("i",{className:`fas fa-sync-alt ${q==="syncing"?"fa-spin":""}`}),"Sincronizar"]})]})]}),D?e.jsxs("form",{className:"profile-form",onSubmit:ie,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Nombre completo"}),e.jsx("input",{type:"text",id:"name",name:"name",value:G.name,onChange:$,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",value:G.email,onChange:$,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"phone",children:"Teléfono"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:G.phone,onChange:$})]}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"submit",className:"btn btn-success",disabled:b,children:[e.jsx("i",{className:"fas fa-save"}),b?"Guardando...":"Guardar Cambios"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>k(!1),children:[e.jsx("i",{className:"fas fa-times"}),"Cancelar"]})]})]}):e.jsxs("div",{className:"profile-details",children:[e.jsxs("div",{className:"detail-card",children:[e.jsx("h4",{children:"Información Personal"}),e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-user"}),e.jsxs("div",{children:[e.jsx("label",{children:"Nombre"}),e.jsx("span",{children:(f==null?void 0:f.name)||"No especificado"})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-envelope"}),e.jsxs("div",{children:[e.jsx("label",{children:"Email"}),e.jsx("span",{children:f==null?void 0:f.email})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-phone"}),e.jsxs("div",{children:[e.jsx("label",{children:"Teléfono"}),e.jsx("span",{children:(f==null?void 0:f.phone)||"No especificado"})]})]})]}),e.jsxs("div",{className:"detail-card",children:[e.jsx("h4",{children:"Preferencias"}),e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-bell"}),e.jsxs("div",{children:[e.jsx("label",{children:"Notificaciones"}),e.jsx("span",{children:"Activadas"})]})]}),e.jsxs("div",{className:"detail-item",children:[e.jsx("i",{className:"fas fa-globe"}),e.jsxs("div",{children:[e.jsx("label",{children:"Idioma"}),e.jsx("span",{children:"Español"})]})]})]})]})]});return b?e.jsx("div",{className:"user-profile-container",children:e.jsxs("div",{className:"loading-state",children:[e.jsx("i",{className:"fas fa-spinner fa-spin"}),e.jsx("h3",{children:"Cargando perfil..."})]})}):e.jsxs("div",{className:"user-profile-container",children:[e.jsxs("div",{className:"profile-navigation",children:[e.jsxs("h2",{children:[e.jsx("i",{className:"fas fa-user-cog"}),"Mi Cuenta"]}),e.jsxs("div",{className:"nav-tabs",children:[e.jsxs("button",{className:`nav-tab ${c==="profile"?"active":""}`,onClick:()=>o("profile"),children:[e.jsx("i",{className:"fas fa-user"}),"Perfil"]}),e.jsxs("button",{className:`nav-tab ${c==="reservations"?"active":""}`,onClick:()=>o("reservations"),children:[e.jsx("i",{className:"fas fa-calendar-alt"}),"Mis Reservas"]}),e.jsxs("button",{className:`nav-tab ${c==="inquiries"?"active":""}`,onClick:()=>o("inquiries"),children:[e.jsx("i",{className:"fas fa-envelope"}),"Mis Consultas"]}),e.jsxs("button",{className:`nav-tab ${c==="settings"?"active":""}`,onClick:()=>o("settings"),children:[e.jsx("i",{className:"fas fa-cog"}),"Configuración"]})]})]}),e.jsxs("div",{className:"profile-content",children:[c==="profile"&&ee(),c==="reservations"&&e.jsx(qg,{}),c==="inquiries"&&e.jsx(Hg,{}),c==="settings"&&e.jsxs("div",{className:"settings-section",children:[e.jsx("h3",{children:"Configuración de la Cuenta"}),e.jsxs("div",{className:"settings-group",children:[e.jsx("h4",{children:"Seguridad"}),e.jsx("p",{children:"Mantén tu cuenta segura actualizando tu contraseña regularmente."}),e.jsxs("div",{className:"security-actions",children:[e.jsxs("button",{className:"btn btn-outline",onClick:()=>E(!0),children:[e.jsx("i",{className:"fas fa-key"}),"Cambiar Contraseña"]}),e.jsxs("button",{className:"btn btn-outline",onClick:()=>v(!0),children:[e.jsx("i",{className:"fas fa-unlock-alt"}),"Recuperar Contraseña"]})]})]}),e.jsxs("div",{className:"settings-group",children:[e.jsx("h4",{children:"Privacidad"}),e.jsx("p",{children:"Configura cómo otros usuarios pueden ver tu información."}),e.jsxs("button",{className:"btn btn-outline",onClick:y,children:[e.jsx("i",{className:"fas fa-shield-alt"}),"Configurar Privacidad"]})]}),e.jsxs("div",{className:"settings-group danger-zone",children:[e.jsx("h4",{children:"Zona Peligrosa"}),e.jsx("p",{children:"Una vez eliminada, tu cuenta no se puede recuperar."}),e.jsxs("button",{className:"btn btn-danger",onClick:X,children:[e.jsx("i",{className:"fas fa-trash"}),"Eliminar Cuenta"]})]})]})]}),h&&e.jsxs("div",{className:"error-message",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),h]}),M&&e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("span",{className:"close",onClick:()=>E(!1),children:"×"}),e.jsx("h2",{children:"Cambiar Contraseña"}),m&&e.jsxs("div",{className:"error-message",children:[e.jsx("i",{className:"fas fa-exclamation-triangle"}),m]}),e.jsxs("form",{onSubmit:W,children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"currentPassword",children:"Contraseña Actual"}),e.jsx("input",{type:"password",id:"currentPassword",name:"currentPassword",value:U.currentPassword,onChange:oe,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"newPassword",children:"Nueva Contraseña"}),e.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:U.newPassword,onChange:oe,required:!0})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Nueva Contraseña"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:U.confirmPassword,onChange:oe,required:!0})]}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{type:"submit",className:"btn btn-success",disabled:d,children:[e.jsx("i",{className:"fas fa-save"}),d?"Cambiando...":"Cambiar Contraseña"]}),e.jsxs("button",{type:"button",className:"btn btn-secondary",onClick:()=>E(!1),children:[e.jsx("i",{className:"fas fa-times"}),"Cancelar"]})]})]})]})}),C&&e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("span",{className:"close",onClick:()=>L(!1),children:"×"}),e.jsx("h2",{children:"Configuración de Privacidad"}),e.jsx("div",{className:"privacy-settings",children:e.jsxs("div",{className:"setting-item",children:[e.jsx("h4",{children:"Visibilidad del Perfil"}),e.jsx("p",{children:"Controla quién puede ver tu información personal."}),e.jsxs("select",{className:"form-control",children:[e.jsx("option",{children:"Público"}),e.jsx("option",{children:"Solo usuarios registrados"}),e.jsx("option",{children:"Privado"})]})]})}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{className:"btn btn-success",onClick:()=>{alert("Configuración de privacidad guardada"),L(!1)},children:[e.jsx("i",{className:"fas fa-save"}),"Guardar Cambios"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>L(!1),children:[e.jsx("i",{className:"fas fa-times"}),"Cancelar"]})]})]})}),P&&e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-content",children:[e.jsx("span",{className:"close",onClick:()=>x(!1),children:"×"}),e.jsx("h2",{children:"Eliminar Cuenta"}),e.jsx("p",{children:"¿Estás ABSOLUTAMENTE SEGURO de que quieres eliminar tu cuenta? Esta acción NO se puede deshacer."}),e.jsxs("div",{className:"form-actions",children:[e.jsxs("button",{className:"btn btn-danger",onClick:ne,children:[e.jsx("i",{className:"fas fa-trash"}),"Eliminar Cuenta"]}),e.jsxs("button",{className:"btn btn-secondary",onClick:()=>x(!1),children:[e.jsx("i",{className:"fas fa-times"}),"Cancelar"]})]})]})}),e.jsx(_r,{isOpen:z,onClose:()=>v(!1)})]})},Vg=()=>{const[c]=Yt(),o=ns(),[f,u]=p.useState({newPassword:"",confirmPassword:""}),[b,g]=p.useState(!1),[h,A]=p.useState(""),[D,k]=p.useState(!1),M=c.get("token");p.useEffect(()=>{M||A("Token de reseteo no encontrado")},[M]);const E=L=>{const{name:P,value:x}=L.target;u(z=>({...z,[P]:x}))},C=async L=>{if(L.preventDefault(),!f.newPassword||!f.confirmPassword){A("Todos los campos son obligatorios");return}if(f.newPassword.length<6){A("La contraseña debe tener al menos 6 caracteres");return}if(f.newPassword!==f.confirmPassword){A("Las contraseñas no coinciden");return}g(!0),A("");try{(await Gt.resetPassword(M,f.newPassword)).success&&(k(!0),setTimeout(()=>{o("/login")},3e3))}catch(P){console.error("Error en reset password:",P),P.code==="NETWORK_ERROR"||P.message.includes("Network Error")||P.message.includes("Failed to fetch")?A("Error de conexión. Verifica tu conexión a internet y que el servidor esté disponible."):P.message.includes("Token inválido")||P.message.includes("Token")||P.message.includes("expirado")?A("El enlace de reseteo ha expirado o no es válido. Solicita un nuevo enlace de recuperación."):A(P.message||"Error al resetear la contraseña. Inténtalo nuevamente.")}finally{g(!1)}};return M?D?e.jsx("div",{className:"reset-password-container",children:e.jsx("div",{className:"reset-password-card",children:e.jsxs("div",{className:"success-state",children:[e.jsx("div",{className:"success-icon",children:"✅"}),e.jsx("h1",{children:"¡Contraseña actualizada!"}),e.jsx("p",{children:"Tu contraseña ha sido actualizada exitosamente."}),e.jsx("p",{children:"Serás redirigido al login en unos segundos..."}),e.jsx("button",{className:"btn-primary",onClick:()=>o("/login"),children:"Ir al Login Ahora"})]})})}):e.jsx("div",{className:"reset-password-container",children:e.jsxs("div",{className:"reset-password-card",children:[e.jsxs("div",{className:"reset-password-header",children:[e.jsx("h1",{children:"Resetear Contraseña"}),e.jsx("p",{children:"Ingresa tu nueva contraseña"})]}),e.jsxs("form",{onSubmit:C,className:"reset-password-form",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"newPassword",children:"Nueva Contraseña"}),e.jsx("input",{type:"password",id:"newPassword",name:"newPassword",value:f.newPassword,onChange:E,placeholder:"Mínimo 6 caracteres",required:!0,disabled:b})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar Contraseña"}),e.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",value:f.confirmPassword,onChange:E,placeholder:"Repite la contraseña",required:!0,disabled:b})]}),h&&e.jsx("div",{className:"error-message",children:h}),e.jsx("button",{type:"submit",className:"btn-primary btn-full",disabled:b,children:b?"Actualizando...":"Actualizar Contraseña"}),e.jsx("div",{className:"form-footer",children:e.jsx("button",{type:"button",className:"btn-link",onClick:()=>o("/login"),disabled:b,children:"Volver al Login"})})]})]})}):e.jsx("div",{className:"reset-password-container",children:e.jsx("div",{className:"reset-password-card",children:e.jsxs("div",{className:"error-state",children:[e.jsx("h1",{children:"Token no válido"}),e.jsx("p",{children:"El enlace de reseteo de contraseña no es válido o ha expirado."}),e.jsx("button",{className:"btn-primary",onClick:()=>o("/login"),children:"Volver al Login"})]})})})},Gg=()=>{const[c,o]=p.useState("loading"),[f,u]=p.useState(""),b=Br(),g=ns();p.useEffect(()=>{(async()=>{const k=new URLSearchParams(b.search).get("token");if(!k){o("error"),u("Token de verificación no encontrado en la URL");return}try{console.log("🔍 Verificando email con token:",k.substring(0,8)+"...");const C=await(await fetch("https://baconfort-production-084d.up.railway.app/api/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:k})})).json();C.success?(o("success"),C.alreadyVerified?u("Tu email ya estaba verificado. Puedes iniciar sesión normalmente."):u("¡Email verificado exitosamente! Ya puedes iniciar sesión en tu cuenta."),setTimeout(()=>{g("/")},3e3)):(o("error"),u(C.error||"Error al verificar el email"))}catch(M){console.error("❌ Error en verificación:",M),o("error"),u("Error de conexión. Verifica que el servidor esté funcionando.")}})()},[b,g]);const h=()=>{g("/")};return e.jsx("div",{className:"verify-email-page",children:e.jsx("div",{className:"verify-email-container",children:e.jsxs("div",{className:"verify-email-card",children:[c==="loading"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"spinner"}),e.jsx("h2",{children:"Verificando tu email..."}),e.jsx("p",{children:"Por favor espera mientras procesamos tu verificación."})]}),c==="success"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"success-icon",children:e.jsx("i",{className:"fas fa-check-circle"})}),e.jsx("h2",{children:"¡Verificación Exitosa!"}),e.jsx("p",{children:f}),e.jsx("p",{className:"redirect-message",children:"Serás redirigido automáticamente en unos segundos..."}),e.jsx("button",{className:"btn-primary",onClick:h,children:"Ir a la página principal"})]}),c==="error"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"error-icon",children:e.jsx("i",{className:"fas fa-exclamation-triangle"})}),e.jsx("h2",{children:"Error en la Verificación"}),e.jsx("p",{children:f}),e.jsxs("div",{className:"error-actions",children:[e.jsx("button",{className:"btn-primary",onClick:h,children:"Volver al inicio"}),e.jsx("p",{className:"help-text",children:"Si el problema persiste, contáctanos o solicita un nuevo email de verificación."})]})]})]})})})},Fg=()=>{const c=ns(),[o]=Yt(),[f,u]=p.useState(null),[b,g]=p.useState(!0);p.useEffect(()=>{(async()=>{try{const k=o.get("collection_status"),M=o.get("payment_id"),E=o.get("external_reference");k==="approved"&&M&&E?(console.log("✅ Pago exitoso con MercadoPago"),u({provider:"mercadopago",paymentId:M,amount:"Confirmado",currency:"USD"})):o.get("cash")==="confirmed"&&(console.log("✅ Pago en efectivo confirmado"),u({provider:"efectivo",method:"cash",amount:o.get("amount")||"A confirmar",currency:o.get("currency")||"USD"}))}catch(k){console.error("Error procesando pago exitoso:",k)}finally{g(!1)}})()},[o]);const h=()=>{c("/my-reservations")},A=()=>{c("/")};return b?e.jsx("div",{className:"payment-result-container",children:e.jsxs("div",{className:"payment-result-card",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("h2",{children:"Procesando pago..."}),e.jsx("p",{children:"Verificando el estado de tu pago"})]})}):e.jsx("div",{className:"payment-result-container",children:e.jsxs("div",{className:"payment-result-card success",children:[e.jsx("div",{className:"success-icon",children:e.jsx("i",{className:"fas fa-check-circle"})}),e.jsx("h1",{children:"¡Reserva Confirmada!"}),e.jsx("p",{className:"success-message",children:(f==null?void 0:f.provider)==="efectivo"?"Tu reserva ha sido confirmada. Pagarás en efectivo al momento del check-in.":"Tu pago ha sido procesado correctamente con MercadoPago"}),f&&e.jsxs("div",{className:"payment-details",children:[e.jsx("h3",{children:"Detalles del Pago"}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Método de pago:"}),e.jsx("span",{children:f.provider==="efectivo"?"Pago en Efectivo":"MercadoPago"})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Monto:"}),e.jsxs("span",{children:["$",f.amount," ",f.currency]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Método:"}),e.jsx("span",{children:f.paymentMethod})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"ID de Sesión:"}),e.jsx("span",{children:f.sessionId})]})]}),e.jsxs("div",{className:"success-actions",children:[e.jsxs("button",{onClick:h,className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-calendar-check"}),"Ver Mis Reservas"]}),e.jsxs("button",{onClick:A,className:"btn btn-secondary",children:[e.jsx("i",{className:"fas fa-home"}),"Ir al Inicio"]})]}),e.jsxs("div",{className:"success-note",children:[e.jsx("i",{className:"fas fa-info-circle"}),e.jsx("p",{children:"Recibirás un email de confirmación con los detalles de tu reserva y pago."})]})]})})},Yg=()=>{const c=ns(),[o]=Yt(),[f,u]=p.useState(null),[b,g]=p.useState(null);p.useEffect(()=>{const k=o.get("error_message"),M=o.get("error_code");(k||M)&&g({message:k,code:M})},[o]);const h=()=>{c("/my-reservations")},A=()=>{c("/")},D=()=>{const k="soporte@baconfort.com",M=encodeURIComponent("Error en Pago - Ayuda Requerida"),E=encodeURIComponent(`
Hola, tuve un problema con mi pago en MercadoPago.

Detalles del error:
- Código: ${(b==null?void 0:b.code)||"No disponible"}
- Mensaje: ${(b==null?void 0:b.message)||"Error desconocido"}

Por favor, ayúdenme a completar mi reserva.

Gracias.
    `);window.location.href=`mailto:${k}?subject=${M}&body=${E}`};return e.jsx("div",{className:"payment-result-container",children:e.jsxs("div",{className:"payment-result-card failure",children:[e.jsx("div",{className:"failure-icon",children:e.jsx("i",{className:"fas fa-times-circle"})}),e.jsx("h1",{children:"Pago No Completado"}),e.jsx("p",{className:"failure-message",children:"Hubo un problema al procesar tu pago con MercadoPago"}),b&&e.jsxs("div",{className:"error-details",children:[e.jsx("h3",{children:"Detalles del Error"}),b.code&&e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Código de Error:"}),e.jsx("span",{children:b.code})]}),b.message&&e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Mensaje:"}),e.jsx("span",{children:b.message})]})]}),f&&e.jsxs("div",{className:"payment-details",children:[e.jsx("h3",{children:"Información del Pago"}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Monto:"}),e.jsxs("span",{children:["$",f.amount," ",f.currency]})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"Método:"}),e.jsx("span",{children:f.paymentMethod})]}),e.jsxs("div",{className:"detail-row",children:[e.jsx("span",{children:"ID de Sesión:"}),e.jsx("span",{children:f.sessionId})]})]}),e.jsxs("div",{className:"failure-actions",children:[e.jsxs("button",{onClick:h,className:"btn btn-primary",children:[e.jsx("i",{className:"fas fa-redo"}),"Intentar Nuevamente"]}),e.jsxs("button",{onClick:D,className:"btn btn-warning",children:[e.jsx("i",{className:"fas fa-envelope"}),"Contactar Soporte"]}),e.jsxs("button",{onClick:A,className:"btn btn-secondary",children:[e.jsx("i",{className:"fas fa-home"}),"Ir al Inicio"]})]}),e.jsxs("div",{className:"failure-note",children:[e.jsx("h4",{children:"¿Qué puedes hacer?"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Verificar que tus datos de pago sean correctos"}),e.jsx("li",{children:"Asegurarte de tener fondos suficientes en tu cuenta"}),e.jsx("li",{children:"Intentar con un método de pago diferente"}),e.jsx("li",{children:"Contactar a tu banco si el problema persiste"})]})]}),e.jsxs("div",{className:"failure-support",children:[e.jsx("i",{className:"fas fa-phone"}),e.jsxs("p",{children:["Si necesitas ayuda inmediata, contáctanos al:",e.jsx("strong",{children:" +54 11 1234-5678"})]})]})]})})},Zg=()=>{var W;const{propertyId:c}=gp(),[o]=Yt(),{getProperty:f,debugStoredProperties:u,regenerateVideoUrl:b,getAllProperties:g}=Xe(),[h,A]=p.useState(null),[D,k]=p.useState(!0),[M,E]=p.useState(!1),[C,L]=p.useState(!1),[P,x]=p.useState(0),[z,v]=p.useState(null),[d,N]=p.useState(!0);Qt(),o.get("checkIn"),o.get("checkOut"),o.get("guests");const{property:m,loading:B}=tt?tt(c):{property:null,loading:!1},{images:q,loading:T}=st?st(c):{images:[],loading:!1},w=f(c),R=m||w||h,U=(y,X="/img/logo.jpg")=>!y||typeof y!="string"?X:y.startsWith("http://")||y.startsWith("https://")||y.startsWith("/")?y:X;p.useMemo(()=>{const y={propertyId:c,contextProperty:!!w,backendProperty:!!m,finalProperty:!!R,propertyTitle:(R==null?void 0:R.title)||"N/A"};return console.log("🏠 DynamicProperty - Property data:",y),y},[c,!!w,!!m,!!R,R==null?void 0:R.title]);const F=q&&q.length>0?q:R!=null&&R.galleryImages&&R.galleryImages.length>0?R.galleryImages.filter(y=>typeof y=="string"?y.startsWith("data:image/")||y.startsWith("http")||!y.includes("/img/"):y&&typeof y=="object"?y.url&&(y.url.startsWith("data:image/")||y.url.startsWith("http")||!y.url.includes("/img/")):!1):[],G=(R==null?void 0:R.galleryVideos)||[],ae=G.map(y=>{if(!y)return null;let X=null,ne=!1;if(y.base64&&typeof y.base64=="string"&&y.base64.startsWith("data:")&&!y.base64.includes("[VIDEO_"))X=y.base64,ne=!0;else if(y.url&&!y.url.includes("[VIDEO_")&&!y.url.includes("ERROR")&&!y.url.includes("EXPIRED")&&!y.url.startsWith("blob:"))X=y.url,ne=!0;else if(y.base64&&typeof y.base64=="string"&&y.base64.startsWith("data:")&&!y.base64.includes("[VIDEO_")&&y.url&&y.url.startsWith("blob:")){const oe=b(y);oe?(X=oe,ne=!0,console.log("🎥 URL regenerada para video:",y.name)):(X=y.base64,ne=!0)}return{...y,type:"video",src:X,thumbnail:y.thumbnail||"/img/video-thumbnail.jpg",hasValidSrc:ne,canPlay:ne}}).filter(y=>y&&y.hasValidSrc),Y=G.filter(y=>!(!y||y.base64&&typeof y.base64=="string"&&y.base64.startsWith("data:")&&!y.base64.includes("[VIDEO_")||y.url&&!y.url.includes("[VIDEO_")&&!y.url.includes("ERROR")&&!y.url.includes("EXPIRED")&&!y.url.startsWith("blob:"))).map(y=>({...y,type:"video",src:null,hasValidSrc:!1,isPlaceholder:!0,isExpiredBlob:y.url&&y.url.startsWith("blob:"),isTooLarge:y.url&&y.url.includes("[VIDEO_TOO_LARGE_FOR_STORAGE]"),hasError:y.url&&(y.url.includes("ERROR")||y.url.includes("[VIDEO_PROCESSING_ERROR]")),errorReason:y.url&&y.url.includes("[VIDEO_TOO_LARGE_FOR_STORAGE]")?"too_large":y.url&&y.url.startsWith("blob:")?"expired_blob":y.url&&y.url.includes("ERROR")?"processing_error":"unknown"})),O=[...ae,...Y],S=F.map(y=>({type:"image",src:Be.getImageSrc(y)})),_=[...S,...ae];console.log("🖼️ DynamicProperty - Images data:",{galleryImages:(q==null?void 0:q.length)||0,propertyGalleryImages:((W=R==null?void 0:R.galleryImages)==null?void 0:W.length)||0,finalImages:(F==null?void 0:F.length)||0,processedImages:(S==null?void 0:S.length)||0,processedVideos:(ae==null?void 0:ae.length)||0,totalGalleryItems:(_==null?void 0:_.length)||0}),p.useEffect(()=>{c&&(()=>{if(console.log("🏠 DynamicProperty: Cargando propiedad con ID:",c),R){if(R.isBlocked){console.log("🚫 DynamicProperty: Propiedad bloqueada, no disponible:",c),A(null),k(!1);return}console.log("🏠 DynamicProperty: Usando finalProperty:",R.title),A(R),k(!1);return}if(!f){console.log("🔄 DynamicProperty: AdminProvider no inicializado, esperando...");return}const X=f(c);if(console.log("🏠 DynamicProperty: Propiedad encontrada:",(X==null?void 0:X.title)||"null"),X&&X.isBlocked){console.log("🚫 DynamicProperty: Propiedad bloqueada, no disponible:",c),A(null),k(!1);return}X?(A(X),k(!1)):(console.log("❌ DynamicProperty: Propiedad no encontrada"),k(!1))})()},[c,R==null?void 0:R.id,f]),p.useEffect(()=>{(async()=>{if(T||B||D)return;const X=document.querySelectorAll("img"),ne=Array.from(X).map(oe=>oe.complete?Promise.resolve():new Promise(ee=>{oe.addEventListener("load",ee),oe.addEventListener("error",ee)}));await Promise.all(ne),N(!1)})()},[T,B,D]);const $=y=>{console.log("🖼️ DynamicProperty: Abriendo galería en índice:",y),console.log("🖼️ DynamicProperty: Items de galería disponibles:",S.length),console.log("🖼️ DynamicProperty: Item seleccionado:",S[y]),x(y),E(!0)},ie=(y,X)=>{console.log("🎥 DynamicProperty: Abriendo modal de video:",y.name),console.log("🎥 DynamicProperty: Video source:",y.src),v(y),L(!0)};return D?e.jsx(Ms,{}):R&&R.isBlocked?(console.log("🚫 DynamicProperty: Propiedad bloqueada:",{propertyId:c,isBlocked:!0}),e.jsx(Rs,{title:"Propiedad no disponible",message:"Esta propiedad no está disponible actualmente."})):h?e.jsxs("div",{className:"dynamic-property-page",children:[e.jsx("section",{className:"hero-section position-relative",children:e.jsxs("div",{className:"hero-content",children:[e.jsx("img",{src:U(h.coverImage),alt:h.title,className:"hero-image w-100",style:{height:"70vh",objectFit:"cover"},onError:y=>{console.log("❌ Error cargando imagen de portada:",y.target.src),y.target.src.includes("img-default-property.jpg")?(y.target.style.display="none",y.target.parentElement.style.background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)",y.target.parentElement.style.minHeight="70vh"):y.target.src="/img/img-default-property.jpg"}}),e.jsx("div",{className:"hero-overlay position-absolute top-0 start-0 w-100 h-100 d-flex align-items-end",style:{background:"linear-gradient(transparent, rgba(0,0,0,0.7))"},children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-lg-8",children:[e.jsx("h1",{className:"text-white display-4 fw-bold mb-3",children:h.title}),e.jsxs("p",{className:"text-white fs-5 mb-4",children:[e.jsx("i",{className:"fas fa-map-marker-alt me-2"}),h.address]}),h.prices&&e.jsxs("div",{className:"pricing-info d-flex flex-wrap gap-4 mb-4",children:[h.prices.daily&&e.jsxs("div",{className:"price-item text-white",children:[e.jsx("small",{className:"d-block opacity-75",children:"Por día"}),e.jsx("strong",{className:"fs-4",children:h.prices.daily})]}),h.prices.weekly&&e.jsxs("div",{className:"price-item text-white",children:[e.jsx("small",{className:"d-block opacity-75",children:"Por semana"}),e.jsx("strong",{className:"fs-4",children:h.prices.weekly})]}),h.prices.monthly&&e.jsxs("div",{className:"price-item text-white",children:[e.jsx("small",{className:"d-block opacity-75",children:"Por mes"}),e.jsx("strong",{className:"fs-4",children:h.prices.monthly})]})]})]})})})})]})}),e.jsx("section",{className:"property-content py-5",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-lg-8",children:[h.description&&e.jsxs("div",{className:"property-description mb-5",children:[e.jsxs("h3",{className:"mb-4",children:[e.jsx("i",{className:"fas fa-info-circle me-2"}),"Descripción"]}),e.jsxs("ul",{className:"nav nav-tabs mb-3",children:[h.description.es&&e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link active","data-bs-toggle":"tab","data-bs-target":"#desc-es",children:[e.jsx("i",{className:"fas fa-flag me-1"})," Español"]})}),h.description.en&&e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link","data-bs-toggle":"tab","data-bs-target":"#desc-en",children:[e.jsx("i",{className:"fas fa-flag me-1"})," English"]})}),h.description.pt&&e.jsx("li",{className:"nav-item",children:e.jsxs("button",{className:"nav-link","data-bs-toggle":"tab","data-bs-target":"#desc-pt",children:[e.jsx("i",{className:"fas fa-flag me-1"})," Português"]})})]}),e.jsxs("div",{className:"tab-content",children:[h.description.es&&e.jsx("div",{className:"tab-pane show active",id:"desc-es",children:e.jsx("p",{className:"lead",children:h.description.es})}),h.description.en&&e.jsx("div",{className:"tab-pane",id:"desc-en",children:e.jsx("p",{className:"lead",children:h.description.en})}),h.description.pt&&e.jsx("div",{className:"tab-pane",id:"desc-pt",children:e.jsx("p",{className:"lead",children:h.description.pt})})]})]}),S&&S.length>1&&e.jsxs("div",{className:"property-gallery mb-5",children:[e.jsxs("h3",{className:"mb-4",children:[e.jsx("i",{className:"fas fa-images me-2"}),"Galería de Imágenes (",S.length," fotos)"]}),e.jsx("div",{className:"row",children:S.map((y,X)=>e.jsx("div",{className:"col-md-4 col-sm-6 mb-3",children:e.jsx("div",{className:"gallery-item",children:e.jsx("img",{src:y.src||"/img/logo.jpg",alt:`Imagen ${X+1}`,className:"img-fluid rounded shadow-sm",style:{width:"100%",height:"200px",objectFit:"cover",cursor:"pointer"},onClick:()=>$(X),onError:ne=>{console.log("❌ Error cargando imagen de galería:",ne.target.src),ne.target.src="/img/logo.jpg"}})})},X))})]}),O&&O.length>0&&e.jsxs("div",{className:"property-videos mb-5",children:[e.jsxs("h3",{className:"mb-4",children:[e.jsx("i",{className:"fas fa-video me-2"}),"Galería de Videos (",O.length," videos)"]}),e.jsx("div",{className:"row",children:O.map((y,X)=>e.jsx("div",{className:"col-md-6 col-lg-4 mb-3",children:e.jsx("div",{className:"video-item",children:e.jsxs("div",{className:"video-thumbnail",style:{width:"100%",height:"250px",position:"relative",cursor:y.hasValidSrc?"pointer":"default",backgroundColor:"#f8f9fa",borderRadius:"0.375rem",overflow:"hidden",opacity:y.hasValidSrc?1:.6},onClick:()=>y.hasValidSrc&&ie(y),children:[y.hasValidSrc&&y.src&&!y.src.includes("[VIDEO_TOO_LARGE_FOR_STORAGE]")?e.jsx("video",{src:y.src,style:{width:"100%",height:"100%",objectFit:"cover"},preload:"metadata",muted:!0,onError:ne=>{console.log("❌ Error cargando thumbnail de video:",y.name),ne.target.style.display="none",ne.target.nextSibling.style.display="flex"}}):null,e.jsxs("div",{className:"video-placeholder",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#e9ecef",display:!y.hasValidSrc||!y.src||y.src.includes("[VIDEO_TOO_LARGE_FOR_STORAGE]")?"flex":"none",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[e.jsx("i",{className:"fas fa-video fa-3x text-muted mb-2"}),e.jsxs("small",{className:"text-muted text-center",children:[y.name||`Video ${X+1}`,e.jsx("br",{}),e.jsx("span",{className:"text-warning",children:y.errorReason==="expired_blob"?"Video expirado (recarga la página)":y.errorReason==="too_large"?"Video demasiado grande para mostrar":y.errorReason==="processing_error"?"Error procesando video":y.isPlaceholder?"Video no disponible":"Preview no disponible"}),y.size&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsxs("span",{className:"text-info",children:[(y.size/(1024*1024)).toFixed(1)," MB"]})]})]})]}),y.hasValidSrc&&e.jsx("div",{className:"play-overlay",style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"60px",height:"60px",backgroundColor:"rgba(0, 0, 0, 0.7)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px",color:"white"},children:"▶"}),e.jsxs("div",{className:"video-info",style:{position:"absolute",bottom:0,left:0,right:0,background:"linear-gradient(transparent, rgba(0,0,0,0.8))",color:"white",padding:"1rem",fontSize:"0.9rem"},children:[e.jsx("div",{className:"fw-bold",children:y.name?y.name.length>25?`${y.name.substring(0,25)}...`:y.name:`Video ${X+1}`}),y.size&&e.jsxs("small",{className:"opacity-75",children:[(y.size/(1024*1024)).toFixed(1)," MB"]})]})]})})},X))})]})]}),e.jsx("div",{className:"col-lg-4",children:e.jsx("div",{className:"property-sidebar",children:e.jsx("div",{className:"card shadow",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"card-title mb-4",children:"Información de contacto"}),e.jsxs("div",{className:"contact-info",children:[e.jsxs("p",{className:"mb-3",children:[e.jsx("i",{className:"fas fa-whatsapp me-2 text-success"}),e.jsx("strong",{children:"WhatsApp:"}),e.jsx("br",{}),e.jsx("a",{href:"https://wa.me/541130021074",className:"text-decoration-none",target:"_blank",rel:"noopener noreferrer",children:"+54 11 3002-1074"})]}),e.jsxs("p",{className:"mb-4",children:[e.jsx("i",{className:"fas fa-envelope me-2 text-primary"}),e.jsx("strong",{children:"Email:"}),e.jsx("br",{}),e.jsx("a",{href:"mailto:andybuenosaires@gmail.com",className:"text-decoration-none",children:"andybuenosaires@gmail.com"})]})]}),e.jsxs("a",{href:"https://wa.me/541130021074",target:"_blank",rel:"noopener noreferrer",className:"btn btn-success w-100 text-decoration-none",children:[e.jsx("i",{className:"fab fa-whatsapp me-2"}),"Consultar por WhatsApp"]})]})})})})]})})}),M&&e.jsx(Zt,{images:S.map(y=>y.src),currentIndex:P,onClose:()=>E(!1),onNavigate:x}),C&&z&&e.jsxs("div",{className:"video-modal",children:[e.jsx("div",{className:"video-modal-overlay",onClick:()=>L(!1)}),e.jsxs("div",{className:"video-modal-content",children:[e.jsx("button",{className:"video-modal-close",onClick:()=>L(!1),style:{position:"absolute",top:"10px",right:"10px",background:"rgba(0,0,0,0.7)",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",fontSize:"18px",cursor:"pointer",zIndex:1001},children:"✕"}),e.jsx("div",{className:"video-container",style:{position:"relative",width:"100%",height:"100%"},children:z.src&&!z.src.includes("[VIDEO_TOO_LARGE_FOR_STORAGE]")?e.jsx("video",{src:z.src,controls:!0,autoPlay:!0,style:{width:"100%",height:"100%",maxWidth:"90vw",maxHeight:"90vh",objectFit:"contain"},onError:y=>{console.error("❌ Error cargando video en modal:",z.name)}}):e.jsxs("div",{style:{width:"400px",height:"300px",backgroundColor:"#f8f9fa",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",borderRadius:"8px"},children:[e.jsx("i",{className:"fas fa-video fa-3x text-muted mb-3"}),e.jsx("h5",{className:"text-muted",children:z.name}),e.jsxs("p",{className:"text-muted text-center",children:["Video no disponible para reproducción",e.jsx("br",{}),e.jsx("small",{children:"El archivo es demasiado grande o se perdió la referencia temporal"})]})]})}),e.jsxs("div",{className:"video-info-overlay",style:{position:"absolute",bottom:"10px",left:"10px",right:"10px",background:"rgba(0,0,0,0.8)",color:"white",padding:"1rem",borderRadius:"8px"},children:[e.jsx("h6",{className:"mb-1",children:z.name}),z.size&&e.jsxs("small",{className:"text-light",children:["Tamaño: ",(z.size/(1024*1024)).toFixed(1)," MB"]})]})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
              .video-modal {
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: 1000;
                display: flex;
                align-items: center;
                justify-content: center;
              }
              .video-modal-overlay {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.9);
              }
              .video-modal-content {
                position: relative;
                z-index: 1001;
                max-width: 95vw;
                max-height: 95vh;
                display: flex;
                align-items: center;
                justify-content: center;
              }
            `}})]})]}):(console.log("❌ DynamicProperty: Propiedad no encontrada:",{searchedId:c,availableProperties:Object.keys(f("")||{}),adminContextInitialized:!!f}),e.jsx(Rs,{title:"Propiedad no encontrada",message:`No se encontró la página para la propiedad: ${c}`}))},Xg=()=>{const[c,o]=p.useState(!1),f=()=>{o(!c)};return e.jsxs("footer",{className:"footer",children:[e.jsxs("div",{id:"contactanos",className:"contact-section",children:[e.jsx("h3",{children:"Contáctanos"}),e.jsxs("div",{className:"social-links",children:[e.jsxs("a",{href:"https://wa.me/+541130021074?text=Hola%20BAconfort,%20me%20interesa%20obtener%20información%20sobre%20sus%20departamentos%20en%20alquiler.%20¿Podría%20ayudarme?",target:"_blank",rel:"noopener noreferrer",className:"social-link whatsapp","aria-label":"WhatsApp de BAconfort",title:"Enviar mensaje por WhatsApp",children:[e.jsx(Qp,{}),e.jsx("span",{className:"whatsapp-tooltip",children:"Consultar disponibilidad"})]}),e.jsxs("a",{href:"mailto:andybuenosaires@gmail.com",className:"social-link email","aria-label":"Enviar email a BAconfort",title:"Enviar email a andybuenosaires@gmail.com",rel:"noopener","data-toggle":"tooltip","data-placement":"top",children:[e.jsx(ag,{}),e.jsx("span",{className:"email-tooltip",children:"andybuenosaires@gmail.com"})]}),e.jsx("button",{onClick:f,className:"social-link reservation","aria-label":"Formulario de Reserva",children:e.jsx(Kp,{})})]})]}),c&&e.jsx("div",{className:"footer-reservation-modal",children:e.jsxs("div",{className:"footer-reservation-content",children:[e.jsx("button",{className:"close-reservation-btn",onClick:f,children:"×"}),e.jsx(Xt,{apartmentName:"un departamento de BAconfort"})]})}),e.jsxs("p",{className:"credit",children:[e.jsx(eg,{})," Desarrollador | Roberto Gaona"]}),e.jsxs("div",{className:"footer-actions",children:[e.jsxs("a",{href:"/",className:"btn-volver",children:[e.jsx(sg,{})," Volver"]}),e.jsxs(He,{to:"/promociones",className:"btn-promociones",title:"Ver Promociones",children:[e.jsx(lg,{})," Promociones"]}),e.jsx(He,{to:"/admin",className:"btn-admin",title:"Panel de Administración",children:e.jsx(tg,{})})]})]})};function Qg(){return e.jsx(zp,{children:e.jsx(Pp,{children:e.jsx(xp,{children:e.jsxs("div",{className:"app",children:[e.jsx(p.Suspense,{fallback:e.jsx(Ms,{}),children:e.jsxs(jp,{children:[e.jsx(Ze,{path:"/",element:e.jsx(Xp,{})}),e.jsx(Ze,{path:"/promociones",element:e.jsx(Ng,{})}),e.jsx(Ze,{path:"/departamentos/moldes-1680",element:e.jsx(pg,{})}),e.jsx(Ze,{path:"/departamentos/santa-fe-3770",element:e.jsx(gg,{})}),e.jsx(Ze,{path:"/departamentos/dorrego-1548",element:e.jsx(xg,{})}),e.jsx(Ze,{path:"/departamentos/convencion-1994",element:e.jsx(jg,{})}),e.jsx(Ze,{path:"/departamentos/ugarteche-2824",element:e.jsx(vg,{})}),e.jsx(Ze,{path:"/departamentos/:propertyId",element:e.jsx(Zg,{})}),e.jsx(Ze,{path:"/my-reservations",element:e.jsx(Bg,{})}),e.jsx(Ze,{path:"/profile",element:e.jsx(vi,{children:e.jsx($g,{})})}),e.jsx(Ze,{path:"/reset-password",element:e.jsx(Vg,{})}),e.jsx(Ze,{path:"/verify-email",element:e.jsx(Gg,{})}),e.jsx(Ze,{path:"/payment/success",element:e.jsx(Fg,{})}),e.jsx(Ze,{path:"/payment/failure",element:e.jsx(Yg,{})}),e.jsx(Ze,{path:"/admin/access-required",element:e.jsx(Ip,{})}),e.jsx(Ze,{path:"/admin/new-property",element:e.jsx(vi,{adminOnly:!0,children:e.jsx(Bp,{})})}),e.jsx(Ze,{path:"/admin/manage-new-properties",element:e.jsx(vi,{adminOnly:!0,children:e.jsx(_p,{})})}),e.jsx(Ze,{path:"/admin",element:e.jsx(vi,{adminOnly:!0,children:e.jsx(Ig,{})})}),e.jsx(Ze,{path:"*",element:e.jsx(Rs,{})})]})}),e.jsx(Xg,{})]})})})})}const Kg=document.getElementById("root"),Jg=Sp.createRoot(Kg);Jg.render(e.jsx(Qg,{}));
